parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"k3vj":[function(require,module,exports) {
"use strict";const t=Object.prototype.toString;function r(r){return t.call(r).endsWith("Array]")}module.exports=r;
},{}],"u9bL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("is-any-array"));function r(e){return e&&e.__esModule?e:{default:e}}function t(r){if(!(0,e.default)(r))throw new TypeError("input must be an array");if(0===r.length)throw new TypeError("input must not be empty");for(var t=r[0],u=1;u<r.length;u++)r[u]>t&&(t=r[u]);return t}var u=t;exports.default=u;
},{"is-any-array":"k3vj"}],"zzsq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("is-any-array"));function r(e){return e&&e.__esModule?e:{default:e}}function t(r){if(!(0,e.default)(r))throw new TypeError("input must be an array");if(0===r.length)throw new TypeError("input must not be empty");for(var t=r[0],u=1;u<r.length;u++)r[u]<t&&(t=r[u]);return t}var u=t;exports.default=u;
},{"is-any-array":"k3vj"}],"LLeq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r=a(require("ml-array-max")),e=a(require("ml-array-min")),t=a(require("is-any-array"));function a(r){return r&&r.__esModule?r:{default:r}}function n(a){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(0,t.default)(a))throw new TypeError("input must be an array");if(0===a.length)throw new TypeError("input must not be empty");if(void 0!==o.output){if(!(0,t.default)(o.output))throw new TypeError("output option must be an array if specified");n=o.output}else n=new Array(a.length);var u=(0,e.default)(a),i=(0,r.default)(a);if(u===i)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var l=o.min,m=void 0===l?o.autoMinMax?u:0:l,f=o.max,p=void 0===f?o.autoMinMax?i:1:f;if(m>=p)throw new RangeError("min option must be smaller than max option");for(var s=(p-m)/(i-u),d=0;d<a.length;d++)n[d]=(a[d]-u)*s+m;return n}var o=n;exports.default=o;
},{"ml-array-max":"u9bL","ml-array-min":"zzsq","is-any-array":"k3vj"}],"w0TF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r=require("../index");class t{constructor(t){var e,o,i,s,a,n,u,f,c,l=(t=r.WrapperMatrix2D.checkMatrix(t)).clone(),v=l.rows,h=l.columns,g=new Array(v),w=1;for(e=0;e<v;e++)g[e]=e;for(f=new Array(v),o=0;o<h;o++){for(e=0;e<v;e++)f[e]=l.get(e,o);for(e=0;e<v;e++){for(c=Math.min(e,o),a=0,i=0;i<c;i++)a+=l.get(e,i)*f[i];f[e]-=a,l.set(e,o,f[e])}for(s=o,e=o+1;e<v;e++)Math.abs(f[e])>Math.abs(f[s])&&(s=e);if(s!==o){for(i=0;i<h;i++)n=l.get(s,i),l.set(s,i,l.get(o,i)),l.set(o,i,n);u=g[s],g[s]=g[o],g[o]=u,w=-w}if(o<v&&0!==l.get(o,o))for(e=o+1;e<v;e++)l.set(e,o,l.get(e,o)/l.get(o,o))}this.LU=l,this.pivotVector=g,this.pivotSign=w}isSingular(){for(var r=this.LU,t=r.columns,e=0;e<t;e++)if(0===r[e][e])return!0;return!1}solve(t){t=r.Matrix.checkMatrix(t);var e=this.LU;if(e.rows!==t.rows)throw new Error("Invalid matrix dimensions");if(this.isSingular())throw new Error("LU matrix is singular");var o,i,s,a=t.columns,n=t.subMatrixRow(this.pivotVector,0,a-1),u=e.columns;for(s=0;s<u;s++)for(o=s+1;o<u;o++)for(i=0;i<a;i++)n[o][i]-=n[s][i]*e[o][s];for(s=u-1;s>=0;s--){for(i=0;i<a;i++)n[s][i]/=e[s][s];for(o=0;o<s;o++)for(i=0;i<a;i++)n[o][i]-=n[s][i]*e[o][s]}return n}get determinant(){var r=this.LU;if(!r.isSquare())throw new Error("Matrix must be square");for(var t=this.pivotSign,e=r.columns,o=0;o<e;o++)t*=r[o][o];return t}get lowerTriangularMatrix(){for(var t=this.LU,e=t.rows,o=t.columns,i=new r.Matrix(e,o),s=0;s<e;s++)for(var a=0;a<o;a++)i[s][a]=s>a?t[s][a]:s===a?1:0;return i}get upperTriangularMatrix(){for(var t=this.LU,e=t.rows,o=t.columns,i=new r.Matrix(e,o),s=0;s<e;s++)for(var a=0;a<o;a++)i[s][a]=s<=a?t[s][a]:0;return i}get pivotPermutationVector(){return this.pivotVector.slice()}}exports.default=t;
},{"../index":"g7Xd"}],"XpUR":[function(require,module,exports) {
"use strict";function r(r,t){var e=0;return Math.abs(r)>Math.abs(t)?(e=t/r,Math.abs(r)*Math.sqrt(1+e*e)):0!==t?(e=r/t,Math.abs(t)*Math.sqrt(1+e*e)):0}function t(r,t,e){for(var a=new Array(r),s=0;s<r;s++){a[s]=new Array(t);for(var n=0;n<t;n++)a[s][n]=e}return a}Object.defineProperty(exports,"__esModule",{value:!0}),exports.hypotenuse=r,exports.getFilled2DArray=t;
},{}],"oFqC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../index"),e=require("./util");class r{constructor(r,s={}){var i=(r=t.WrapperMatrix2D.checkMatrix(r)).rows,a=r.columns;const{computeLeftSingularVectors:o=!0,computeRightSingularVectors:l=!0,autoTranspose:h=!1}=s;var f,n=Boolean(o),u=Boolean(l),M=!1;if(i<a)if(h){i=(f=r.transpose()).rows,a=f.columns,M=!0;var m=n;n=u,u=m}else f=r.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else f=r.clone();var g=Math.min(i,a),c=Math.min(i+1,a),b=new Array(c),x=(0,e.getFilled2DArray)(i,g,0),v=(0,e.getFilled2DArray)(a,a,0),p=new Array(a),d=new Array(i),w=new Array(c);for(let t=0;t<c;t++)w[t]=t;var N=Math.min(i-1,a),V=Math.max(0,Math.min(a-2,i)),y=Math.max(N,V);for(let t=0;t<y;t++){if(t<N){b[t]=0;for(let r=t;r<i;r++)b[t]=(0,e.hypotenuse)(b[t],f[r][t]);if(0!==b[t]){f[t][t]<0&&(b[t]=-b[t]);for(let e=t;e<i;e++)f[e][t]/=b[t];f[t][t]+=1}b[t]=-b[t]}for(let e=t+1;e<a;e++){if(t<N&&0!==b[t]){let r=0;for(let s=t;s<i;s++)r+=f[s][t]*f[s][e];r=-r/f[t][t];for(let s=t;s<i;s++)f[s][e]+=r*f[s][t]}p[e]=f[t][e]}if(n&&t<N)for(let e=t;e<i;e++)x[e][t]=f[e][t];if(t<V){p[t]=0;for(let r=t+1;r<a;r++)p[t]=(0,e.hypotenuse)(p[t],p[r]);if(0!==p[t]){p[t+1]<0&&(p[t]=0-p[t]);for(let e=t+1;e<a;e++)p[e]/=p[t];p[t+1]+=1}if(p[t]=-p[t],t+1<i&&0!==p[t]){for(let e=t+1;e<i;e++)d[e]=0;for(let e=t+1;e<i;e++)for(let r=t+1;r<a;r++)d[e]+=p[r]*f[e][r];for(let e=t+1;e<a;e++){let r=-p[e]/p[t+1];for(let s=t+1;s<i;s++)f[s][e]+=r*d[s]}}if(u)for(let e=t+1;e<a;e++)v[e][t]=p[e]}}let U=Math.min(a,i+1);if(N<a&&(b[N]=f[N][N]),i<U&&(b[U-1]=0),V+1<U&&(p[V]=f[V][U-1]),p[U-1]=0,n){for(let t=N;t<g;t++){for(let e=0;e<i;e++)x[e][t]=0;x[t][t]=1}for(let t=N-1;t>=0;t--)if(0!==b[t]){for(let e=t+1;e<g;e++){let r=0;for(let s=t;s<i;s++)r+=x[s][t]*x[s][e];r=-r/x[t][t];for(let s=t;s<i;s++)x[s][e]+=r*x[s][t]}for(let e=t;e<i;e++)x[e][t]=-x[e][t];x[t][t]=1+x[t][t];for(let e=0;e<t-1;e++)x[e][t]=0}else{for(let e=0;e<i;e++)x[e][t]=0;x[t][t]=1}}if(u)for(let t=a-1;t>=0;t--){if(t<V&&0!==p[t])for(let e=t+1;e<a;e++){let r=0;for(let s=t+1;s<a;s++)r+=v[s][t]*v[s][e];r=-r/v[t+1][t];for(let s=t+1;s<a;s++)v[s][e]+=r*v[s][t]}for(let e=0;e<a;e++)v[e][t]=0;v[t][t]=1}for(var A=U-1,S=Number.EPSILON;U>0;){let t,r;for(t=U-2;t>=-1&&-1!==t;t--){const e=Number.MIN_VALUE+S*Math.abs(b[t]+Math.abs(b[t+1]));if(Math.abs(p[t])<=e||Number.isNaN(p[t])){p[t]=0;break}}if(t===U-2)r=4;else{let e;for(e=U-1;e>=t&&e!==t;e--){let r=(e!==U?Math.abs(p[e]):0)+(e!==t+1?Math.abs(p[e-1]):0);if(Math.abs(b[e])<=S*r){b[e]=0;break}}e===t?r=3:e===U-1?r=1:(r=2,t=e)}switch(t++,r){case 1:{let r=p[U-2];p[U-2]=0;for(let s=U-2;s>=t;s--){let i=(0,e.hypotenuse)(b[s],r),o=b[s]/i,l=r/i;if(b[s]=i,s!==t&&(r=-l*p[s-1],p[s-1]=o*p[s-1]),u)for(let t=0;t<a;t++)i=o*v[t][s]+l*v[t][U-1],v[t][U-1]=-l*v[t][s]+o*v[t][U-1],v[t][s]=i}break}case 2:{let r=p[t-1];p[t-1]=0;for(let s=t;s<U;s++){let a=(0,e.hypotenuse)(b[s],r),o=b[s]/a,l=r/a;if(b[s]=a,r=-l*p[s],p[s]=o*p[s],n)for(let e=0;e<i;e++)a=o*x[e][s]+l*x[e][t-1],x[e][t-1]=-l*x[e][s]+o*x[e][t-1],x[e][s]=a}break}case 3:{const r=Math.max(Math.abs(b[U-1]),Math.abs(b[U-2]),Math.abs(p[U-2]),Math.abs(b[t]),Math.abs(p[t])),s=b[U-1]/r,o=b[U-2]/r,l=p[U-2]/r,h=b[t]/r,f=p[t]/r,M=((o+s)*(o-s)+l*l)/2,m=s*l*(s*l);let g=0;0===M&&0===m||(g=m/(M+(g=M<0?0-Math.sqrt(M*M+m):Math.sqrt(M*M+m))));let c=(h+s)*(h-s)+g,d=h*f;for(let w=t;w<U-1;w++){let r=(0,e.hypotenuse)(c,d);0===r&&(r=Number.MIN_VALUE);let s=c/r,o=d/r;if(w!==t&&(p[w-1]=r),c=s*b[w]+o*p[w],p[w]=s*p[w]-o*b[w],d=o*b[w+1],b[w+1]=s*b[w+1],u)for(let t=0;t<a;t++)r=s*v[t][w]+o*v[t][w+1],v[t][w+1]=-o*v[t][w]+s*v[t][w+1],v[t][w]=r;if(0===(r=(0,e.hypotenuse)(c,d))&&(r=Number.MIN_VALUE),s=c/r,o=d/r,b[w]=r,c=s*p[w]+o*b[w+1],b[w+1]=-o*p[w]+s*b[w+1],d=o*p[w+1],p[w+1]=s*p[w+1],n&&w<i-1)for(let t=0;t<i;t++)r=s*x[t][w]+o*x[t][w+1],x[t][w+1]=-o*x[t][w]+s*x[t][w+1],x[t][w]=r}p[U-2]=c,1;break}case 4:if(b[t]<=0&&(b[t]=b[t]<0?-b[t]:0,u))for(let e=0;e<=A;e++)v[e][t]=-v[e][t];for(;t<A&&!(b[t]>=b[t+1]);){let e=b[t];if(b[t]=b[t+1],b[t+1]=e,u&&t<a-1)for(let r=0;r<a;r++)e=v[r][t+1],v[r][t+1]=v[r][t],v[r][t]=e;if(n&&t<i-1)for(let r=0;r<i;r++)e=x[r][t+1],x[r][t+1]=x[r][t],x[r][t]=e;t++}0,U--}}if(M){var k=v;v=x,x=k}this.m=i,this.n=a,this.s=b,this.U=x,this.V=v}solve(e){var r=e,s=this.threshold,i=this.s.length,a=t.Matrix.zeros(i,i);for(let t=0;t<i;t++)Math.abs(this.s[t])<=s?a[t][t]=0:a[t][t]=1/this.s[t];var o=this.U,l=this.rightSingularVectors,h=l.mmul(a),f=l.rows,n=o.length,u=t.Matrix.zeros(f,n);for(let t=0;t<f;t++)for(let e=0;e<n;e++){let r=0;for(let s=0;s<i;s++)r+=h[t][s]*o[e][s];u[t][e]=r}return u.mmul(r)}solveForDiagonal(e){return this.solve(t.Matrix.diag(e))}inverse(){var e=this.V,r=this.threshold,s=e.length,i=e[0].length,a=new t.Matrix(s,this.s.length);for(let t=0;t<s;t++)for(let s=0;s<i;s++)Math.abs(this.s[s])>r?a[t][s]=e[t][s]/this.s[s]:a[t][s]=0;var o=this.U,l=o.length,h=o[0].length,f=new t.Matrix(s,l);for(let t=0;t<s;t++)for(let e=0;e<l;e++){let r=0;for(let s=0;s<h;s++)r+=a[t][s]*o[e][s];f[t][e]=r}return f}get condition(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}get norm2(){return this.s[0]}get rank(){for(var t=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,e=0,r=this.s,s=0,i=r.length;s<i;s++)r[s]>t&&e++;return e}get diagonal(){return this.s}get threshold(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}get leftSingularVectors(){return t.Matrix.isMatrix(this.U)||(this.U=new t.Matrix(this.U)),this.U}get rightSingularVectors(){return t.Matrix.isMatrix(this.V)||(this.V=new t.Matrix(this.V)),this.V}get diagonalMatrix(){return t.Matrix.diag(this.s)}}exports.default=r;
},{"../index":"g7Xd","./util":"XpUR"}],"XMpo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.checkRowIndex=o,exports.checkColumnIndex=n,exports.checkRowVector=t,exports.checkColumnVector=u,exports.checkIndices=s,exports.checkRowIndices=c,exports.checkColumnIndices=a,exports.checkRange=f,exports.getRange=i,exports.sumByRow=w,exports.sumByColumn=m,exports.sumAll=l;var r=e(require("./matrix"));function e(r){return r&&r.__esModule?r:{default:r}}function o(r,e,o){var n=o?r.rows:r.rows-1;if(e<0||e>n)throw new RangeError("Row index out of range")}function n(r,e,o){var n=o?r.columns:r.columns-1;if(e<0||e>n)throw new RangeError("Column index out of range")}function t(r,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==r.columns)throw new RangeError("vector size must be the same as the number of columns");return e}function u(r,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==r.rows)throw new RangeError("vector size must be the same as the number of rows");return e}function s(r,e,o){return{row:c(r,e),column:a(r,o)}}function c(r,e){if("object"!=typeof e)throw new TypeError("unexpected type for row indices");if(e.some(e=>e<0||e>=r.rows))throw new RangeError("row indices are out of range");return Array.isArray(e)||(e=Array.from(e)),e}function a(r,e){if("object"!=typeof e)throw new TypeError("unexpected type for column indices");if(e.some(e=>e<0||e>=r.columns))throw new RangeError("column indices are out of range");return Array.isArray(e)||(e=Array.from(e)),e}function f(r,e,o,n,t){if(5!==arguments.length)throw new RangeError("expected 4 arguments");if(h("startRow",e),h("endRow",o),h("startColumn",n),h("endColumn",t),e>o||n>t||e<0||e>=r.rows||o<0||o>=r.rows||n<0||n>=r.columns||t<0||t>=r.columns)throw new RangeError("Submatrix indices are out of range")}function i(r,e){for(var o=new Array(e-r+1),n=0;n<o.length;n++)o[n]=r+n;return o}function w(e){for(var o=r.default.zeros(e.rows,1),n=0;n<e.rows;++n)for(var t=0;t<e.columns;++t)o.set(n,0,o.get(n,0)+e.get(n,t));return o}function m(e){for(var o=r.default.zeros(1,e.columns),n=0;n<e.rows;++n)for(var t=0;t<e.columns;++t)o.set(0,t,o.get(0,t)+e.get(n,t));return o}function l(r){for(var e=0,o=0;o<r.rows;o++)for(var n=0;n<r.columns;n++)e+=r.get(o,n);return e}function h(r,e){if("number"!=typeof e)throw new TypeError(`${r} must be a number`)}
},{"./matrix":"M9sK"}],"ZLXi":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("../abstractMatrix")),t=r(require("../matrix"));function r(e){return e&&e.__esModule?e:{default:e}}class s extends((0,e.default)()){constructor(e,t,r){super(),this.matrix=e,this.rows=t,this.columns=r}static get[Symbol.species](){return t.default}}exports.default=s;
},{"../abstractMatrix":"2Ns1","../matrix":"M9sK"}],"+QVG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./base"));function t(e){return e&&e.__esModule?e:{default:e}}class r extends e.default{constructor(e){super(e,e.columns,e.rows)}set(e,t,r){return this.matrix.set(t,e,r),this}get(e,t){return this.matrix.get(t,e)}}exports.default=r;
},{"./base":"ZLXi"}],"j2ru":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./base"));function t(e){return e&&e.__esModule?e:{default:e}}class r extends e.default{constructor(e,t){super(e,1,e.columns),this.row=t}set(e,t,r){return this.matrix.set(this.row,t,r),this}get(e,t){return this.matrix.get(this.row,t)}}exports.default=r;
},{"./base":"ZLXi"}],"USxQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../util"),e=s(require("./base"));function s(t){return t&&t.__esModule?t:{default:t}}class r extends e.default{constructor(e,s,r,u,i){(0,t.checkRange)(e,s,r,u,i),super(e,r-s+1,i-u+1),this.startRow=s,this.startColumn=u}set(t,e,s){return this.matrix.set(this.startRow+t,this.startColumn+e,s),this}get(t,e){return this.matrix.get(this.startRow+t,this.startColumn+e)}}exports.default=r;
},{"../util":"XMpo","./base":"ZLXi"}],"Gs3S":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../util"),t=s(require("./base"));function s(e){return e&&e.__esModule?e:{default:e}}class r extends t.default{constructor(t,s,r){var i=(0,e.checkIndices)(t,s,r);super(t,i.row.length,i.column.length),this.rowIndices=i.row,this.columnIndices=i.column}set(e,t,s){return this.matrix.set(this.rowIndices[e],this.columnIndices[t],s),this}get(e,t){return this.matrix.get(this.rowIndices[e],this.columnIndices[t])}}exports.default=r;
},{"../util":"XMpo","./base":"ZLXi"}],"gAqk":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../util"),t=s(require("./base"));function s(e){return e&&e.__esModule?e:{default:e}}class r extends t.default{constructor(t,s){super(t,(s=(0,e.checkRowIndices)(t,s)).length,t.columns),this.rowIndices=s}set(e,t,s){return this.matrix.set(this.rowIndices[e],t,s),this}get(e,t){return this.matrix.get(this.rowIndices[e],t)}}exports.default=r;
},{"../util":"XMpo","./base":"ZLXi"}],"fOfz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../util"),t=s(require("./base"));function s(e){return e&&e.__esModule?e:{default:e}}class r extends t.default{constructor(t,s){s=(0,e.checkColumnIndices)(t,s),super(t,t.rows,s.length),this.columnIndices=s}set(e,t,s){return this.matrix.set(e,this.columnIndices[t],s),this}get(e,t){return this.matrix.get(e,this.columnIndices[t])}}exports.default=r;
},{"../util":"XMpo","./base":"ZLXi"}],"L97m":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./base"));function t(e){return e&&e.__esModule?e:{default:e}}class s extends e.default{constructor(e,t){super(e,e.rows,1),this.column=t}set(e,t,s){return this.matrix.set(e,this.column,s),this}get(e){return this.matrix.get(e,this.column)}}exports.default=s;
},{"./base":"ZLXi"}],"fUoc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./base"));function t(e){return e&&e.__esModule?e:{default:e}}class s extends e.default{constructor(e){super(e,e.rows,e.columns)}set(e,t,s){return this.matrix.set(this.rows-e-1,t,s),this}get(e,t){return this.matrix.get(this.rows-e-1,t)}}exports.default=s;
},{"./base":"ZLXi"}],"cdLx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./base"));function t(e){return e&&e.__esModule?e:{default:e}}class s extends e.default{constructor(e){super(e,e.rows,e.columns)}set(e,t,s){return this.matrix.set(e,this.columns-t-1,s),this}get(e,t){return this.matrix.get(e,this.columns-t-1)}}exports.default=s;
},{"./base":"ZLXi"}],"2Ns1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=f;var t=w(require("ml-array-rescale")),r=w(require("./dc/lu")),s=w(require("./dc/svd")),e=require("./util"),i=w(require("./views/transpose")),o=w(require("./views/row")),n=w(require("./views/sub")),h=w(require("./views/selection")),a=w(require("./views/rowSelection")),u=w(require("./views/columnSelection")),c=w(require("./views/column")),m=w(require("./views/flipRow")),l=w(require("./views/flipColumn"));function w(t){return t&&t.__esModule?t:{default:t}}function f(w){void 0===w&&(w=Object);class f extends w{static get[Symbol.species](){return this}static from1DArray(t,r,s){if(t*r!==s.length)throw new RangeError("Data length does not match given dimensions");for(var e=new this(t,r),i=0;i<t;i++)for(var o=0;o<r;o++)e.set(i,o,s[i*r+o]);return e}static rowVector(t){for(var r=new this(1,t.length),s=0;s<t.length;s++)r.set(0,s,t[s]);return r}static columnVector(t){for(var r=new this(t.length,1),s=0;s<t.length;s++)r.set(s,0,t[s]);return r}static empty(t,r){return new this(t,r)}static zeros(t,r){return this.empty(t,r).fill(0)}static ones(t,r){return this.empty(t,r).fill(1)}static rand(t,r,s){void 0===s&&(s=Math.random);for(var e=this.empty(t,r),i=0;i<t;i++)for(var o=0;o<r;o++)e.set(i,o,s());return e}static randInt(t,r,s,e){void 0===s&&(s=1e3),void 0===e&&(e=Math.random);for(var i=this.empty(t,r),o=0;o<t;o++)for(var n=0;n<r;n++){var h=Math.floor(e()*s);i.set(o,n,h)}return i}static eye(t,r,s){void 0===r&&(r=t),void 0===s&&(s=1);for(var e=Math.min(t,r),i=this.zeros(t,r),o=0;o<e;o++)i.set(o,o,s);return i}static diag(t,r,s){var e=t.length;void 0===r&&(r=e),void 0===s&&(s=r);for(var i=Math.min(e,r,s),o=this.zeros(r,s),n=0;n<i;n++)o.set(n,n,t[n]);return o}static min(t,r){t=this.checkMatrix(t),r=this.checkMatrix(r);for(var s=t.rows,e=t.columns,i=new this(s,e),o=0;o<s;o++)for(var n=0;n<e;n++)i.set(o,n,Math.min(t.get(o,n),r.get(o,n)));return i}static max(t,r){t=this.checkMatrix(t),r=this.checkMatrix(r);for(var s=t.rows,e=t.columns,i=new this(s,e),o=0;o<s;o++)for(var n=0;n<e;n++)i.set(o,n,Math.max(t.get(o,n),r.get(o,n)));return i}static checkMatrix(t){return f.isMatrix(t)?t:new this(t)}static isMatrix(t){return null!=t&&"Matrix"===t.klass}get size(){return this.rows*this.columns}apply(t){if("function"!=typeof t)throw new TypeError("callback must be a function");for(var r=this.rows,s=this.columns,e=0;e<r;e++)for(var i=0;i<s;i++)t.call(this,e,i);return this}to1DArray(){for(var t=new Array(this.size),r=0;r<this.rows;r++)for(var s=0;s<this.columns;s++)t[r*this.columns+s]=this.get(r,s);return t}to2DArray(){for(var t=new Array(this.rows),r=0;r<this.rows;r++){t[r]=new Array(this.columns);for(var s=0;s<this.columns;s++)t[r][s]=this.get(r,s)}return t}isRowVector(){return 1===this.rows}isColumnVector(){return 1===this.columns}isVector(){return 1===this.rows||1===this.columns}isSquare(){return this.rows===this.columns}isSymmetric(){if(this.isSquare()){for(var t=0;t<this.rows;t++)for(var r=0;r<=t;r++)if(this.get(t,r)!==this.get(r,t))return!1;return!0}return!1}isEchelonForm(){let t=0,r=0,s=-1,e=!0,i=!1;for(;t<this.rows&&e;){for(r=0,i=!1;r<this.columns&&!1===i;)0===this.get(t,r)?r++:1===this.get(t,r)&&r>s?(i=!0,s=r):(e=!1,i=!0);t++}return e}isReducedEchelonForm(){let t=0,r=0,s=-1,e=!0,i=!1;for(;t<this.rows&&e;){for(r=0,i=!1;r<this.columns&&!1===i;)0===this.get(t,r)?r++:1===this.get(t,r)&&r>s?(i=!0,s=r):(e=!1,i=!0);for(let s=r+1;s<this.rows;s++)0!==this.get(t,s)&&(e=!1);t++}return e}set(t,r,s){throw new Error("set method is unimplemented")}get(t,r){throw new Error("get method is unimplemented")}repeat(t,r){t=t||1,r=r||1;for(var s=new this.constructor[Symbol.species](this.rows*t,this.columns*r),e=0;e<t;e++)for(var i=0;i<r;i++)s.setSubMatrix(this,this.rows*e,this.columns*i);return s}fill(t){for(var r=0;r<this.rows;r++)for(var s=0;s<this.columns;s++)this.set(r,s,t);return this}neg(){return this.mulS(-1)}getRow(t){(0,e.checkRowIndex)(this,t);for(var r=new Array(this.columns),s=0;s<this.columns;s++)r[s]=this.get(t,s);return r}getRowVector(t){return this.constructor.rowVector(this.getRow(t))}setRow(t,r){(0,e.checkRowIndex)(this,t),r=(0,e.checkRowVector)(this,r);for(var s=0;s<this.columns;s++)this.set(t,s,r[s]);return this}swapRows(t,r){(0,e.checkRowIndex)(this,t),(0,e.checkRowIndex)(this,r);for(var s=0;s<this.columns;s++){var i=this.get(t,s);this.set(t,s,this.get(r,s)),this.set(r,s,i)}return this}getColumn(t){(0,e.checkColumnIndex)(this,t);for(var r=new Array(this.rows),s=0;s<this.rows;s++)r[s]=this.get(s,t);return r}getColumnVector(t){return this.constructor.columnVector(this.getColumn(t))}setColumn(t,r){(0,e.checkColumnIndex)(this,t),r=(0,e.checkColumnVector)(this,r);for(var s=0;s<this.rows;s++)this.set(s,t,r[s]);return this}swapColumns(t,r){(0,e.checkColumnIndex)(this,t),(0,e.checkColumnIndex)(this,r);for(var s=0;s<this.rows;s++){var i=this.get(s,t);this.set(s,t,this.get(s,r)),this.set(s,r,i)}return this}addRowVector(t){t=(0,e.checkRowVector)(this,t);for(var r=0;r<this.rows;r++)for(var s=0;s<this.columns;s++)this.set(r,s,this.get(r,s)+t[s]);return this}subRowVector(t){t=(0,e.checkRowVector)(this,t);for(var r=0;r<this.rows;r++)for(var s=0;s<this.columns;s++)this.set(r,s,this.get(r,s)-t[s]);return this}mulRowVector(t){t=(0,e.checkRowVector)(this,t);for(var r=0;r<this.rows;r++)for(var s=0;s<this.columns;s++)this.set(r,s,this.get(r,s)*t[s]);return this}divRowVector(t){t=(0,e.checkRowVector)(this,t);for(var r=0;r<this.rows;r++)for(var s=0;s<this.columns;s++)this.set(r,s,this.get(r,s)/t[s]);return this}addColumnVector(t){t=(0,e.checkColumnVector)(this,t);for(var r=0;r<this.rows;r++)for(var s=0;s<this.columns;s++)this.set(r,s,this.get(r,s)+t[r]);return this}subColumnVector(t){t=(0,e.checkColumnVector)(this,t);for(var r=0;r<this.rows;r++)for(var s=0;s<this.columns;s++)this.set(r,s,this.get(r,s)-t[r]);return this}mulColumnVector(t){t=(0,e.checkColumnVector)(this,t);for(var r=0;r<this.rows;r++)for(var s=0;s<this.columns;s++)this.set(r,s,this.get(r,s)*t[r]);return this}divColumnVector(t){t=(0,e.checkColumnVector)(this,t);for(var r=0;r<this.rows;r++)for(var s=0;s<this.columns;s++)this.set(r,s,this.get(r,s)/t[r]);return this}mulRow(t,r){(0,e.checkRowIndex)(this,t);for(var s=0;s<this.columns;s++)this.set(t,s,this.get(t,s)*r);return this}mulColumn(t,r){(0,e.checkColumnIndex)(this,t);for(var s=0;s<this.rows;s++)this.set(s,t,this.get(s,t)*r);return this}max(){for(var t=this.get(0,0),r=0;r<this.rows;r++)for(var s=0;s<this.columns;s++)this.get(r,s)>t&&(t=this.get(r,s));return t}maxIndex(){for(var t=this.get(0,0),r=[0,0],s=0;s<this.rows;s++)for(var e=0;e<this.columns;e++)this.get(s,e)>t&&(t=this.get(s,e),r[0]=s,r[1]=e);return r}min(){for(var t=this.get(0,0),r=0;r<this.rows;r++)for(var s=0;s<this.columns;s++)this.get(r,s)<t&&(t=this.get(r,s));return t}minIndex(){for(var t=this.get(0,0),r=[0,0],s=0;s<this.rows;s++)for(var e=0;e<this.columns;e++)this.get(s,e)<t&&(t=this.get(s,e),r[0]=s,r[1]=e);return r}maxRow(t){(0,e.checkRowIndex)(this,t);for(var r=this.get(t,0),s=1;s<this.columns;s++)this.get(t,s)>r&&(r=this.get(t,s));return r}maxRowIndex(t){(0,e.checkRowIndex)(this,t);for(var r=this.get(t,0),s=[t,0],i=1;i<this.columns;i++)this.get(t,i)>r&&(r=this.get(t,i),s[1]=i);return s}minRow(t){(0,e.checkRowIndex)(this,t);for(var r=this.get(t,0),s=1;s<this.columns;s++)this.get(t,s)<r&&(r=this.get(t,s));return r}minRowIndex(t){(0,e.checkRowIndex)(this,t);for(var r=this.get(t,0),s=[t,0],i=1;i<this.columns;i++)this.get(t,i)<r&&(r=this.get(t,i),s[1]=i);return s}maxColumn(t){(0,e.checkColumnIndex)(this,t);for(var r=this.get(0,t),s=1;s<this.rows;s++)this.get(s,t)>r&&(r=this.get(s,t));return r}maxColumnIndex(t){(0,e.checkColumnIndex)(this,t);for(var r=this.get(0,t),s=[0,t],i=1;i<this.rows;i++)this.get(i,t)>r&&(r=this.get(i,t),s[0]=i);return s}minColumn(t){(0,e.checkColumnIndex)(this,t);for(var r=this.get(0,t),s=1;s<this.rows;s++)this.get(s,t)<r&&(r=this.get(s,t));return r}minColumnIndex(t){(0,e.checkColumnIndex)(this,t);for(var r=this.get(0,t),s=[0,t],i=1;i<this.rows;i++)this.get(i,t)<r&&(r=this.get(i,t),s[0]=i);return s}diag(){for(var t=Math.min(this.rows,this.columns),r=new Array(t),s=0;s<t;s++)r[s]=this.get(s,s);return r}sum(t){switch(t){case"row":return(0,e.sumByRow)(this);case"column":return(0,e.sumByColumn)(this);default:return(0,e.sumAll)(this)}}mean(){return this.sum()/this.size}prod(){for(var t=1,r=0;r<this.rows;r++)for(var s=0;s<this.columns;s++)t*=this.get(r,s);return t}norm(t="frobenius"){var r=0;if("max"===t)return this.max();if("frobenius"===t){for(var s=0;s<this.rows;s++)for(var e=0;e<this.columns;e++)r+=this.get(s,e)*this.get(s,e);return Math.sqrt(r)}throw new RangeError(`unknown norm type: ${t}`)}cumulativeSum(){for(var t=0,r=0;r<this.rows;r++)for(var s=0;s<this.columns;s++)t+=this.get(r,s),this.set(r,s,t);return this}dot(t){f.isMatrix(t)&&(t=t.to1DArray());var r=this.to1DArray();if(r.length!==t.length)throw new RangeError("vectors do not have the same size");for(var s=0,e=0;e<r.length;e++)s+=r[e]*t[e];return s}mmul(t){t=this.constructor.checkMatrix(t),this.columns!==t.rows&&console.warn("Number of columns of left matrix are not equal to number of rows of right matrix.");for(var r=this.rows,s=this.columns,e=t.columns,i=new this.constructor[Symbol.species](r,e),o=new Array(s),n=0;n<e;n++){for(var h=0;h<s;h++)o[h]=t.get(h,n);for(var a=0;a<r;a++){var u=0;for(h=0;h<s;h++)u+=this.get(a,h)*o[h];i.set(a,n,u)}}return i}strassen2x2(t){var r=new this.constructor[Symbol.species](2,2);const s=this.get(0,0),e=t.get(0,0),i=this.get(0,1),o=t.get(0,1),n=this.get(1,0),h=t.get(1,0),a=this.get(1,1),u=t.get(1,1),c=(s+a)*(e+u),m=(n+a)*e,l=s*(o-u),w=a*(h-e),f=(s+i)*u,g=c+w-f+(i-a)*(h+u),v=l+f,d=m+w,x=c-m+l+(n-s)*(e+o);return r.set(0,0,g),r.set(0,1,v),r.set(1,0,d),r.set(1,1,x),r}strassen3x3(t){var r=new this.constructor[Symbol.species](3,3);const s=this.get(0,0),e=this.get(0,1),i=this.get(0,2),o=this.get(1,0),n=this.get(1,1),h=this.get(1,2),a=this.get(2,0),u=this.get(2,1),c=this.get(2,2),m=t.get(0,0),l=t.get(0,1),w=t.get(0,2),f=t.get(1,0),g=t.get(1,1),v=t.get(1,2),d=t.get(2,0),x=t.get(2,1),p=t.get(2,2),y=(s-o)*(-l+g),M=(-s+o+n)*(m-l+g),b=(o+n)*(-m+l),R=s*m,k=(-s+a+u)*(m-w+v),S=(-s+a)*(w-v),V=(a+u)*(-m+w),C=(-i+u+c)*(g+d-x),j=(i-c)*(g-x),I=i*d,q=(u+c)*(-d+x),E=(-i+n+h)*(v+d-p),$=(i-h)*(v-p),A=(n+h)*(-d+p),z=R+I+e*f,D=(s+e+i-o-n-u-c)*g+M+b+R+C+I+q,P=R+k+V+(s+e+i-n-h-a-u)*v+I+E+A,_=y+n*(-m+l+f-g-v-d+p)+M+R+I+E+$,F=y+M+b+R+h*x,N=I+E+$+A+o*w,O=R+k+S+u*(-m+w+f-g-v-d+x)+C+j+I,B=C+j+I+q+a*l,T=R+k+S+V+c*p;return r.set(0,0,z),r.set(0,1,D),r.set(0,2,P),r.set(1,0,_),r.set(1,1,F),r.set(1,2,N),r.set(2,0,O),r.set(2,1,B),r.set(2,2,T),r}mmulStrassen(t){var r=this.clone(),s=r.rows,e=r.columns,i=t.rows,o=t.columns;function n(t,r,s){var e=t.rows,i=t.columns;if(e===r&&i===s)return t;var o=f.zeros(r,s);return o=o.setSubMatrix(t,0,0)}e!==i&&console.warn(`Multiplying ${s} x ${e} and ${i} x ${o} matrix: dimensions do not match.`);var h=Math.max(s,i),a=Math.max(e,o);return function t(r,s,e,i){if(e<=512||i<=512)return r.mmul(s);e%2==1&&i%2==1?(r=n(r,e+1,i+1),s=n(s,e+1,i+1)):e%2==1?(r=n(r,e+1,i),s=n(s,e+1,i)):i%2==1&&(r=n(r,e,i+1),s=n(s,e,i+1));var o=parseInt(r.rows/2,10),h=parseInt(r.columns/2,10),a=r.subMatrix(0,o-1,0,h-1),u=s.subMatrix(0,o-1,0,h-1),c=r.subMatrix(0,o-1,h,r.columns-1),m=s.subMatrix(0,o-1,h,s.columns-1),l=r.subMatrix(o,r.rows-1,0,h-1),w=s.subMatrix(o,s.rows-1,0,h-1),g=r.subMatrix(o,r.rows-1,h,r.columns-1),v=s.subMatrix(o,s.rows-1,h,s.columns-1),d=t(f.add(a,g),f.add(u,v),o,h),x=t(f.add(l,g),u,o,h),p=t(a,f.sub(m,v),o,h),y=t(g,f.sub(w,u),o,h),M=t(f.add(a,c),v,o,h),b=t(f.sub(l,a),f.add(u,m),o,h),R=t(f.sub(c,g),f.add(w,v),o,h),k=f.add(d,y);k.sub(M),k.add(R);var S=f.add(p,M),V=f.add(x,y),C=f.sub(d,x);C.add(p),C.add(b);var j=f.zeros(2*k.rows,2*k.columns);return(j=(j=(j=(j=j.setSubMatrix(k,0,0)).setSubMatrix(S,k.rows,0)).setSubMatrix(V,0,k.columns)).setSubMatrix(C,k.rows,k.columns)).subMatrix(0,e-1,0,i-1)}(r=n(r,h,a),t=n(t,h,a),h,a)}scaleRows(r,s){if((r=void 0===r?0:r)>=(s=void 0===s?1:s))throw new RangeError("min should be strictly smaller than max");for(var e=this.constructor.empty(this.rows,this.columns),i=0;i<this.rows;i++){var o=(0,t.default)(this.getRow(i),{min:r,max:s});e.setRow(i,o)}return e}scaleColumns(r,s){if((r=void 0===r?0:r)>=(s=void 0===s?1:s))throw new RangeError("min should be strictly smaller than max");for(var e=this.constructor.empty(this.rows,this.columns),i=0;i<this.columns;i++){var o=(0,t.default)(this.getColumn(i),{min:r,max:s});e.setColumn(i,o)}return e}kroneckerProduct(t){t=this.constructor.checkMatrix(t);for(var r=this.rows,s=this.columns,e=t.rows,i=t.columns,o=new this.constructor[Symbol.species](r*e,s*i),n=0;n<r;n++)for(var h=0;h<s;h++)for(var a=0;a<e;a++)for(var u=0;u<i;u++)o[e*n+a][i*h+u]=this.get(n,h)*t.get(a,u);return o}transpose(){for(var t=new this.constructor[Symbol.species](this.columns,this.rows),r=0;r<this.rows;r++)for(var s=0;s<this.columns;s++)t.set(s,r,this.get(r,s));return t}sortRows(t){void 0===t&&(t=g);for(var r=0;r<this.rows;r++)this.setRow(r,this.getRow(r).sort(t));return this}sortColumns(t){void 0===t&&(t=g);for(var r=0;r<this.columns;r++)this.setColumn(r,this.getColumn(r).sort(t));return this}subMatrix(t,r,s,i){(0,e.checkRange)(this,t,r,s,i);for(var o=new this.constructor[Symbol.species](r-t+1,i-s+1),n=t;n<=r;n++)for(var h=s;h<=i;h++)o[n-t][h-s]=this.get(n,h);return o}subMatrixRow(t,r,s){if(void 0===r&&(r=0),void 0===s&&(s=this.columns-1),r>s||r<0||r>=this.columns||s<0||s>=this.columns)throw new RangeError("Argument out of range");for(var e=new this.constructor[Symbol.species](t.length,s-r+1),i=0;i<t.length;i++)for(var o=r;o<=s;o++){if(t[i]<0||t[i]>=this.rows)throw new RangeError(`Row index out of range: ${t[i]}`);e.set(i,o-r,this.get(t[i],o))}return e}subMatrixColumn(t,r,s){if(void 0===r&&(r=0),void 0===s&&(s=this.rows-1),r>s||r<0||r>=this.rows||s<0||s>=this.rows)throw new RangeError("Argument out of range");for(var e=new this.constructor[Symbol.species](s-r+1,t.length),i=0;i<t.length;i++)for(var o=r;o<=s;o++){if(t[i]<0||t[i]>=this.columns)throw new RangeError(`Column index out of range: ${t[i]}`);e.set(o-r,i,this.get(o,t[i]))}return e}setSubMatrix(t,r,s){var i=r+(t=this.constructor.checkMatrix(t)).rows-1,o=s+t.columns-1;(0,e.checkRange)(this,r,i,s,o);for(var n=0;n<t.rows;n++)for(var h=0;h<t.columns;h++)this[r+n][s+h]=t.get(n,h);return this}selection(t,r){for(var s=(0,e.checkIndices)(this,t,r),i=new this.constructor[Symbol.species](t.length,r.length),o=0;o<s.row.length;o++)for(var n=s.row[o],h=0;h<s.column.length;h++){var a=s.column[h];i[o][h]=this.get(n,a)}return i}trace(){for(var t=Math.min(this.rows,this.columns),r=0,s=0;s<t;s++)r+=this.get(s,s);return r}transposeView(){return new i.default(this)}rowView(t){return(0,e.checkRowIndex)(this,t),new o.default(this,t)}columnView(t){return(0,e.checkColumnIndex)(this,t),new c.default(this,t)}flipRowView(){return new m.default(this)}flipColumnView(){return new l.default(this)}subMatrixView(t,r,s,e){return new n.default(this,t,r,s,e)}selectionView(t,r){return new h.default(this,t,r)}rowSelectionView(t){return new a.default(this,t)}columnSelectionView(t){return new u.default(this,t)}det(){var t,s,e,i,o,n;if(this.isSquare())return 2===this.columns?(t=this.get(0,0),s=this.get(0,1),e=this.get(1,0),t*this.get(1,1)-s*e):3===this.columns?(i=this.selectionView([1,2],[1,2]),o=this.selectionView([1,2],[0,2]),n=this.selectionView([1,2],[0,1]),t=this.get(0,0),s=this.get(0,1),e=this.get(0,2),t*i.det()-s*o.det()+e*n.det()):new r.default(this).determinant;throw Error("Determinant can only be calculated for a square matrix.")}pseudoInverse(t){void 0===t&&(t=Number.EPSILON);for(var r=new s.default(this,{autoTranspose:!0}),e=r.leftSingularVectors,i=r.rightSingularVectors,o=r.diagonal,n=0;n<o.length;n++)Math.abs(o[n])>t?o[n]=1/o[n]:o[n]=0;return o=this.constructor[Symbol.species].diag(o),i.mmul(o.mmul(e.transposeView()))}clone(){for(var t=new this.constructor[Symbol.species](this.rows,this.columns),r=0;r<this.rows;r++)for(var s=0;s<this.columns;s++)t.set(r,s,this.get(r,s));return t}}function g(t,r){return t-r}f.prototype.klass="Matrix",f.random=f.rand,f.diagonal=f.diag,f.prototype.diagonal=f.prototype.diag,f.identity=f.eye,f.prototype.negate=f.prototype.neg,f.prototype.tensorProduct=f.prototype.kroneckerProduct,f.prototype.determinant=f.prototype.det;var v,d="\n(function %name%(matrix, %args%) {\n    var newMatrix = new this[Symbol.species](matrix);\n    return newMatrix.%name%(%args%);\n})\n",x=eval;for(var p of[["+","add"],["-","sub","subtract"],["*","mul","multiply"],["/","div","divide"],["%","mod","modulus"],["&","and"],["|","or"],["^","xor"],["<<","leftShift"],[">>","signPropagatingRightShift"],[">>>","rightShift","zeroFillRightShift"]]){var y=x(_("\n(function %name%(value) {\n    if (typeof value === 'number') return this.%name%S(value);\n    return this.%name%M(value);\n})\n",{name:p[1],op:p[0]})),M=x(_("\n(function %name%S(value) {\n    for (var i = 0; i < this.rows; i++) {\n        for (var j = 0; j < this.columns; j++) {\n            this.set(i, j, this.get(i, j) %op% value);\n        }\n    }\n    return this;\n})\n",{name:`${p[1]}S`,op:p[0]})),b=x(_("\n(function %name%M(matrix) {\n    matrix = this.constructor.checkMatrix(matrix);\n    if (this.rows !== matrix.rows ||\n        this.columns !== matrix.columns) {\n        throw new RangeError('Matrices dimensions must be equal');\n    }\n    for (var i = 0; i < this.rows; i++) {\n        for (var j = 0; j < this.columns; j++) {\n            this.set(i, j, this.get(i, j) %op% matrix.get(i, j));\n        }\n    }\n    return this;\n})\n",{name:`${p[1]}M`,op:p[0]})),R=x(_("\n(function %name%(matrix, value) {\n    var newMatrix = new this[Symbol.species](matrix);\n    return newMatrix.%name%(value);\n})\n",{name:p[1]}));for(v=1;v<p.length;v++)f.prototype[p[v]]=y,f.prototype[`${p[v]}S`]=M,f.prototype[`${p[v]}M`]=b,f[p[v]]=R}var k=[["~","not"]];for(var S of(["abs","acos","acosh","asin","asinh","atan","atanh","cbrt","ceil","clz32","cos","cosh","exp","expm1","floor","fround","log","log1p","log10","log2","round","sign","sin","sinh","sqrt","tan","tanh","trunc"].forEach(function(t){k.push([`Math.${t}`,t])}),k)){var V=x(_("\n(function %name%() {\n    for (var i = 0; i < this.rows; i++) {\n        for (var j = 0; j < this.columns; j++) {\n            this.set(i, j, %method%(this.get(i, j)));\n        }\n    }\n    return this;\n})\n",{name:S[1],method:S[0]})),C=x(_("\n(function %name%(matrix) {\n    var newMatrix = new this[Symbol.species](matrix);\n    return newMatrix.%name%();\n})\n",{name:S[1]}));for(v=1;v<S.length;v++)f.prototype[S[v]]=V,f[S[v]]=C}for(var j of[["Math.pow",1,"pow"]]){var I="arg0";for(v=1;v<j[1];v++)I+=`, arg${v}`;if(1!==j[1]){var q=x(_("\n(function %name%(%args%) {\n    for (var i = 0; i < this.rows; i++) {\n        for (var j = 0; j < this.columns; j++) {\n            this.set(i, j, %method%(this.get(i, j), %args%));\n        }\n    }\n    return this;\n})\n",{name:j[2],method:j[0],args:I})),E=x(_(d,{name:j[2],args:I}));for(v=2;v<j.length;v++)f.prototype[j[v]]=q,f[j[v]]=E}else{var $={name:j[2],args:I,method:j[0]},A=x(_("\n(function %name%(value) {\n    if (typeof value === 'number') return this.%name%S(value);\n    return this.%name%M(value);\n})\n",$)),z=x(_("\n(function %name%S(value) {\n    for (var i = 0; i < this.rows; i++) {\n        for (var j = 0; j < this.columns; j++) {\n            this.set(i, j, %method%(this.get(i, j), value));\n        }\n    }\n    return this;\n})\n",$)),D=x(_("\n(function %name%M(matrix) {\n    matrix = this.constructor.checkMatrix(matrix);\n    if (this.rows !== matrix.rows ||\n        this.columns !== matrix.columns) {\n        throw new RangeError('Matrices dimensions must be equal');\n    }\n    for (var i = 0; i < this.rows; i++) {\n        for (var j = 0; j < this.columns; j++) {\n            this.set(i, j, %method%(this.get(i, j), matrix.get(i, j)));\n        }\n    }\n    return this;\n})\n",$)),P=x(_("\n(function %name%(matrix, %args%) {\n    var newMatrix = new this[Symbol.species](matrix);\n    return newMatrix.%name%(%args%);\n})\n",$));for(v=2;v<j.length;v++)f.prototype[j[v]]=A,f.prototype[`${j[v]}M`]=D,f.prototype[`${j[v]}S`]=z,f[j[v]]=P}}function _(t,r){for(var s in r)t=t.replace(new RegExp(`%${s}%`,"g"),r[s]);return t}return f}
},{"ml-array-rescale":"LLeq","./dc/lu":"w0TF","./dc/svd":"oFqC","./util":"XMpo","./views/transpose":"+QVG","./views/row":"j2ru","./views/sub":"USxQ","./views/selection":"Gs3S","./views/rowSelection":"gAqk","./views/columnSelection":"fOfz","./views/column":"L97m","./views/flipRow":"fUoc","./views/flipColumn":"cdLx"}],"M9sK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./abstractMatrix")),r=require("./util");function t(e){return e&&e.__esModule?e:{default:e}}class s extends((0,e.default)(Array)){constructor(e,r){var t;if(1===arguments.length&&"number"==typeof e)return new Array(e);if(s.isMatrix(e))return e.clone();if(Number.isInteger(e)&&e>0){if(super(e),!(Number.isInteger(r)&&r>0))throw new TypeError("nColumns must be a positive integer");for(t=0;t<e;t++)this[t]=new Array(r)}else{if(!Array.isArray(e))throw new TypeError("First argument must be a positive number or an array");{const s=e;if(e=s.length,"number"!=typeof(r=s[0].length)||0===r)throw new TypeError("Data must be a 2D array with at least one element");for(super(e),t=0;t<e;t++){if(s[t].length!==r)throw new RangeError("Inconsistent array dimensions");this[t]=[].concat(s[t])}}}return this.rows=e,this.columns=r,this}set(e,r,t){return this[e][r]=t,this}get(e,r){return this[e][r]}removeRow(e){if((0,r.checkRowIndex)(this,e),1===this.rows)throw new RangeError("A matrix cannot have less than one row");return this.splice(e,1),this.rows-=1,this}addRow(e,t){return void 0===t&&(t=e,e=this.rows),(0,r.checkRowIndex)(this,e,!0),t=(0,r.checkRowVector)(this,t,!0),this.splice(e,0,t),this.rows+=1,this}removeColumn(e){if((0,r.checkColumnIndex)(this,e),1===this.columns)throw new RangeError("A matrix cannot have less than one column");for(var t=0;t<this.rows;t++)this[t].splice(e,1);return this.columns-=1,this}addColumn(e,t){void 0===t&&(t=e,e=this.columns),(0,r.checkColumnIndex)(this,e,!0),t=(0,r.checkColumnVector)(this,t);for(var s=0;s<this.rows;s++)this[s].splice(e,0,t[s]);return this.columns+=1,this}}exports.default=s;
},{"./abstractMatrix":"2Ns1","./util":"XMpo"}],"nSg8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("../abstractMatrix")),e=r(require("../matrix"));function r(t){return t&&t.__esModule?t:{default:t}}class s extends((0,t.default)()){constructor(t,e={}){const{rows:r=1}=e;if(t.length%r!=0)throw new Error("the data length is not divisible by the number of rows");super(),this.rows=r,this.columns=t.length/r,this.data=t}set(t,e,r){var s=this._calculateIndex(t,e);return this.data[s]=r,this}get(t,e){var r=this._calculateIndex(t,e);return this.data[r]}_calculateIndex(t,e){return t*this.columns+e}static get[Symbol.species](){return e.default}}exports.default=s;
},{"../abstractMatrix":"2Ns1","../matrix":"M9sK"}],"Cl7u":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("../abstractMatrix")),e=r(require("../matrix"));function r(t){return t&&t.__esModule?t:{default:t}}class s extends((0,t.default)()){constructor(t){super(),this.data=t,this.rows=t.length,this.columns=t[0].length}set(t,e,r){return this.data[t][e]=r,this}get(t,e){return this.data[t][e]}static get[Symbol.species](){return e.default}}exports.default=s;
},{"../abstractMatrix":"2Ns1","../matrix":"M9sK"}],"lmEE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.wrap=a;var r=t(require("./WrapperMatrix1D")),e=t(require("./WrapperMatrix2D"));function t(r){return r&&r.__esModule?r:{default:r}}function a(t,a){if(Array.isArray(t))return t[0]&&Array.isArray(t[0])?new e.default(t):new r.default(t,a);throw new Error("the argument is not an array")}
},{"./WrapperMatrix1D":"nSg8","./WrapperMatrix2D":"Cl7u"}],"/vk0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r=require("../index"),t=require("./util");class e{constructor(e){var o,i,s,a,f=(e=r.WrapperMatrix2D.checkMatrix(e)).clone(),n=e.rows,u=e.columns,l=new Array(u);for(s=0;s<u;s++){var c=0;for(o=s;o<n;o++)c=(0,t.hypotenuse)(c,f.get(o,s));if(0!==c){for(f.get(s,s)<0&&(c=-c),o=s;o<n;o++)f.set(o,s,f.get(o,s)/c);for(f.set(s,s,f.get(s,s)+1),i=s+1;i<u;i++){for(a=0,o=s;o<n;o++)a+=f.get(o,s)*f.get(o,i);for(a=-a/f.get(s,s),o=s;o<n;o++)f.set(o,i,f.get(o,i)+a*f.get(o,s))}}l[s]=-c}this.QR=f,this.Rdiag=l}solve(t){t=r.Matrix.checkMatrix(t);var e=this.QR,o=e.rows;if(t.rows!==o)throw new Error("Matrix row dimensions must agree");if(!this.isFullRank())throw new Error("Matrix is rank deficient");var i,s,a,f,n=t.columns,u=t.clone(),l=e.columns;for(a=0;a<l;a++)for(s=0;s<n;s++){for(f=0,i=a;i<o;i++)f+=e[i][a]*u[i][s];for(f=-f/e[a][a],i=a;i<o;i++)u[i][s]+=f*e[i][a]}for(a=l-1;a>=0;a--){for(s=0;s<n;s++)u[a][s]/=this.Rdiag[a];for(i=0;i<a;i++)for(s=0;s<n;s++)u[i][s]-=u[a][s]*e[i][a]}return u.subMatrix(0,l-1,0,n-1)}isFullRank(){for(var r=this.QR.columns,t=0;t<r;t++)if(0===this.Rdiag[t])return!1;return!0}get upperTriangularMatrix(){var t,e,o=this.QR,i=o.columns,s=new r.Matrix(i,i);for(t=0;t<i;t++)for(e=0;e<i;e++)s[t][e]=t<e?o[t][e]:t===e?this.Rdiag[t]:0;return s}get orthogonalMatrix(){var t,e,o,i,s=this.QR,a=s.rows,f=s.columns,n=new r.Matrix(a,f);for(o=f-1;o>=0;o--){for(t=0;t<a;t++)n[t][o]=0;for(n[o][o]=1,e=o;e<f;e++)if(0!==s[o][o]){for(i=0,t=o;t<a;t++)i+=s[t][o]*n[t][e];for(i=-i/s[o][o],t=o;t<a;t++)n[t][e]+=i*s[t][o]}}return n}}exports.default=e;
},{"../index":"g7Xd","./util":"XpUR"}],"NKzx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.inverse=a,exports.solve=n;var e=i(require("./dc/lu")),r=i(require("./dc/qr")),t=i(require("./dc/svd")),u=require("./index");function i(e){return e&&e.__esModule?e:{default:e}}function a(e,r=!1){return e=u.WrapperMatrix2D.checkMatrix(e),r?new t.default(e).inverse():n(e,u.Matrix.eye(e.rows))}function n(i,a,n=!1){return i=u.WrapperMatrix2D.checkMatrix(i),a=u.WrapperMatrix2D.checkMatrix(a),n?new t.default(i).solve(a):i.isSquare()?new e.default(i).solve(a):new r.default(i).solve(a)}
},{"./dc/lu":"w0TF","./dc/qr":"/vk0","./dc/svd":"oFqC","./index":"g7Xd"}],"KL3f":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.linearDependencies=s;var e=o(require("ml-array-max")),r=o(require("./matrix")),t=o(require("./dc/svd"));function o(e){return e&&e.__esModule?e:{default:e}}function u(e,r){for(var t=[],o=0;o<e;o++)o!==r&&t.push(o);return t}function a(e,r,t,o=1e-9,u=1e-9){if(e>u)return new Array(r.rows+1).fill(0);for(var a=r.addRow(t,[0]),s=0;s<a.rows;s++)Math.abs(a.get(s,0))<o&&a.set(s,0,0);return a.to1DArray()}function s(o,s={}){const{thresholdValue:n=1e-9,thresholdError:l=1e-9}=s;for(var d=o.rows,f=new r.default(d,d),i=0;i<d;i++){var c=r.default.columnVector(o.getRow(i)),w=o.subMatrixRow(u(d,i)).transposeView(),v=new t.default(w).solve(c),h=(0,e.default)(r.default.sub(c,w.mmul(v)).abs().to1DArray());f.setRow(i,a(h,v,i,n,l))}return f}
},{"ml-array-max":"u9bL","./matrix":"M9sK","./dc/svd":"oFqC"}],"vWSd":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r=require("../index"),a=require("./util");class t{constructor(t,h={}){const{assumeSymmetric:i=!1}=h;if(!(t=r.WrapperMatrix2D.checkMatrix(t)).isSquare())throw new Error("Matrix is not a square matrix");var M,b,n=t.columns,u=(0,a.getFilled2DArray)(n,n,0),l=new Array(n),c=new Array(n),x=t;if(!!i||t.isSymmetric()){for(M=0;M<n;M++)for(b=0;b<n;b++)u[M][b]=x.get(M,b);f(n,c,l,u),o(n,c,l,u)}else{var m=(0,a.getFilled2DArray)(n,n,0),v=new Array(n);for(b=0;b<n;b++)for(M=0;M<n;M++)m[M][b]=x.get(M,b);s(n,m,v,u),e(n,c,l,u,m)}this.n=n,this.e=c,this.d=l,this.V=u}get realEigenvalues(){return this.d}get imaginaryEigenvalues(){return this.e}get eigenvectorMatrix(){return r.Matrix.isMatrix(this.V)||(this.V=new r.Matrix(this.V)),this.V}get diagonalMatrix(){var a,t,f=this.n,o=this.e,s=this.d,e=new r.Matrix(f,f);for(a=0;a<f;a++){for(t=0;t<f;t++)e[a][t]=0;e[a][a]=s[a],o[a]>0?e[a][a+1]=o[a]:o[a]<0&&(e[a][a-1]=o[a])}return e}}function f(r,a,t,f){var o,s,e,h,i,M,b,n;for(i=0;i<r;i++)t[i]=f[r-1][i];for(h=r-1;h>0;h--){for(n=0,e=0,M=0;M<h;M++)n+=Math.abs(t[M]);if(0===n)for(a[h]=t[h-1],i=0;i<h;i++)t[i]=f[h-1][i],f[h][i]=0,f[i][h]=0;else{for(M=0;M<h;M++)t[M]/=n,e+=t[M]*t[M];for(o=t[h-1],s=Math.sqrt(e),o>0&&(s=-s),a[h]=n*s,e-=o*s,t[h-1]=o-s,i=0;i<h;i++)a[i]=0;for(i=0;i<h;i++){for(o=t[i],f[i][h]=o,s=a[i]+f[i][i]*o,M=i+1;M<=h-1;M++)s+=f[M][i]*t[M],a[M]+=f[M][i]*o;a[i]=s}for(o=0,i=0;i<h;i++)a[i]/=e,o+=a[i]*t[i];for(b=o/(e+e),i=0;i<h;i++)a[i]-=b*t[i];for(i=0;i<h;i++){for(o=t[i],s=a[i],M=i;M<=h-1;M++)f[M][i]-=o*a[M]+s*t[M];t[i]=f[h-1][i],f[h][i]=0}}t[h]=e}for(h=0;h<r-1;h++){if(f[r-1][h]=f[h][h],f[h][h]=1,0!==(e=t[h+1])){for(M=0;M<=h;M++)t[M]=f[M][h+1]/e;for(i=0;i<=h;i++){for(s=0,M=0;M<=h;M++)s+=f[M][h+1]*f[M][i];for(M=0;M<=h;M++)f[M][i]-=s*t[M]}}for(M=0;M<=h;M++)f[M][h+1]=0}for(i=0;i<r;i++)t[i]=f[r-1][i],f[r-1][i]=0;f[r-1][r-1]=1,a[0]=0}function o(r,t,f,o){var s,e,h,i,M,b,n,u,l,c,x,m,v,d,g,y;for(h=1;h<r;h++)t[h-1]=t[h];t[r-1]=0;var q=0,p=0,w=Number.EPSILON;for(b=0;b<r;b++){for(p=Math.max(p,Math.abs(f[b])+Math.abs(t[b])),n=b;n<r&&!(Math.abs(t[n])<=w*p);)n++;if(n>b){0;do{for(1,s=f[b],u=(f[b+1]-s)/(2*t[b]),l=(0,a.hypotenuse)(u,1),u<0&&(l=-l),f[b]=t[b]/(u+l),f[b+1]=t[b]*(u+l),c=f[b+1],e=s-f[b],h=b+2;h<r;h++)f[h]-=e;for(q+=e,u=f[n],m=x=1,v=x,d=t[b+1],g=0,y=0,h=n-1;h>=b;h--)for(v=m,m=x,y=g,s=x*t[h],e=x*u,l=(0,a.hypotenuse)(u,t[h]),t[h+1]=g*l,g=t[h]/l,u=(x=u/l)*f[h]-g*s,f[h+1]=e+g*(x*s+g*f[h]),M=0;M<r;M++)e=o[M][h+1],o[M][h+1]=g*o[M][h]+x*e,o[M][h]=x*o[M][h]-g*e;u=-g*y*v*d*t[b]/c,t[b]=g*u,f[b]=x*u}while(Math.abs(t[b])>w*p)}f[b]=f[b]+q,t[b]=0}for(h=0;h<r-1;h++){for(M=h,u=f[h],i=h+1;i<r;i++)f[i]<u&&(M=i,u=f[i]);if(M!==h)for(f[M]=f[h],f[h]=u,i=0;i<r;i++)u=o[i][h],o[i][h]=o[i][M],o[i][M]=u}}function s(r,a,t,f){var o,s,e,h,i,M,b,n=r-1;for(M=1;M<=n-1;M++){for(b=0,h=M;h<=n;h++)b+=Math.abs(a[h][M-1]);if(0!==b){for(e=0,h=n;h>=M;h--)t[h]=a[h][M-1]/b,e+=t[h]*t[h];for(s=Math.sqrt(e),t[M]>0&&(s=-s),e-=t[M]*s,t[M]=t[M]-s,i=M;i<r;i++){for(o=0,h=n;h>=M;h--)o+=t[h]*a[h][i];for(o/=e,h=M;h<=n;h++)a[h][i]-=o*t[h]}for(h=0;h<=n;h++){for(o=0,i=n;i>=M;i--)o+=t[i]*a[h][i];for(o/=e,i=M;i<=n;i++)a[h][i]-=o*t[i]}t[M]=b*t[M],a[M][M-1]=b*s}}for(h=0;h<r;h++)for(i=0;i<r;i++)f[h][i]=h===i?1:0;for(M=n-1;M>=1;M--)if(0!==a[M][M-1]){for(h=M+1;h<=n;h++)t[h]=a[h][M-1];for(i=M;i<=n;i++){for(s=0,h=M;h<=n;h++)s+=t[h]*f[h][i];for(s=s/t[M]/a[M][M-1],h=M;h<=n;h++)f[h][i]+=s*t[h]}}}function e(r,a,t,f,o){var s,e,i,M,b,n,u,l,c,x,m,v,d,g,y,q=r-1,p=r-1,w=Number.EPSILON,A=0,E=0,S=0,V=0,N=0,D=0,O=0,P=0;for(s=0;s<r;s++)for((s<0||s>p)&&(t[s]=o[s][s],a[s]=0),e=Math.max(s-1,0);e<r;e++)E+=Math.abs(o[s][e]);for(;q>=0;){for(M=q;M>0&&(0===(D=Math.abs(o[M-1][M-1])+Math.abs(o[M][M]))&&(D=E),!(Math.abs(o[M][M-1])<w*D));)M--;if(M===q)o[q][q]=o[q][q]+A,t[q]=o[q][q],a[q]=0,q--,P=0;else if(M===q-1){if(u=o[q][q-1]*o[q-1][q],V=(S=(o[q-1][q-1]-o[q][q])/2)*S+u,O=Math.sqrt(Math.abs(V)),o[q][q]=o[q][q]+A,o[q-1][q-1]=o[q-1][q-1]+A,l=o[q][q],V>=0){for(O=S>=0?S+O:S-O,t[q-1]=l+O,t[q]=t[q-1],0!==O&&(t[q]=l-u/O),a[q-1]=0,a[q]=0,S=(l=o[q][q-1])/(D=Math.abs(l)+Math.abs(O)),V=O/D,S/=N=Math.sqrt(S*S+V*V),V/=N,e=q-1;e<r;e++)O=o[q-1][e],o[q-1][e]=V*O+S*o[q][e],o[q][e]=V*o[q][e]-S*O;for(s=0;s<=q;s++)O=o[s][q-1],o[s][q-1]=V*O+S*o[s][q],o[s][q]=V*o[s][q]-S*O;for(s=0;s<=p;s++)O=f[s][q-1],f[s][q-1]=V*O+S*f[s][q],f[s][q]=V*f[s][q]-S*O}else t[q-1]=l+S,t[q]=l+S,a[q-1]=O,a[q]=-O;q-=2,P=0}else{if(l=o[q][q],c=0,u=0,M<q&&(c=o[q-1][q-1],u=o[q][q-1]*o[q-1][q]),10===P){for(A+=l,s=0;s<=q;s++)o[s][s]-=l;l=c=.75*(D=Math.abs(o[q][q-1])+Math.abs(o[q-1][q-2])),u=-.4375*D*D}if(30===P&&(D=(D=(c-l)/2)*D+u)>0){for(D=Math.sqrt(D),c<l&&(D=-D),D=l-u/((c-l)/2+D),s=0;s<=q;s++)o[s][s]-=D;A+=D,l=c=u=.964}for(P+=1,b=q-2;b>=M&&(S=((N=l-(O=o[b][b]))*(D=c-O)-u)/o[b+1][b]+o[b][b+1],V=o[b+1][b+1]-O-N-D,N=o[b+2][b+1],S/=D=Math.abs(S)+Math.abs(V)+Math.abs(N),V/=D,N/=D,b!==M)&&!(Math.abs(o[b][b-1])*(Math.abs(V)+Math.abs(N))<w*(Math.abs(S)*(Math.abs(o[b-1][b-1])+Math.abs(O)+Math.abs(o[b+1][b+1]))));)b--;for(s=b+2;s<=q;s++)o[s][s-2]=0,s>b+2&&(o[s][s-3]=0);for(i=b;i<=q-1&&(g=i!==q-1,i!==b&&(S=o[i][i-1],V=o[i+1][i-1],N=g?o[i+2][i-1]:0,0!==(l=Math.abs(S)+Math.abs(V)+Math.abs(N))&&(S/=l,V/=l,N/=l)),0!==l);i++)if(D=Math.sqrt(S*S+V*V+N*N),S<0&&(D=-D),0!==D){for(i!==b?o[i][i-1]=-D*l:M!==b&&(o[i][i-1]=-o[i][i-1]),l=(S+=D)/D,c=V/D,O=N/D,V/=S,N/=S,e=i;e<r;e++)S=o[i][e]+V*o[i+1][e],g&&(S+=N*o[i+2][e],o[i+2][e]=o[i+2][e]-S*O),o[i][e]=o[i][e]-S*l,o[i+1][e]=o[i+1][e]-S*c;for(s=0;s<=Math.min(q,i+3);s++)S=l*o[s][i]+c*o[s][i+1],g&&(S+=O*o[s][i+2],o[s][i+2]=o[s][i+2]-S*N),o[s][i]=o[s][i]-S,o[s][i+1]=o[s][i+1]-S*V;for(s=0;s<=p;s++)S=l*f[s][i]+c*f[s][i+1],g&&(S+=O*f[s][i+2],f[s][i+2]=f[s][i+2]-S*N),f[s][i]=f[s][i]-S,f[s][i+1]=f[s][i+1]-S*V}}}if(0!==E){for(q=r-1;q>=0;q--)if(S=t[q],0===(V=a[q]))for(M=q,o[q][q]=1,s=q-1;s>=0;s--){for(u=o[s][s]-S,N=0,e=M;e<=q;e++)N+=o[s][e]*o[e][q];if(a[s]<0)O=u,D=N;else if(M=s,0===a[s]?o[s][q]=0!==u?-N/u:-N/(w*E):(l=o[s][s+1],c=o[s+1][s],n=(l*D-O*N)/(V=(t[s]-S)*(t[s]-S)+a[s]*a[s]),o[s][q]=n,o[s+1][q]=Math.abs(l)>Math.abs(O)?(-N-u*n)/l:(-D-c*n)/O),w*(n=Math.abs(o[s][q]))*n>1)for(e=s;e<=q;e++)o[e][q]=o[e][q]/n}else if(V<0)for(M=q-1,Math.abs(o[q][q-1])>Math.abs(o[q-1][q])?(o[q-1][q-1]=V/o[q][q-1],o[q-1][q]=-(o[q][q]-S)/o[q][q-1]):(y=h(0,-o[q-1][q],o[q-1][q-1]-S,V),o[q-1][q-1]=y[0],o[q-1][q]=y[1]),o[q][q-1]=0,o[q][q]=1,s=q-2;s>=0;s--){for(x=0,m=0,e=M;e<=q;e++)x+=o[s][e]*o[e][q-1],m+=o[s][e]*o[e][q];if(u=o[s][s]-S,a[s]<0)O=u,N=x,D=m;else if(M=s,0===a[s]?(y=h(-x,-m,u,V),o[s][q-1]=y[0],o[s][q]=y[1]):(l=o[s][s+1],c=o[s+1][s],v=(t[s]-S)*(t[s]-S)+a[s]*a[s]-V*V,d=2*(t[s]-S)*V,0===v&&0===d&&(v=w*E*(Math.abs(u)+Math.abs(V)+Math.abs(l)+Math.abs(c)+Math.abs(O))),y=h(l*N-O*x+V*m,l*D-O*m-V*x,v,d),o[s][q-1]=y[0],o[s][q]=y[1],Math.abs(l)>Math.abs(O)+Math.abs(V)?(o[s+1][q-1]=(-x-u*o[s][q-1]+V*o[s][q])/l,o[s+1][q]=(-m-u*o[s][q]-V*o[s][q-1])/l):(y=h(-N-c*o[s][q-1],-D-c*o[s][q],O,V),o[s+1][q-1]=y[0],o[s+1][q]=y[1])),w*(n=Math.max(Math.abs(o[s][q-1]),Math.abs(o[s][q])))*n>1)for(e=s;e<=q;e++)o[e][q-1]=o[e][q-1]/n,o[e][q]=o[e][q]/n}for(s=0;s<r;s++)if(s<0||s>p)for(e=s;e<r;e++)f[s][e]=o[s][e];for(e=r-1;e>=0;e--)for(s=0;s<=p;s++){for(O=0,i=0;i<=Math.min(e,p);i++)O+=f[s][i]*o[i][e];f[s][e]=O}}}function h(r,a,t,f){var o,s;return Math.abs(t)>Math.abs(f)?[(r+(o=f/t)*a)/(s=t+o*f),(a-o*r)/s]:[((o=t/f)*r+a)/(s=f+o*t),(o*a-r)/s]}exports.default=t;
},{"../index":"g7Xd","./util":"XpUR"}],"aPli":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r=require("../index");class t{constructor(t){if(!(t=r.WrapperMatrix2D.checkMatrix(t)).isSymmetric())throw new Error("Matrix is not symmetric");var e,o,i,a=t,s=a.rows,n=new r.Matrix(s,s),f=!0;for(o=0;o<s;o++){var c=n[o],x=0;for(i=0;i<o;i++){var M=n[i],h=0;for(e=0;e<i;e++)h+=M[e]*c[e];c[i]=h=(a.get(o,i)-h)/n[i][i],x+=h*h}for(f&=(x=a.get(o,o)-x)>0,n[o][o]=Math.sqrt(Math.max(x,0)),i=o+1;i<s;i++)n[o][i]=0}if(!f)throw new Error("Matrix is not positive definite");this.L=n}solve(t){t=r.WrapperMatrix2D.checkMatrix(t);var e=this.L,o=e.rows;if(t.rows!==o)throw new Error("Matrix dimensions do not match");var i,a,s,n=t.columns,f=t.clone();for(s=0;s<o;s++)for(a=0;a<n;a++){for(i=0;i<s;i++)f[s][a]-=f[i][a]*e[s][i];f[s][a]/=e[s][s]}for(s=o-1;s>=0;s--)for(a=0;a<n;a++){for(i=s+1;i<o;i++)f[s][a]-=f[i][a]*e[i][s];f[s][a]/=e[s][s]}return f}get lowerTriangularMatrix(){return this.L}}exports.default=t;
},{"../index":"g7Xd"}],"g7Xd":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"default",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(exports,"Matrix",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(exports,"abstractMatrix",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(exports,"wrap",{enumerable:!0,get:function(){return t.wrap}}),Object.defineProperty(exports,"WrapperMatrix2D",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(exports,"WrapperMatrix1D",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(exports,"solve",{enumerable:!0,get:function(){return o.solve}}),Object.defineProperty(exports,"inverse",{enumerable:!0,get:function(){return o.inverse}}),Object.defineProperty(exports,"linearDependencies",{enumerable:!0,get:function(){return i.linearDependencies}}),Object.defineProperty(exports,"SingularValueDecomposition",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(exports,"SVD",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(exports,"EigenvalueDecomposition",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(exports,"EVD",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(exports,"CholeskyDecomposition",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(exports,"CHO",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(exports,"LuDecomposition",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(exports,"LU",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(exports,"QrDecomposition",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(exports,"QR",{enumerable:!0,get:function(){return d.default}});var e=l(require("./matrix")),r=l(require("./abstractMatrix")),t=require("./wrap/wrap"),n=l(require("./wrap/WrapperMatrix2D")),u=l(require("./wrap/WrapperMatrix1D")),o=require("./decompositions"),i=require("./linearDependencies"),a=l(require("./dc/svd.js")),p=l(require("./dc/evd.js")),c=l(require("./dc/cholesky.js")),f=l(require("./dc/lu.js")),d=l(require("./dc/qr.js"));function l(e){return e&&e.__esModule?e:{default:e}}
},{"./matrix":"M9sK","./abstractMatrix":"2Ns1","./wrap/wrap":"lmEE","./wrap/WrapperMatrix2D":"Cl7u","./wrap/WrapperMatrix1D":"nSg8","./decompositions":"NKzx","./linearDependencies":"KL3f","./dc/svd.js":"oFqC","./dc/evd.js":"vWSd","./dc/cholesky.js":"aPli","./dc/lu.js":"w0TF","./dc/qr.js":"/vk0"}],"4llS":[function(require,module,exports) {
"use strict";function e(e,t){return e<0?(e=0-e,"number"==typeof t?`- ${e.toPrecision(t)}`:`- ${e.toString()}`):"number"==typeof t?e.toPrecision(t):e.toString()}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"++uo":[function(require,module,exports) {
"use strict";function r(r,e){if(!Array.isArray(r)||!Array.isArray(e))throw new TypeError("x and y must be arrays");if(r.length!==e.length)throw new RangeError("x and y arrays must have the same length")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;
},{}],"tAU3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"maybeToPrecision",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(exports,"checkArrayLength",{enumerable:!0,get:function(){return e.default}}),exports.default=void 0;var r=t(require("./maybeToPrecision")),e=t(require("./checkArrayLength"));function t(r){return r&&r.__esModule?r:{default:r}}class n{constructor(){if(new.target===n)throw new Error("BaseRegression must be subclassed")}predict(r){if("number"==typeof r)return this._predict(r);if(Array.isArray(r)){const e=new Array(r.length);for(let t=0;t<r.length;t++)e[t]=this._predict(r[t]);return e}throw new TypeError("x must be a number or array")}_predict(){throw new Error("_predict must be implemented")}train(){}toString(){return""}toLaTeX(){return""}score(r,e){if(!Array.isArray(r)||!Array.isArray(e)||r.length!==e.length)throw new Error("x and y must be arrays of the same length");const t=r.length,n=new Array(t);for(let h=0;h<t;h++)n[h]=this._predict(r[h]);let o=0,s=0,a=0,i=0,u=0,c=0,l=0;for(let h=0;h<t;h++)o+=n[h],s+=e[h],u+=n[h]*n[h],c+=e[h]*e[h],l+=n[h]*e[h],0!==e[h]&&(a+=(e[h]-n[h])*(e[h]-n[h])/e[h]),i+=(e[h]-n[h])*(e[h]-n[h]);const d=(t*l-o*s)/Math.sqrt((t*u-o*o)*(t*c-s*s));return{r:d,r2:d*d,chi2:a,rmsd:Math.sqrt(i/t)}}}exports.default=n;
},{"./maybeToPrecision":"4llS","./checkArrayLength":"++uo"}],"XX61":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=s(require("ml-matrix")),r=e(require("ml-regression-base"));function e(t){return t&&t.__esModule?t:{default:t}}function s(t){if(t&&t.__esModule)return t;var r={};if(null!=t)for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e)){var s=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,e):{};s.get||s.set?Object.defineProperty(r,e,s):r[e]=t[e]}return r.default=t,r}class i extends r.default{constructor(r,e,s={}){const{intercept:i=!0,statistics:o=!0}=s;if(super(),this.statistics=o,!0===r)this.weights=e.weights,this.inputs=e.inputs,this.outputs=e.outputs,this.intercept=e.intercept;else{r=new t.default(r),i&&r.addColumn(new Array(r.length).fill(1));const s=new t.SVD(r,{autoTranspose:!0}).solve(e);if(this.weights=s.to2DArray(),this.inputs=r[0].length,this.outputs=e[0].length,i&&this.inputs--,this.intercept=i,o){const i=r.mmul(s),o=new t.default(e).addM(i.neg()).to2DArray().map(t=>Math.pow(t[0],2)).reduce((t,r)=>t+r)/(e.length-r.columns);this.stdError=Math.sqrt(o),this.stdErrorMatrix=r.transposeView().mmul(r).pseudoInverse().mul(o),this.stdErrors=this.stdErrorMatrix.diagonal().map(t=>Math.sqrt(t)),this.tStats=this.weights.map((t,r)=>0===this.stdErrors[r]?0:t[0]/this.stdErrors[r])}}}predict(t){if(Array.isArray(t)){if("number"==typeof t[0])return this._predict(t);if(Array.isArray(t[0])){const r=new Array(t.length);for(let e=0;e<t.length;e++)r[e]=this._predict(t[e]);return r}}throw new TypeError("x must be a matrix or array of numbers")}_predict(t){const r=new Array(this.outputs);if(this.intercept)for(let e=0;e<this.outputs;e++)r[e]=this.weights[this.inputs][e];else r.fill(0);for(let e=0;e<this.inputs;e++)for(let s=0;s<this.outputs;s++)r[s]+=this.weights[e][s]*t[e];return r}score(){throw new Error("score method is not implemented yet")}toJSON(){return{name:"multivariateLinearRegression",weights:this.weights,inputs:this.inputs,outputs:this.outputs,intercept:this.intercept,summary:this.statistics?{regressionStatistics:{standardError:this.stdError,observations:this.outputs},variables:this.weights.map((t,r)=>({label:r===this.weights.length-1?"Intercept":`X Variable ${r+1}`,coefficients:t,standardError:this.stdErrors[r],tStat:this.tStats[r]}))}:void 0}}static load(t){if("multivariateLinearRegression"!==t.name)throw new Error("not a MLR model");return new i(!0,t)}}exports.default=i;
},{"ml-matrix":"g7Xd","ml-regression-base":"tAU3"}],"epB2":[function(require,module,exports) {
"use strict";var e=r(require("ml-regression-multivariate-linear"));function r(e){return e&&e.__esModule?e:{default:e}}var t=[[0,0],[1,2],[2,3],[3,4]],i=[[0,0,0],[2,4,3],[4,6,5],[6,8,7]],l=new e.default(t,i);window.MLR=e.default,console.log(l.predict([3,3]));
},{"ml-regression-multivariate-linear":"XX61"}]},{},["epB2"], null)
//# sourceMappingURL=/main.js.map