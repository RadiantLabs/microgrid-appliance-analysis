(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{185:function(e,t,a){e.exports={borderless:"borderlessTableStyles_borderless__1aRvi"}},456:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAUCAYAAACTQC2+AAAAAXNSR0IArs4c6QAAAAlwSFlzAAALEwAACxMBAJqcGAAABCJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIgogICAgICAgICAgICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyI+CiAgICAgICAgIDx0aWZmOlJlc29sdXRpb25Vbml0PjI8L3RpZmY6UmVzb2x1dGlvblVuaXQ+CiAgICAgICAgIDx0aWZmOkNvbXByZXNzaW9uPjU8L3RpZmY6Q29tcHJlc3Npb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjcyPC90aWZmOlhSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICAgICA8dGlmZjpZUmVzb2x1dGlvbj43MjwvdGlmZjpZUmVzb2x1dGlvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjI2PC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6Q29sb3JTcGFjZT4xPC9leGlmOkNvbG9yU3BhY2U+CiAgICAgICAgIDxleGlmOlBpeGVsWURpbWVuc2lvbj4yMDwvZXhpZjpQaXhlbFlEaW1lbnNpb24+CiAgICAgICAgIDxkYzpzdWJqZWN0PgogICAgICAgICAgICA8cmRmOkJhZy8+CiAgICAgICAgIDwvZGM6c3ViamVjdD4KICAgICAgICAgPHhtcDpNb2RpZnlEYXRlPjIwMTktMDItMDdUMTI6MDI6OTY8L3htcDpNb2RpZnlEYXRlPgogICAgICAgICA8eG1wOkNyZWF0b3JUb29sPlBpeGVsbWF0b3IgMy4zPC94bXA6Q3JlYXRvclRvb2w+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgotwlGDAAAEUElEQVRIDb1VTWxUVRQ+9+fNtEOZ0plEB2sjwdb+EWlCgsaEuENXLmrqotafpguCxh0Y3cB01QUiUYSkJBipEBPrQrZoqjEQXZg0VSuhljRaqNR0GigZZua9d+/1O286Q6bTLvXkvXlvzr3n++53zrn3Ef1PJpjn1CfnJqUUvc46R4QLJoSUxrr5hbmlV0+fzq5Fzi1+Tp4506aEN0GWMoi35WmChJJKkhl/5/ChU5qdYNsthOh2wpGUipRSJHGXCkUvnW6WW+BX3U3GxAraezrWEE85aykMQ3JYs5KgIfcIT4yIQAUtDioEGWv+ttbMUCCVIPcnPdFX5Im/Dj/ZJpzXR0q0aYf5ob1lSf3SOzH7V6mpfY0eLF4JSqUUy0HcPhIyzZhQGKVonYihiDzPI2PMN7k7i8P8P3v8uLsx2Jl+baTnGAn3cmCpXRFJVh4q4RqlnZ8b6blc+O69E3snZgazo6MilUp5Lpb4Wiv9ojWGYSKrIao4s9lslOeFu5/tKCYaxpGB/hAeLqGC6rI5EZLoiCk64nSwOzfUMZy+NL+GWNeSSXA5aqwu/5AbzfmSSJXubcvGhOzPQwoutInAw/0AvqtIUMjkeR8JVKJ/OeYdjZB7erg+G3mojqiyjL1DT+0Rwg4FFg0CJzJVQMbeXbpZfGHm/v2D6Kn3taQiI6I7Weng9Jtdu7I08DBfFTA864jQEFHxXFzsA1CKQTTaAnLmjLVTO9uTOzubUxk/cFNQtsBjBi9SuMcT0nbTJLRyETfYpjXiOca4trjHrI58E8V1KSm+NaEvoyCPXOCoWa5DYixGIbVuwK/+3ZJoE6msK4HWrQ6hFD6qnsdqPGx2BV2KBoC9UsWvvmxJpKW6xSnhGnB6rHVLAD4spfunZKXWLNaGTmq5w4byXuCMjvn+fPb3SUXRFq1yRC/V1VXclY6xvvkZmzyHlFCI1OGIekwK8ZKzYiWxPZhOSvEHDpj9IBxV2mS6Lty4tvuLheVU6g6XiNdXY3VEldGZi3O/oXs/9zhhuEDGIg4JKa5S3pvKO/cT3B+D/Fkt5cT14a4jKJdczWTqGoEx64gQDHyiV9APtHL9mG/spQYtiO/ozCVqxXqfQxt2oENheMM+kC58wLGzHMcdtMFqalQ+m0Rs7OzZlngxJi43i+D5qXNvpRrXZiSJARzF3ej2JkZB+QhqlwNrp0OKfXThwNi1sf23W3Qu55HwVBnrIVsNURAEjHCwUXhXKEG6oWRuftX39hsfHH39xOxI73npbKdvaJckl1DKrfqhnNfbw7mLBz5Mtq4s4TDxHoUWCDcdWED0FahQRUSQr/nTYDGIXKTxiUjDQYVCManD2zFMzveen13F88f1uxIfPcf3LCaLJJ6JxxtasKmJD1NWpJQmZ8rbISKSSn+K7dzKRef0GhPiDiQquNyZyRRqUDf5kwuCu9uUdzII/STwy/XhgqHvnVbfbxLy37n+BbVQ5TcXmagWAAAAAElFTkSuQmCC"},478:function(e,t,a){e.exports={columnIndicator:"styles_columnIndicator__3LE4S"}},485:function(e,t){e.exports="data:image/png;base64,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"},486:function(e,t,a){e.exports=a.p+"static/media/radiant-labs-logo@256w.bf1c8a50.png"},487:function(e,t,a){e.exports=a.p+"static/media/minigrid-software-diagram.313d5ff4.png"},520:function(e,t,a){e.exports=a(875)},674:function(e,t,a){},871:function(e,t,a){},873:function(e,t,a){},875:function(e,t,a){"use strict";a.r(t);a(521),a(553);var n=a(0),l=a.n(n),r=a(48),i=a.n(r);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o=a(125),c=a(158),s=a(11),u=a(35),m=a(243),p=a(315),d=a(447),E=a(326),y=a(490),f=a(181),h=a.n(f),g=a(489);function b(){var e=Object(m.a)(["\n  mutation addTodo($item: String) {\n    addTodo(item: $item) @client\n  }\n"]);return b=function(){return e},e}function C(){var e=Object(m.a)(["\n  mutation clearTodo {\n    clearTodo @client\n  }\n"]);return C=function(){return e},e}function v(){var e=Object(m.a)(["\n  query GetTodo {\n    currentTodos @client\n  }\n"]);return v=function(){return e},e}var A={currentTodos:[]},w=h()(v()),x=h()(C()),O=h()(b()),I=new p.a,T=Object(y.a)({cache:I,defaults:A,resolvers:{Mutation:{addTodo:function(e,t,a){var n=t.item,l=a.cache,r=w,i=l.readQuery({query:r}).currentTodos.concat(n);return l.writeQuery({query:r,data:{currentTodos:i}}),null},clearTodo:function(e,t,a){return a.cache.writeQuery({query:w,data:A}),null}}}}),k=new E.a({link:d.ApolloLink.from([T]),cache:I}),S={props:function(e){var t=e.ownProps,a=e.data.currentTodos,n=void 0===a?[]:a;return Object(u.a)({},t,{currentTodos:n})}},j=(Object(g.a)(Object(c.b)(w,S),Object(c.b)(O,{name:"addTodoMutation"}),Object(c.b)(x,{name:"clearTodoMutation"})),a(43)),R=a.n(j),P=a(2),M=a.n(P),L=a(10),D=a(9),U=a(244),F=a(151),G=a(104),q=a.n(G),z=a(142),B=a.n(z),W=a(152),N=a(64),H=[{id:"12-50 Baseline_2019-02-16T20:33:55.583-07:00",timestamp:"2019-02-16T20:33:55.583-07:00",fileType:"homer",name:"12-50 Baseline",size:2097646,isSample:!0,attributes:{label:"12-50 Baseline",description:"Baseline: Fill in HOMER file description.",wholesaleElectricityCost:.1,retailElectricityPrice:.45,unmetLoadCostPerKwh:.35}},{id:"12-50 Oversize 20_2019-02-16T20:34:25.937-07:00",timestamp:"2019-02-16T20:34:25.937-07:00",fileType:"homer",name:"12-50 Oversize 20",size:2084662,isSample:!0,attributes:{label:"12-50 Oversize 20",description:"Oversized: Fill in HOMER file description.",wholesaleElectricityCost:.2,retailElectricityPrice:.45,unmetLoadCostPerKwh:.35}},{id:"12-50 Undersize 20_2019-02-16T20:34:53.869-07:00",timestamp:"2019-02-16T20:34:53.869-07:00",fileType:"homer",name:"12-50 Undersize 20",size:2108574,isSample:!0,attributes:{label:"12-50 Undersize 20",description:"Undersized: Fill in HOMER file description.",wholesaleElectricityCost:.3,retailElectricityPrice:.45,unmetLoadCostPerKwh:.35}}],V=[{id:"rice_mill_usage_profile_2019-02-16T20:33:55.583-07:00",fileType:"appliance",applianceType:"rice_mill",name:"rice_mill_usage_profile",size:465709,isSample:!0,attributes:{label:"Rice Mill (Tanzania)",description:"Rice mill usage profile from downloaded UTC file usage (Tanzania)",capex:1200,capexAssignment:"appliance",powerType:"DC",phase:3,hasMotor:!0,powerFactor:.8,nominalPower:2.3,dutyCycleDerateFactor:.2,productionUnitType:"kg",productionUnitsPerKwh:136,revenuePerProductionUnits:.021}},{id:"maize_mill_usage_profile_1_20_2019-02-16T20:34:25.937-07:00",fileType:"appliance",applianceType:"maize_mill",name:"maize_mill_usage_profile_1",size:438101,isSample:!0,attributes:{label:"Maize Mill 1 (Tanzania)",description:"Maize mill usage profile (1) from downloaded UTC file (Tanzania)",capex:1e3,capexAssignment:"appliance",powerType:"AC",phase:3,hasMotor:!0,powerFactor:.8,nominalPower:2.2,dutyCycleDerateFactor:.2,productionUnitType:"kg",productionUnitsPerKwh:136,revenuePerProductionUnits:.021}},{id:"maize_mill_usage_profile_2_20_2019-02-16T20:34:53.869-07:00",fileType:"appliance",applianceType:"maize_mill",name:"maize_mill_usage_profile_2",size:465121,isSample:!0,attributes:{label:"Maize Mill 2 (Tanzania)",description:"Maize mill usage profile (2) from downloaded UTC sensor file (Tanzania)",capex:1e3,capexAssignment:"appliance",powerType:"AC",phase:3,hasMotor:!0,powerFactor:.8,nominalPower:2.2,dutyCycleDerateFactor:.2,productionUnitType:"kg",productionUnitsPerKwh:136,revenuePerProductionUnits:.021}},{id:"welder_usage_profile_20_2019-02-16T20:34:25.947-07:00",fileType:"appliance",applianceType:"welder",name:"welder_usage_profile",size:429487,isSample:!0,attributes:{label:"Welder (Tanzania)",description:"Welder usage profile from downloaded UTC sensor file (Tanzania)",capex:500,capexAssignment:"grid",powerType:"AC",phase:3,hasMotor:!1,powerFactor:1,nominalPower:2.2,dutyCycleDerateFactor:.2,productionUnitType:"hr",productionUnitsPerKwh:136,revenuePerProductionUnits:.022}}],K=[{equipmentType:"powerConverter",label:"AC to DC Power Converter",description:"A power converter converts AC power to DC power. An example may be converting AC grid electricity to power a fan driven by a DC motor"},{equipmentType:"inverter",label:"DC to AC Inverter",description:"An inverter converts DC power to AC power. An example may be converting DC power from a battery to electrify an AC powered printer."},{equipmentType:"vfd",label:"Variable Frequency Drive",description:"A variable frequency drive provides AC three phase frequency variation for motor speed control, reduction of starting torque, and inrush current relief. An example may be a VFD upstream of an industrial blower to control flow rates depending on operational conditions."},{equipmentType:"softStarter",label:"Soft Starter",description:"A softstarter slowly ramps up AC voltage when starting a motor to reduce starting torque and provide inrush current relief. An example may be a softstarter upstream of a pump to limit inrush current and water hammer throughout a system."},{equipmentType:"directOnlineStarter",label:"Direct On-line Starter",description:"A direct on line starter is a power shut off switch upstream of an AC motor that prevents overloading and short circuits."},{equipmentType:"starDeltaStarter",label:"Star Delta Starter",description:"A star delta starter raises AC voltage in fixed increments when starting a motor to reduce starting torque and provide inrush current relief. An example may be a star delta starter upstream of a motor powered mill to reduce inrush current.  Star delta starters need to be assembled from multiple contactors, thermal overload relay, timer, and connection set."},{equipmentType:"capacitorBank",label:"Capacitor Bank",description:"A capacitor bank stores energy to support a motor's 'parasitic' power consumption, or reactive power. By reducing the amount of reactive power required from the grid, power factor approaches 1 and fees from a utility can be avoided. An example is a welder with a power factor of 0.6 can be equipped with a capacitor bank to boost power factor to 0.95."},{equipmentType:"threeFourPointDcMotorStarter",label:"Three/Four Point DC Motor Starter",description:"A three or four point DC motor starter reduces starting current and stabilizes starting motor voltage. An example is a 48V DC shunt motor driven lathe in which a motor starter brings down inrush current and stabilizes voltage to extend the motor's useful life."}],Y=a(102),Z=a.n(Y),Q=a(124),X=a.n(Q),J=a(178),_=a(128),$=a(106),ee=a(454),te=a.n(ee),ae="L/d/yy H:mm",ne="yyyy-LL-dd HH:mm:ss",le=["#212934","#5F6B7A","#8795A7","#B8C4CE","#CFD6DE","#E1E7EC","#F8F9FA"],re={appliance:"#DD5182",homer:"#FFA601",hybridColumns:"#444e86",excluded:le[5],default:"#f9fafb"},ie={"Original Electrical Load Served":"#444e86",newAppliancesLoad:"#955196",newAppliancesAncillaryLoad:"#FF6E54",originalUnmetLoad:"#444e86",additionalUnmetLoad:"#FF6E54",totalExcessProduction:"#FFA601",batteryEnergyContent:"#444e86",totalUnmetLoad:"#DD5182"},oe=function(e){return M.a.get(ie,e,le[2])},ce=["YYYY-MM-DD hh:mm:ss"];function se(e){var t=B()(e);return t.isValid()?"Last Saved: ".concat(t.fromNow()):"No found versions"}function ue(e){switch(!0){case M.a.isNull(e):return"";case!0===e:return"Yes";case!1===e:return"No";default:return""}}function me(e,t){return 100*e/t}function pe(e,t){return t/e}var de=function(e,t){if(!M.a.has(M.a.first(e),t))throw new Error("Can't find key: ".concat(t,": Check calling function"))},Ee=function(){return $.DateTime.local().toISO()},ye=function(e){return te.a.parse(e).name},fe=function(e,t){return de(e,t),M.a.chain(e).map(t).filter(M.a.isNumber).value()},he=function(e,t){return de(e,t),M.a.chain(e).map(t).filter(M.a.isNumber).filter(function(e){return e>0}).size().value()},ge=function(e,t){return de(e,t),M.a.chain(e).map(t).filter(M.a.isNumber).filter(function(e){return e>0}).sum().round(2).value()},be=function(e){return M.a.get(e,"isValid",!1)},Ce=function(e){var t=$.DateTime.fromISO(e);return be(t)?t.toFormat("MMM dd H:mm"):e},ve=function(e){var t=$.DateTime.fromFormat(e,ne);return be(t)?t.toFormat("MMM dd H:mm"):e},Ae=function(e,t,a){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],l=M.a.countBy(e,function(e,n){return M.a.isNumber(e[t])&&e[a]>0?e[t]:"deleteme"});return M.a.map(M.a.omit(l,"deleteme"),function(e,l){var r;return r={},Object(J.a)(r,a,e),Object(J.a)(r,t,n?parseInt(l,10):l),r})},we=function(e){return M.a.isFinite(e)?M.a.round(e/8760*100,1):"-"},xe=function(e,t){return M.a.min(fe(e,t))},Oe=function(e,t){return M.a.max(fe(e,t))};function Ie(e,t){for(var a,n=arguments.length,l=new Array(n>2?n-2:0),r=2;r<n;r++)l[r-2]=arguments[r];return(a=M()(M.a.cloneDeep(t))).concat.apply(a,l).groupBy(e).map(M.a.spread(M.a.merge)).value()}function Te(e){var t=e.rowIndex,a=e.prevBatteryEnergyContent,n=e.electricalProductionLoadDiff,l=e.batteryMinEnergyContent,r=e.batteryMaxEnergyContent,i=e.roundTripLosses;if(0===t)return{batteryEnergyContent:a,totalExcessProduction:0,totalUnmetLoad:0};var o=a+n,c=function(e,t,a){return(t+e)*(1-a)}(n,a,void 0===i?.01:i),s=M.a.clamp(c,l,r),u=c-s>0?o-s:0,m=c-s<0?Math.abs(o-s):0;return{batteryEnergyContent:s,totalExcessProduction:M.a.round(u,4),totalUnmetLoad:M.a.round(m,4)}}function ke(e){var t=parseFloat(e[3]),a=parseFloat(e[4]);return!M.a.isFinite(t)&&!M.a.isFinite(a)}function Se(e){var t=M.a.some(e,function(e){return M.a.includes(e,"DC Primary Load")}),a=M.a.some(e,function(e){return M.a.includes(e,"AC Primary Load")});if(t&&a)throw new Error("Detecting both AC and DC Loads");if(!t&&!a)throw new Error("Detecting neiter AC nor DC Loads");return{powerType:t?"DC":"AC",powerTypeErrors:t&&a?"This grid appears to have both AC and DC power types, which we don't currently support. Please contact support.":null}}var je={header:!0,delimiter:",",dynamicTyping:!0,skipEmptyLines:!0,comments:"sep="};function Re(e){return"text/csv"===e}function Pe(e){var t=e.fileData,a=e.batteryMinEnergyContent,n=e.batteryMaxEnergyContent;return function(e,t,a){return!M.a.isEmpty(e)&&t&&a?M.a.reduce(e,function(e,n,l,r){var i=e[l-1],o=Te({rowIndex:l,prevBatteryEnergyContent:0===l?n.originalBatteryEnergyContent:i.originalModeledBatteryEnergyContent,electricalProductionLoadDiff:n.originalElectricalProductionLoadDiff,batteryMinEnergyContent:t,batteryMaxEnergyContent:a}),c=o.batteryEnergyContent,s=o.totalExcessProduction,m=o.totalUnmetLoad;return e.push(Object(u.a)({},n,{originalModeledBatteryEnergyContent:M.a.round(c,4),originalModeledExcessProduction:M.a.round(s,4),originalModeledUnmetLoad:M.a.round(m,1)})),e},[]):[]}(M.a.map(t,function(e,t,a){var n=e["Original Battery Energy Content"],l=e["Total Renewable Power Output"],r=l-e["Original Electrical Load Served"],i=e.Time,o=$.DateTime.fromISO(i);return Object(u.a)({datetime:i,hour_of_day:o.hour,originalBatteryEnergyContent:M.a.round(n,4),totalElectricalProduction:M.a.round(l,4),originalElectricalProductionLoadDiff:M.a.round(r,4)},M.a.omit(e,["Unmet Electrical Load","Original Battery Energy Content"]))}),a,n)}function Me(e){var t,a=e.parsedFile,n=e.pvType,l=e.batteryType,r=e.generatorType,i=M.a.map((t=a.data,M.a.drop(t,1)),function(e,t){return function(e){var t=e.row,a=e.pvType,n=e.batteryType,l=e.generatorType;return M.a.mapKeys(t,function(e,t){switch(!0){case M.a.includes(t,n):return M.a.replace(t,n,"Original Battery");case M.a.includes(t,a):return M.a.replace(t,"".concat(a," "),"PV ");case M.a.includes(t,l):return M.a.replace(t,"".concat(l," "),"Generator");case M.a.includes(t,"Unmet Electrical Load"):return"Original Unmet Electrical Load";case M.a.includes(t,"Excess Electrical Production"):return"Original Excess Electrical Production";case M.a.includes(t,"Total Electrical Load Served"):return"Original Electrical Load Served";default:return t}})}({row:e,pvType:n,batteryType:l,generatorType:r})});return function(e){return M.a.map(e,function(e,t){return Object(u.a)({},e,{hour:t})})}(M.a.map(i,function(e,t){return M.a.mapValues(e,function(e,t){return"Time"===t?$.DateTime.fromFormat(e,ae).toISO():M.a.round(e,4)})}))}function Le(e,t){var a=t.isSample,n=t.fileType,l=t.size,r=t.mimeType,i=[],o=!!a||Re(r),c=M.a.keys(M.a.first(e.data));ke(c)||i.push("This file appears to not have column header descriptions. The first row of the HOMER file should contain the column name and the second row contain the column units."),"homer"!==n&&i.push("File is not homer file. Current fileType: ".concat(n)),o||i.push("File is not a CSV. If you have an Excel file, export as CSV."),l>5242880&&i.push("Filesize too big. Your file is ".concat(X()(l)));var s=Se(c),u=s.powerType,m=s.powerTypeErrors;i.push(m);var p=function(e){var t="Angle of Incidence",a=M.a.find(e,function(e){return M.a.includes(e,t)}),n=M.a.trim(a.split(t)[0]);return{pvType:n,pvTypeErrors:M.a.isString(n)?null:"Cannot determine PV type. Looking for a column called '___ ".concat(t,"'")}}(c),d=p.pvType,E=p.pvTypeErrors;i.push(E);var y=function(e){var t=M.a.find(e,function(e){return M.a.includes(e,"State of Charge")}),a=M.a.trim(t.split("State of Charge")[0]);return{batteryType:a,batteryTypeErrors:M.a.isString(a)?null:"Cannot determine battery type. Looking for a column called '___ ".concat("State of Charge","'")}}(c),f=y.batteryType,h=y.batteryTypeErrors;i.push(h);var g=function(e){var t=M.a.find(e,function(e){return M.a.includes(e.toLowerCase(),"genset")});return{generatorType:t?M.a.trim(t.split("Power Output")[0]):"Not Found",generatorTypeErrors:null}}(c),b=g.generatorType,C=g.generatorTypeErrors;i.push(C);var v=Me({parsedFile:e,pvType:d,batteryType:f,generatorType:b}),A=xe(v,"Original Battery Energy Content"),w=Oe(v,"Original Battery Energy Content"),x=Oe(v,"Original Battery State of Charge"),O=xe(v,"Original Battery State of Charge");return{fileInfo:t,fileData:Pe({fileData:v,batteryMinEnergyContent:A,batteryMaxEnergyContent:w}),fileErrors:M.a.compact(i),fileWarnings:e.errors,powerType:u,pvType:d,batteryType:f,generatorType:b,batteryMaxSoC:M.a.round(x,2),batteryMinSoC:M.a.round(O,2),batteryEstimatedMaxEnergyContent:M.a.round(w,4),batteryEstimatedMinEnergyContent:M.a.round(A,4)}}function De(e,t){var a=t.isSample,n=t.fileType,l=t.size,r=t.mimeType,i=[],o=!!a||Re(r);"appliance"!==n&&i.push("File is not applliance file. Current fileType: ".concat(n)),o||i.push("File is not a CSV. If you have an Excel file, export as CSV."),ke(M.a.keys(M.a.first(e.data)))||i.push("This file appears to not have column header descriptions. The first row of the HOMER file should contain the column name and the second row contain the column units."),l>5242880&&i.push("Filesize too big. Your file is ".concat(X()(l)));var c=e.data[0].datetime;return B()(c,ce).isValid()||i.push("Appliance date format is incorrect. It should be of the format 'YYYY-MM-DD hh:mm:ss'. For exmaple, 2018-01-01 00:00:00"),{fileInfo:t,fileData:M.a.map(e.data,function(e){var t=M.a.omit(e,["production_factor"]);return Object(u.a)({},t,{kw_factor:M.a.round(e.kw_factor,5)})}),fileErrors:i,fileWarnings:[],fileType:n}}function Ue(e,t,a){var n=a.pathname.split("/").length,l=M.a.repeat("../",n-1);switch(t){case"homer":return l+"data/homer/"+e+".csv";case"appliance":return l+"data/appliances/"+e+".csv";default:throw new Error("Need to pass fileType (homer, appliance) to filePathLookup")}}function Fe(e){return Ge.apply(this,arguments)}function Ge(){return(Ge=Object(W.a)(R.a.mark(function e(t){return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[]);case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function qe(e){return ze.apply(this,arguments)}function ze(){return(ze=Object(W.a)(R.a.mark(function e(t){return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[]);case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Be(e,t){return We.apply(this,arguments)}function We(){return(We=Object(W.a)(R.a.mark(function e(t,a){var n,l,r,i;return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ue(t.name,t.fileType,a),e.prev=1,e.next=4,fetch(n);case 4:return l=e.sent,e.next=7,l.text();case 7:if(r=e.sent,i=Z.a.parse(r,je),M.a.isEmpty(i.errors)){e.next=11;break}throw new Error("Problem parsing grid CSV: ".concat(JSON.stringify(i.errors)));case 11:e.t0=t.fileType,e.next="homer"===e.t0?14:"appliance"===e.t0?15:16;break;case 14:return e.abrupt("return",Le(i,t));case 15:return e.abrupt("return",De(i,t));case 16:throw new Error("Expected either a 'homer' for 'appliance' file in fetchSampleFile. Got ".concat(t.fileType));case 17:e.next=22;break;case 19:e.prev=19,e.t1=e.catch(1),console.error("File load fail for : ".concat(n,". Make sure appliance CSV has all headers."),e.t1);case 22:case"end":return e.stop()}},e,null,[[1,19]])}))).apply(this,arguments)}var Ne=D.types.model({isActive:D.types.boolean,fileInfo:D.types.frozen(),fileData:D.types.frozen(),label:D.types.string,description:D.types.string,fileErrors:D.types.array(D.types.string),fileWarnings:D.types.array(D.types.string),pvType:D.types.string,powerType:D.types.enumeration("powerType",["AC","DC",""]),batteryType:D.types.string,generatorType:D.types.string,wholesaleElectricityCost:D.types.maybeNull(D.types.number),retailElectricityPrice:D.types.maybeNull(D.types.number),unmetLoadCostPerKwh:D.types.maybeNull(D.types.number),batteryMinSoC:D.types.maybeNull(D.types.number),batteryMaxSoC:D.types.maybeNull(D.types.number),batteryMinEnergyContent:D.types.maybeNull(D.types.number),batteryMaxEnergyContent:D.types.maybeNull(D.types.number),batteryEstimatedMinEnergyContent:D.types.maybeNull(D.types.number),batteryEstimatedMaxEnergyContent:D.types.maybeNull(D.types.number),fileIsSelected:D.types.boolean,isAnalyzingFile:D.types.boolean,gridSaved:D.types.boolean,batteryModelSaved:D.types.boolean,modelInputValues:D.types.frozen(),modelInputErrors:D.types.frozen()}).volatile(function(e){return{}}).actions(function(e){return{runInAction:function(e){return e()},onModelInputChange:function(t,a,n){var l=M.a.clone(e.modelInputValues),r=M.a.clone(e.modelInputErrors);l[t]=a,r[t]=n,e.modelInputValues=l,e.modelInputErrors=r},onModelInputBlur:function(t,a,n){Boolean(n)?console.log("Value not saved to store"):e[t]=0===a?0:a||""},handleGridFileUpload:function(t){e.fileIsSelected=!0,e.isAnalyzingFile=!0;var a=t.name,n=t.size,l=t.type,r=Ee(),i={id:"".concat(a,"_").concat(r),timeStamp:r,fileType:"homer",name:a,size:n,isSample:!1,mimeType:l};Z.a.parse(t,Object(u.a)({},je,{complete:function(t){var n=Le(t,i),l=ye(a);e.runInAction(function(){e.label=l,e.modelInputValues=Object(u.a)({},e.modelInputValues,{label:l}),e.updateModel(n)})},error:function(e){return console.log("error: ",e)}}))},loadFile:Object(D.flow)(R.a.mark(function t(a){var n;return R.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.isAnalyzingFile=!0,!e.fileInfo.isSample){t.next=7;break}return t.next=4,Be(a,window.location);case 4:t.t0=t.sent,t.next=10;break;case 7:return t.next=9,Fe(a);case 9:t.t0=t.sent;case 10:n=t.t0,e.updateModel(n),e.isAnalyzingFile=!1;case 13:case"end":return t.stop()}},t)})),updateModel:function(t){e.runInAction(function(){e.fileInfo=t.fileInfo,e.fileData=t.fileData,e.fileErrors=t.fileErrors,e.fileWarnings=t.fileWarnings,e.powerType=t.powerType,e.pvType=t.pvType,e.batteryType=t.batteryType,e.generatorType=t.generatorType,e.batteryMinSoC=t.batteryMinSoC,e.batteryMaxSoC=t.batteryMaxSoC,e.batteryEstimatedMinEnergyContent=t.batteryEstimatedMinEnergyContent,e.batteryEstimatedMaxEnergyContent=t.batteryEstimatedMaxEnergyContent,e.batteryMinEnergyContent=t.batteryEstimatedMinEnergyContent,e.batteryMaxEnergyContent=t.batteryEstimatedMaxEnergyContent,e.modelInputValues=Object(u.a)({},e.modelInputValues,{batteryMinEnergyContent:t.batteryEstimatedMinEnergyContent,batteryMaxEnergyContent:t.batteryEstimatedMaxEnergyContent}),e.isAnalyzingFile=!1})},saveGridSnapshot:function(){var t=Object(D.getSnapshot)(e);q.a.setItem("microgridAppliances.stagedGrid",t).then(function(){e.runInAction(function(){e.gridSaved=!0})})}}}).views(function(e){return{get showAnalyzedResults(){return!Object(D.getParent)(e).viewedGridIsStaged||e.fileIsSelected&&!e.isAnalyzingFile},get predictedVsActualBatteryValues(){return t=e.fileData,M.a.isEmpty(t)?[]:M.a.map(t,function(e){var t=e.originalModeledBatteryEnergyContent,a=e.originalBatteryEnergyContent;return{actual:M.a.round(a,2),predicted:M.a.round(t,2),error:Math.abs((t-a)/a)}});var t},get predictedVsActualReferenceLine(){return function(e,t){if(!e||!t)return[];var a=M.a.range(M.a.floor(e),M.a.ceil(t));return M.a.map(a,function(e){return{actual:e,predicted:e}})}(e.batteryMinEnergyContent,e.batteryMaxEnergyContent)},get batteryAvgErrorPct(){return function(e,t){if(M.a.isEmpty(e))return null;var a=M.a.size(e),n=M.a.sumBy(e,t);return 0===a?1/0:M.a.round(100*n/a,2)}(e.predictedVsActualBatteryValues,"error")},get batteryMaxErrorPct(){return t=e.predictedVsActualBatteryValues,a="error",M.a.isEmpty(t)?null:M.a.round(100*M.a.maxBy(t,a)[a],2);var t,a},get prettyFileSize(){return X()(e.fileInfo.size)},get inputErrorList(){return M.a.compact(M.a.values(e.modelInputErrors))},get fileReadyToSave(){var t=0===M.a.size(e.inputErrorList);return M.a.every([e.label,e.description,M.a.isFinite(e.wholesaleElectricityCost),M.a.isFinite(e.retailElectricityPrice),M.a.isFinite(e.batteryMinEnergyContent),M.a.isFinite(e.batteryMaxEnergyContent),t])}}}),He={isActive:!1,fileInfo:{},fileData:[],label:"",description:"",fileErrors:[],fileWarnings:[],pvType:"",powerType:"",batteryType:"",generatorType:"",wholesaleElectricityCost:null,retailElectricityPrice:null,unmetLoadCostPerKwh:null,batteryMinSoC:null,batteryMaxSoC:null,batteryMinEnergyContent:null,batteryMaxEnergyContent:null,batteryEstimatedMinEnergyContent:null,batteryEstimatedMaxEnergyContent:null,batteryModelSaved:!1,fileIsSelected:!1,isAnalyzingFile:!1,gridSaved:!1,modelInputValues:{},modelInputErrors:{}},Ve="http://json-schema.org/draft-04/schema#",Ke={label:{$schema:Ve,title:"File Label",description:"By default, this is the name of the uploaded file, but you can name it whatever you want.",type:"string"},description:{$schema:Ve,title:"File Description",description:"This is a description for your records",type:"string"},capex:{$schema:Ve,title:"CapEx",description:"Capital expenditure for the appliance",type:"integer",units:"$"},capexAssignment:{$schema:Ve,title:"CapEx Assignment",description:"This determines who (grid owner or appliance owner) pays for the up-front CapEx investment.",type:"enumeration",enumerations:["grid","appliance"],units:"-"},estimatedCapex:{$schema:Ve,title:"Estimated CapEx",description:"Estimated cost of equipment based on appliance size and other attributes. This is overridable by the user.",type:"integer",units:"$"},nominalPower:{$schema:Ve,title:"Appliance Nominal Power",description:"Apply the appliance nominal power (in kW) to determine the load profile for this appliance",type:"float",minimum:0,maximum:100,step:.1,units:"kW"},powerFactor:{$schema:Ve,title:"Power Factor",description:"The power factor of the appliance, between 0 and 1. A purely resistive circuit is 1. A purely inductive current is 0.",type:"float",minimum:0,maximum:1,units:"-"},powerType:{$schema:Ve,title:"Power Type",description:"Options are alternating current (AC) or direct current (DC)",type:"enumeration",enumerations:["AC","DC"],units:"-"},phase:{$schema:Ve,title:"Phase",description:"Options are 1-phase, 2-phase or 3-phase system",type:"enumeration",enumerations:[1,2,3],units:"-"},hasMotor:{$schema:Ve,title:"Has Motor?",description:"Does the appliance have a motor?",type:"enumeration",enumerations:[!0,!1],units:"-"},dutyCycleDerateFactor:{$schema:Ve,title:"Appliance Duty Cycle Derate Factor",description:"A welder, for example, may only run 20% within a 2 minute measured interval. In that case, enter 0.2. Mills likely run for the entire 2 minute measured interval, so would have a value of 1",type:"float",minimum:0,maximum:2,step:.05,units:"-"},wholesaleElectricityCost:{$schema:Ve,title:"Wholesale Electricity Cost (if grid-tied)",description:"Cost to produce or purchase electricity for the grid operator, not including unmet load costs.",type:"float",units:"$/kWh"},unmetLoadCostPerKwh:{$schema:Ve,title:"Unmet Load Electricity Cost",description:"Cost to produce or purchase electricity for the grid operator, above what their system can handle. For example, this may be the cost of diesel for a generator",type:"float",units:"$/kWh"},retailElectricityPrice:{$schema:Ve,title:"Retail Electricity Price",description:"Price of electricity for the consumer (appliance operator). This is also the revenue for the grid operator.",type:"float",units:"$/kWh"},productionUnitType:{$schema:Ve,title:"Production Unit Type",description:'The type of "units" we are producing. Could be something like kg, hour, or liters.',type:"string"},productionUnitsPerKwh:{$schema:Ve,title:"Appliance Units of Production per kWh",description:"How many units can be produced for a single kwh. Multiply by yearly kWh to get number of units produced in a year. Units could be kg grain / kWh.",type:"float",units:"productionUnitType/kWh"},revenuePerProductionUnits:{$schema:Ve,title:"Appliance Revenue Per Production Units",description:"Revenue generated per unit of production. For example, multiply by yearly kg of grain to get yearly revenue: $ / kg of grain milled.",type:"float",units:"$/productionUnitType"},equipmentSize:{$schema:Ve,title:"Ancillary Equipment Size",description:"Size of ancillary equipment needs to more than cover the appliance's nominal appliance power.",type:"float",units:"kW"},efficiencyRating:{$schema:Ve,title:"Efficiency Rating",description:"Efficiency Rating of the Equipment, between 0 and 1.",minimum:0,maximum:1,type:"float",units:"kW"},estimatedEfficiency:{$schema:Ve,title:"Estimated Efficiency",description:"Estimated cost of equipment based on appliance size and other attributes. This is overridable by the user.",type:"integer",units:"$"},pvType:{$schema:Ve,title:"PV Type",type:"string"},generatorType:{$schema:Ve,title:"Generator Type",type:"string"},batteryType:{$schema:Ve,title:"Battery Type"},batteryMinEnergyContent:{$schema:Ve,title:"Battery Min Energy Content",type:"float",units:"kWh"},batteryEstimatedMinEnergyContent:{$schema:Ve,title:"Estimated Battery Min Energy Content",description:"Calculated by looking at average mininum values in the HOMER file.",type:"float",units:"kWh"},batteryMaxEnergyContent:{$schema:Ve,title:"Battery Max Energy Content",type:"float",units:"kWh"},batteryEstimatedMaxEnergyContent:{$schema:Ve,title:"Estimated Battery Max Energy Content",description:"Calculated by looking at average maximum values in the HOMER file.",type:"float",units:"kWh"},applianceType:{$schema:Ve,title:"Appliance Type",description:"Simple, broad classification of the type of appliance this is. Use existing classifications or add your own.",type:"enumeration",enumerations:["rice_mill","maize_mill","water_pump","welder","other",""]},equipmentType:{$schema:Ve,title:"Ancillary Equipment Type",description:"Short description of the ancillary equipment, used internally in the code",type:"enumeration",enumerations:["powerConverter","inverter","vfd","softStarter","directOnlineStarter","starDeltaStarter","capacitorBank","threeFourPointDcMotorStarter"]},compatibility:{$schema:Ve,title:"Ancillary Equipment Compatibility",description:"Code that deterimines if ancillary equipment is compatible with a paired appliance",type:"enumeration",enumerations:["required","useful","notuseful"]},compatibilityMessage:{$schema:Ve,title:"Ancillary Equipment Compatibility Message",description:"A message that is generated by a rule system, based on a paired ancillary equipment and appliance.",type:"string"},totalExcessProduction:{$schema:Ve,title:"New Excess Production",description:"Excess production that includes the original HOMER production minus new appliance loads",type:"float",units:"kWh"},batteryEnergyContent:{$schema:Ve,title:"Battery Energy Content",description:"Energy content of the battery including new appliance loads",type:"float",units:"kWh"},originalUnmetLoad:{$schema:Ve,title:"Original Unmet Load",description:"Unmet load from the original HOMER.",type:"float",units:"kWh"},totalUnmetLoad:{$schema:Ve,title:"New Unmet Load",description:"Unmet load, which includes the original HOMER unmet loads and additional unmet loads due to new appliances.",type:"float",units:"kWh"},"Original Electrical Load Served":{$schema:Ve,title:"Original Electrical Load Served",description:"Original electrical load served without new appliances based on the HOMER file",type:"float",units:"kWh"},newAppliancesLoad:{$schema:Ve,title:"New Appliances Load",description:"Load from all new enabled appliances.",type:"float",units:"kWh"},newAppliancesAncillaryLoad:{$schema:Ve,title:"New Ancillary Equipment Load",description:"Additional lodas from enabled ancillary equipment.",type:"float",units:"kWh"},totalElectricalLoadServed:{$schema:Ve,title:"Total Electrical Load Served",description:"Load served based on original appliances in HOMER file and all new enabled appliances.",type:"float",units:"kWh"}};function Ye(e){var t=e.equipmentType,a=e.gridPowerType,n=e.applPowerType,l=e.applHasMotor,r=e.applPhase,i=e.applPowerFactor,o=e.applSize;e.ancillaryEquipmentList;if(!t||!a||!n)return{};switch(t){case"powerConverter":return function(e,t,a){var n="DC"===t&&"AC"===e,l=n?"A power converter is required hardware for successful appliance operation.":"A power converter may not be useful. A power converter may be useful if the supply power is AC and the appliance is designed to receive DC power.",r=M.a.ceil(a,1);return{compatibility:n?"required":"notuseful",compatibilityMessage:l,equipmentSize:r,estimatedCapex:Ze(r),estimatedEfficiency:Qe(r)}}(a,n,o);case"inverter":return function(e,t,a){var n="AC"===t&&"DC"===e,l=n?"An inverter is required hardware for successful appliance operation.":"An inverter may not be useful. An inverter may be useful if the supply power is DC and the appliance is designed to receive AC power.",r=M.a.ceil(a,1);return{compatibility:n?"required":"notuseful",compatibilityMessage:l,equipmentSize:r,estimatedCapex:Xe(r),estimatedEfficiency:Je(r)}}(a,n,o);case"vfd":return function(e,t,a,n,l){var r="AC"===e&&"AC"===t&&a&&3===n,i=r?"A variable frequency drive may be useful to reduce in-rush current and provide speed control.":"A variable frequency drive may not be useful or available for this appliance. VFDs are most common for three phase AC motor applications to reduce in-rush current and motor speed control.",o=M.a.ceil(l,1);return{compatibility:r?"useful":"notuseful",compatibilityMessage:i,equipmentSize:o,estimatedCapex:_e(o),estimatedEfficiency:$e(o)}}(a,n,l,r,o);case"softStarter":return function(e,t,a,n){var l="AC"===e&&"AC"===t&&a,r=l?"A soft starter may be useful to reduce in-rush current and starting torque and to provide motor protection.":"A soft starter may not be useful for this appliance. Soft starters may be useful for AC motor applications to reduce in-rush current and starting torque.",i=M.a.ceil(n,1);return{compatibility:l?"useful":"notuseful",compatibilityMessage:r,equipmentSize:i,estimatedCapex:et(i),estimatedEfficiency:tt(i)}}(a,n,l,o);case"directOnlineStarter":return function(e,t){var a=e,n=a?"A direct on-line starter may be useful to start a motor and provide overloading and short-circuit protection.":"A direct on-line starter may not be useful for appliances without motors.",l=M.a.ceil(t,1);return{compatibility:a?"useful":"notuseful",compatibilityMessage:n,equipmentSize:l,estimatedCapex:at(l),estimatedEfficiency:nt(l)}}(l,o);case"starDeltaStarter":return function(e,t,a,n,l){var r="AC"===e&&"AC"===t&&a&&3===n,i=r?"A star delta starter may be useful to reduce in-rush current and starting torque.":"A star delta starter may not be useful or available for this appliance. Star Delta Starters are most common for three phase AC motor applications to reduce in-rush current and starting torque.",o=M.a.ceil(l,1);return{compatibility:r?"useful":"notuseful",compatibilityMessage:i,equipmentSize:o,estimatedCapex:lt(o),estimatedEfficiency:rt(o)}}(a,n,l,r,o);case"capacitorBank":return function(e,t,a,n){var l="AC"===e&&"AC"===t&&a<.9,r=l?"An appropriately sized capacitor bank may raise power factor of the appliance.":"A capacitor bank may not be useful.",i=M.a.ceil(n,1);return{compatibility:l?"useful":"notuseful",compatibilityMessage:r,equipmentSize:i,estimatedCapex:it(i),estimatedEfficiency:ot(i)}}(a,n,i,o);case"threeFourPointDcMotorStarter":return function(e,t,a){var n="DC"===e&&"DC"===t,l=n?"A Three or Four Point Motor Starter may reduce starting current and improve power system voltage stability upon starting the appliance.":"A Three or Four Point Motor Starter may not be useful.",r=M.a.ceil(a,1);return{compatibility:n?"useful":"notuseful",compatibilityMessage:l,equipmentSize:r,estimatedCapex:ct(r),estimatedEfficiency:st(r)}}(a,n,o);default:throw new Error("Ancillary Equipment Rules: There is no rule for equipment type: ".concat(t))}}var Ze=function(e){return M.a.round(66.156*Math.pow(e,3)-560.06*Math.pow(e,2)+1588.3*e-1080.6)},Qe=function(e){switch(!0){case e>=5:return.89;case e>=3:return.9;case e>=2:return.905;case e>=1.5:default:return.87}},Xe=function(e){return M.a.round(1.5623*Math.pow(e,3)-48.062*Math.pow(e,2)+409.07*e+15.42)},Je=function(e){switch(!0){case e>.35:return.975;default:return.96}},_e=function(e){return M.a.round(-.0497*Math.pow(e,3)+2.6451*Math.pow(e,2)+70.373*e+547.77)},$e=function(e){return.965},et=function(e){return M.a.round(3.4533*Math.pow(e,3)-40.075*Math.pow(e,2)+166.22*e+148.25)},tt=function(e){return.99},at=function(e){return M.a.round(.8516*Math.pow(e,3)-9.5437*Math.pow(e,2)+37.417*e+75.889)},nt=function(e){return 1},lt=function(e){return M.a.round(8.3978*Math.pow(e,3)-96.274*Math.pow(e,2)+347.15*e-130.59)},rt=function(e){return 1},it=function(e){return M.a.round(-.505*Math.pow(e,3)+6.7948*Math.pow(e,2)+14.093*e+266.85)},ot=function(e){return 1},ct=function(e){return 0},st=function(e){return 1},ut=D.types.model({equipmentType:D.types.enumeration("equipmentType",["powerConverter","inverter","vfd","softStarter","directOnlineStarter","starDeltaStarter","capacitorBank","threeFourPointDcMotorStarter"]),label:D.types.maybeNull(D.types.string),description:D.types.maybeNull(D.types.string),enabled:D.types.boolean,compatibility:D.types.maybeNull(D.types.enumeration("compatibility",["required","useful","notuseful"])),compatibilityMessage:D.types.maybeNull(D.types.string),equipmentSize:D.types.maybeNull(D.types.number),capex:D.types.maybeNull(D.types.number),estimatedCapex:D.types.maybeNull(D.types.number),capexAssignment:D.types.enumeration("capexAssignment",["grid","appliance"]),efficiencyRating:D.types.maybeNull(D.types.number),estimatedEfficiency:D.types.maybeNull(D.types.number),defaultsAreSet:D.types.boolean,modelInputValues:D.types.frozen(),modelInputErrors:D.types.frozen()}).actions(function(e){return{onModelInputChange:function(t,a,n){var l=M.a.clone(e.modelInputValues),r=M.a.clone(e.modelInputErrors);l[t]=a,r[t]=n,e.modelInputValues=l,e.modelInputErrors=r},onModelInputBlur:function(t,a,n){Boolean(n)?console.log("Value not saved to store"):e[t]=0===a?0:a||""},updateValues:function(t){var a=Ye(t);e.compatibility=a.compatibility,e.compatibilityMessage=a.compatibilityMessage,e.equipmentSize=a.equipmentSize,e.estimatedCapex=a.estimatedCapex,e.estimatedEfficiency=a.estimatedEfficiency,e.readyToSetDefaults&&(e.enabled="required"===e.compatibility,e.capex=e.estimatedCapex,e.efficiencyRating=e.estimatedEfficiency,e.modelInputValues={equipmentSize:t.applSize,capex:e.estimatedCapex,efficiencyRating:e.estimatedEfficiency},e.defaultsAreSet=!0)},handleEnabledToggle:function(){e.enabled=!e.enabled},handleCapexAssignmentChange:function(t,a){t.preventDefault(),e.capexAssignment=a.value}}}).views(function(e){return{get readyToSetDefaults(){return M.a.every([!e.defaultsAreSet,e.compatibility,M.a.isFinite(e.equipmentSize),M.a.isFinite(e.estimatedCapex),M.a.isFinite(e.estimatedEfficiency)])},get parentApplianceSize(){return Object(D.hasParent)(e,2)?Object(D.getParent)(e,2).nominalPower:null}}}),mt={enabled:!1,compatibility:null,compatibilityMessage:"",equipmentSize:null,capex:null,estimatedCapex:null,capexAssignment:"appliance",efficiencyRating:null,estimatedEfficiency:null,defaultsAreSet:!1,modelInputValues:{},modelInputErrors:{}};var pt=D.types.model({enabled:D.types.boolean,fileInfo:D.types.frozen(),fileData:D.types.frozen(),label:D.types.string,description:D.types.string,fileErrors:D.types.array(D.types.string),fileWarnings:D.types.array(D.types.string),applianceType:D.types.enumeration("applianceType",Ke.applianceType.enumerations),capex:D.types.number,capexAssignment:D.types.enumeration("capexAssignment",Ke.capexAssignment.enumerations),powerType:D.types.maybeNull(D.types.enumeration("powerType",Ke.powerType.enumerations)),phase:D.types.maybeNull(D.types.number),hasMotor:D.types.maybeNull(D.types.boolean),powerFactor:D.types.maybeNull(D.types.number),nominalPower:D.types.maybeNull(D.types.number),dutyCycleDerateFactor:D.types.maybeNull(D.types.number),seasonalDerateFactor:D.types.maybeNull(D.types.number),productionUnitType:D.types.maybeNull(D.types.string),productionUnitsPerKwh:D.types.maybeNull(D.types.number),revenuePerProductionUnits:D.types.maybeNull(D.types.number),ancillaryEquipment:D.types.array(ut),fileIsSelected:D.types.boolean,isAnalyzingFile:D.types.boolean,applianceSaved:D.types.boolean,modelInputValues:D.types.frozen(),modelInputErrors:D.types.frozen()}).actions(function(e){return{runInAction:function(e){return e()},onModelInputChange:function(t,a,n){var l=M.a.clone(e.modelInputValues),r=M.a.clone(e.modelInputErrors);l[t]=a,r[t]=n,e.modelInputValues=l,e.modelInputErrors=r},onModelInputBlur:function(t,a,n){Boolean(n)?console.log("Value not saved to store"):e[t]=0===a?0:a||""},handleApplianceFileUpload:function(t){e.fileIsSelected=!0,e.isAnalyzingFile=!0;var a=t.name,n=t.size,l=t.type,r=Ee(),i={id:"".concat(a,"_").concat(r),timeStamp:r,fileType:"appliance",name:a,size:n,isSample:!1,mimeType:l};Z.a.parse(t,Object(u.a)({},je,{complete:function(t){var n=De(t,i),l=ye(a);e.runInAction(function(){e.label=l,e.modelInputValues=Object(u.a)({},e.modelInputValues,{label:l}),e.updateModel(n),e.ancillaryEquipment=M.a.map(K,function(e){return ut.create(Object(u.a)({},e,mt))})})},error:function(e){return console.log("error: ",e)}}))},loadFile:Object(D.flow)(R.a.mark(function t(a){var n;return R.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.isAnalyzingFile=!0,!e.fileInfo.isSample){t.next=7;break}return t.next=4,Be(a,window.location);case 4:t.t0=t.sent,t.next=10;break;case 7:return t.next=9,qe(a);case 9:t.t0=t.sent;case 10:n=t.t0,e.updateModel(n),e.isAnalyzingFile=!1;case 13:case"end":return t.stop()}},t)})),updateModel:function(t){e.runInAction(function(){e.fileInfo=t.fileInfo,e.fileData=t.fileData,e.fileErrors=t.fileErrors,e.fileWarnings=t.fileWarnings,e.isAnalyzingFile=!1})},toggleAppliance:function(t){t.preventDefault(),e.enabled=!e.enabled},handleCapexAssignmentChange:function(t,a){t.preventDefault(),e.capexAssignment=a.value},handlePowerTypeChange:function(t,a){t.preventDefault(),e.powerType=a.value},handlePhaseChange:function(t,a){t.preventDefault(),e.phase=a.value},handleHasMotorChange:function(t,a){t.preventDefault(),e.hasMotor=a.value},handleCancelUpload:function(){console.log("TODO: handleCancelUpload")},handleFileSave:function(){e.saveGridSnapshot()}}}).views(function(e){return{get showAnalyzedResults(){return!Object(D.getParent)(e).viewedApplianceIsStaged||e.fileIsSelected&&!e.isAnalyzingFile},get calculatedApplianceColumns(){return function(e){if(M.a.isEmpty(e.fileData))return[];var t=e.nominalPower,a=e.dutyCycleDerateFactor,n=e.productionUnitsPerKwh,l=e.revenuePerProductionUnits,r=e.ancillaryEquipmentEfficiency;return M.a.map(e.fileData,function(e){var i=e.kw_factor*t*a,o=i/r-i,c=i*n,s=l*c;return Object(u.a)({},e,{newApplianceLoad:M.a.round(i,4),newApplianceAncillaryLoad:M.a.round(o,4),productionUnits:M.a.round(c,4),productionUnitsRevenue:M.a.round(s,4)})})}(e)},get applianceSummaryStats(){return function(e){if(M.a.isEmpty(e))return{};var t=M.a.sumBy(e,"newApplianceLoad"),a=M.a.sumBy(e,"productionUnits"),n=M.a.sumBy(e,"productionUnitsRevenue"),l=M.a.sumBy(e,"ancillaryEquipmentLoad");return{yearlyApplianceLoad:M.a.round(t,4),yearlyAncillaryEquipmentLoad:M.a.round(l,4),yearlyProductionUnits:M.a.round(a,4),yearlyProductionUnitsRevenue:M.a.round(n,4)}}(e.calculatedApplianceColumns)},get prettyFileSize(){return X()(e.fileInfo.size)},get enabledAncillaryEquipment(){return M.a.filter(e.ancillaryEquipment,function(e){return e.enabled})},get enabledAncillaryEquipmentLabels(){return M()(e.enabledAncillaryEquipment).map(function(e){return e.label}).compact().value()},get requiredAncillaryEquipment(){return M.a.filter(e.ancillaryEquipment,function(e){return"required"===e.compatibility})},get usefulAncillaryEquipment(){return M.a.filter(e.ancillaryEquipment,function(e){return"useful"===e.compatibility})},get notusefulAncillaryEquipment(){return M.a.filter(e.ancillaryEquipment,function(e){return"notuseful"===e.compatibility})},get ancillaryEquipmentEfficiency(){return function(e){if(M.a.isEmpty(e))return 1;var t=M()(e).map("efficiencyRating").compact().value();return M.a.multiply.apply(M.a,Object(_.a)(t))}(e.enabledAncillaryEquipment)},get inputErrorList(){return M.a.compact(M.a.values(e.modelInputErrors))},get fileReadyToSave(){var t=0===M.a.size(e.inputErrorList);return M.a.every([e.label,e.description,e.powerType,e.hasMotor,e.phase,e.productionUnitType,M.a.isFinite(e.nominalPower),M.a.isFinite(e.productionUnitsPerKwh),M.a.isFinite(e.revenuePerProductionUnits),M.a.isFinite(e.powerFactor),M.a.isFinite(e.dutyCycleDerateFactor),t])}}}),dt={enabled:!1,fileInfo:{},fileData:[],label:"",description:"",fileErrors:[],fileWarnings:[],applianceType:"",capex:0,capexTempValue:"",capexInputError:!1,capexAssignment:"appliance",powerType:null,phase:null,hasMotor:null,powerFactor:null,nominalPower:null,dutyCycleDerateFactor:1,seasonalDerateFactor:null,productionUnitType:null,productionUnitsPerKwh:null,revenuePerProductionUnits:null,fileIsSelected:!1,isAnalyzingFile:!1,applianceSaved:!1,modelInputValues:{},modelInputErrors:{}},Et=F.RouterModel.create(),yt=Object(F.syncHistoryWithStore)(Object(N.a)(),Et);function ft(){var e="12-50 Oversize 20_2019-02-16T20:34:25.937-07:00",t=H.concat([]),a=V.concat([]);return{availableGrids:M.a.map(t,function(t){return Ne.create(Object(u.a)({},He,{isActive:t.id===e},Object(u.a)({},t.attributes),{modelInputValues:Object(u.a)({},t.attributes)},{fileInfo:M.a.omit(t,["attributes"])}))}),stagedGrid:null,viewedGridId:e,appliancesAreLoading:!0,appliances:M.a.map(a,function(e){return pt.create(Object(u.a)({},dt,{enabled:"rice_mill_usage_profile_2019-02-16T20:33:55.583-07:00"===e.id},{applianceType:e.applianceType},Object(u.a)({},e.attributes),{modelInputValues:Object(u.a)({},e.attributes)},{fileInfo:M.a.omit(e,["attributes"])},{ancillaryEquipment:M.a.map(K,function(e){return ut.create(Object(u.a)({},e,mt))})}))}),viewedApplianceId:"rice_mill_usage_profile_2019-02-16T20:33:55.583-07:00",excludedTableColumns:[],router:Et,appIsSaved:!0,appIsSavedTimestamp:null}}function ht(){return gt.apply(this,arguments)}function gt(){return(gt=Object(W.a)(R.a.mark(function e(){return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",q.a.getItem("latest").then(function(e){var t=!Rt.is(e);return{initialState:t?ft():e,isFreshState:t}}).catch(function(e){throw console.log(e),new Error(e)}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function bt(e,t,a){if(M.a.isEmpty(e)||M.a.isEmpty(t)||M.a.isEmpty(a))return{};var n=he(t,"originalUnmetLoad"),l=we(n),r=ge(t,"originalUnmetLoad"),i=Ae(t,"hour_of_day","originalUnmetLoad"),o=he(t,"newAppliancesUnmetLoad"),c=we(o),s=ge(t,"newAppliancesUnmetLoad"),u=Ae(t,"hour_of_day","newAppliancesUnmetLoad"),m=he(t,"totalUnmetLoad"),p=we(m),d=ge(t,"totalUnmetLoad"),E=Ae(t,"hour_of_day","totalUnmetLoad"),y=Ie("hour_of_day",i,E),f=he(t,"originalExcessProduction"),h=we(f),g=ge(t,"originalExcessProduction"),b=Ae(t,"hour_of_day","originalExcessProduction"),C=he(t,"newAppliancesUnmetLoad"),v=we(C),A=ge(t,"newAppliancesExcessProduction"),w=Ae(t,"hour_of_day","newAppliancesExcessProduction"),x=he(t,"totalExcessProduction"),O=we(x),I=ge(t,"totalExcessProduction"),T=Ae(t,"hour_of_day","totalExcessProduction"),k=Ie("hour_of_day",i,E),S=r*e.unmetLoadCostPerKwh,j=d*e.unmetLoadCostPerKwh,R=s*e.unmetLoadCostPerKwh,P=ge(t,"newAppliancesLoad"),L=P*e.retailElectricityPrice,D=L,U=P*e.wholesaleElectricityCost,F=U+R,G=M.a.filter(a,function(e){return"grid"===e.capexAssignment}),q=M.a.filter(a,function(e){return"appliance"===e.capexAssignment}),z=M.a.sumBy(q,"capex"),B=M.a.sumBy(G,"capex"),W=function(e){var t=M.a.flatMap(e,function(e){return e.ancillaryEquipment}),a=M.a.filter(t,function(e){return e.enabled&&"grid"===e.capexAssignment}),n=M.a.filter(t,function(e){return e.enabled&&"appliance"===e.capexAssignment});return{ancillaryCapexAssignedToGrid:M.a.sumBy(a,"capex"),ancillaryCapexAssignedToAppliance:M.a.sumBy(n,"capex")}}(a),N=W.ancillaryCapexAssignedToAppliance,H=W.ancillaryCapexAssignedToGrid,V=z+N,K=B+H,Y=function(e){if(M.a.isEmpty(e))return 0;if(M.a.size(e)>1)return"Multiple";return M.a.round(e[0].applianceSummaryStats.yearlyProductionUnits)}(a),Z=function(e){if(M.a.isEmpty(e))return"-";if(M.a.size(e)>1)return"Multiple";return e[0].productionUnitType}(a),Q=M.a.sumBy(t,"productionUnitsRevenue"),X=L-U-R,J=Q-D,_=me(X,K),$=me(J,V),ee=pe(X,K),te=pe(J,V);return{originalUnmetLoadCount:n,originalUnmetLoadCountPercent:l,originalUnmetLoadSum:M.a.round(r),originalUnmetLoadHist:i,newAppliancesUnmetLoadCount:o,newAppliancesUnmetLoadCountPercent:c,newAppliancesUnmetLoadSum:M.a.round(s),newAppliancesUnmetLoadHist:u,totalUnmetLoadCount:m,totalUnmetLoadCountPercent:p,totalUnmetLoadSum:M.a.round(d),totalUnmetLoadHist:E,allUnmetLoadHist:y,originalUnmetLoadCost:M.a.round(S),totalUnmetLoadCost:M.a.round(j),newAppliancesUnmetLoadCost:M.a.round(R),originalExcessProductionCount:f,originalExcessProductionCountPercent:h,originalExcessProductionSum:M.a.round(g),originalExcessProductionHist:b,newAppliancesExcessProductionCount:C,newAppliancesExcessProductionCountPercent:v,newAppliancesExcessProductionSum:M.a.round(A),newAppliancesExcessProductionHist:w,totalExcessProductionCount:x,totalExcessProductionCountPercent:O,totalExcessProductionSum:M.a.round(I),totalExcessProductionHist:T,allExcessProductionHist:k,newAppliancesYearlyKwh:M.a.round(P),newAppliancesGridRevenue:M.a.round(L),newAppliancesApplianceOwnerOpex:M.a.round(D),newAppliancesWholesaleElectricityCost:M.a.round(U),gridOperatorNewAppliancesOpex:M.a.round(F),yearlyProductionUnits:Y,productionUnitType:Z,yearlyProductionUnitsRevenue:M.a.round(Q),applianceCapexAssignedToAppliance:M.a.round(z),applianceCapexAssignedToGrid:M.a.round(B),ancillaryCapexAssignedToAppliance:M.a.round(N),ancillaryCapexAssignedToGrid:M.a.round(H),totalCapexAssignedToAppliance:M.a.round(V),totalCapexAssignedToGrid:M.a.round(K),gridOperatorNewAppliancesNetIncome:M.a.round(X),applianceOperatorNewAppliancesNetIncome:M.a.round(J),gridOwnerRoi:M.a.round(_),applianceOwnerRoi:M.a.round($),gridOwnerPayback:M.a.round(ee,1),applianceOwnerPayback:M.a.round(te,1)}}var Ct=M.a.map(M.a.range(0,8760),function(e){return{hour:e,hour_of_day:null,day_hour:null,newAppliancesLoad:0,productionUnitsRevenue:0}});var vt=[["hour","-"],["datetime","-"],["hour_of_day","-"],["totalElectricalLoadServed","kW"],["electricalProductionLoadDiff","kW"],["batteryEnergyContent","kWh"],["originalUnmetLoad","kW"],["totalUnmetLoad","kW"],["newAppliancesUnmetLoad","kW"],["originalExcessProduction","kW"],["totalExcessProduction","kW"],["newAppliancesExcessProduction","kW"]],At=[["Global Solar","kW/m2"],["PV Solar Altitude","\xc2\xb0"],["PV Solar Azimuth","\xc2\xb0"],["PV Angle of Incidence","\xc2\xb0"],["PV Incident Solar","kW/m2"],["PV Power Output","kW"],["AC Primary Load","kW"],["AC Primary Load Served","kW"],["Original Electrical Load Served","kW"],["Renewable Penetration","%"],["Capacity Shortage","kW"],["Total Renewable Power Output","kW"],["totalElectricalProduction","kW"],["originalElectricalProductionLoadDiff","kW"],["originalBatteryEnergyContent","kWh"],["originalModeledBatteryEnergyContent","kWh"],["Inverter Power Input","kW"],["Inverter Power Output","kW"],["Rectifier Power Input","kW"],["Rectifier Power Output","kW"],["Original Battery Maximum Charge Power","kW"],["Original Battery Maximum Discharge Power","kW"],["Original Battery Charge Power","kW"],["Original Battery Discharge Power","kW"],["Original Battery Input Power","kW"],["Original Battery State of Charge","%"],["Original Battery Energy Cost","$/kWh"],["Original Battery Temperature","C"],["Original Battery Degradation - Time and Temperature","%"],["Original Battery Degradation - Cycling","%"],["Original Battery Equivalent Cycles","cycles"],["AC Required Operating Capacity","kW"],["DC Required Operating Capacity","kW"],["AC Operating Capacity","kW"],["DC Operating Capacity","kW"]],wt=[["newAppliancesLoad","kW"],["newAppliancesAncillaryLoad","kW"],["productionUnitsRevenue","$"],["day_hour","-"],["kw_factor","-"]],xt=vt.concat(At,wt),Ot=M.a.map(xt,function(e){return M.a.first(e)}),It=M.a.fromPairs(xt),Tt=M()(vt).fromPairs().mapValues(function(e){return"hybridColumns"}).value(),kt=M()(At).fromPairs().mapValues(function(e){return"homer"}).value(),St=M()(wt).fromPairs().mapValues(function(e){return"appliance"}).value(),jt=Object(u.a)({},Tt,kt,St);window.moment=B.a,q.a.config({name:"factore_microgrid_analysis_tool",storeName:"savedState"});var Rt=D.types.model({availableGrids:D.types.optional(D.types.array(Ne),[]),stagedGrid:D.types.maybeNull(Ne),viewedGridId:D.types.maybeNull(D.types.string),appliancesAreLoading:D.types.boolean,appliances:D.types.optional(D.types.array(pt),[]),stagedAppliance:D.types.maybeNull(pt),viewedApplianceId:D.types.maybeNull(D.types.string),excludedTableColumns:D.types.optional(D.types.array(D.types.string),[]),router:F.RouterModel,appIsSaved:D.types.boolean,appIsSavedTimestamp:D.types.maybeNull(D.types.Date)}).actions(function(e){return{afterCreate:function(){e.initializeMainStore()},initializeMainStore:Object(D.flow)(R.a.mark(function t(){var a,n,l;return R.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ht();case 2:a=t.sent,n=a.initialState,l=a.isFreshState,Object(D.applySnapshot)(e,n),l&&(e.loadAvailableGrids(),e.loadAppliances());case 7:case"end":return t.stop()}},t)})),loadActiveGrid:Object(D.flow)(R.a.mark(function t(){return R.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.activeGridIsLoading=!0,t.next=3,e.activeGrid.loadFile(e.activeGrid.fileInfo);case 3:e.activeGridIsLoading=!1,e.loadAvailableGrids();case 5:case"end":return t.stop()}},t)})),loadAvailableGrids:Object(D.flow)(R.a.mark(function t(){var a,n,l,r,i,o;return R.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a=!0,n=!1,l=void 0,t.prev=3,r=e.availableGrids[Symbol.iterator]();case 5:if(a=(i=r.next()).done){t.next=12;break}return o=i.value,t.next=9,o.loadFile(o.fileInfo);case 9:a=!0,t.next=5;break;case 12:t.next=18;break;case 14:t.prev=14,t.t0=t.catch(3),n=!0,l=t.t0;case 18:t.prev=18,t.prev=19,a||null==r.return||r.return();case 21:if(t.prev=21,!n){t.next=24;break}throw l;case 24:return t.finish(21);case 25:return t.finish(18);case 26:case"end":return t.stop()}},t,null,[[3,14,18,26],[19,,21,25]])})),loadAppliances:Object(D.flow)(R.a.mark(function t(){var a,n,l,r,i,o;return R.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.appliancesAreLoading=!0,a=!0,n=!1,l=void 0,t.prev=4,r=e.appliances[Symbol.iterator]();case 6:if(a=(i=r.next()).done){t.next=13;break}return o=i.value,t.next=10,o.loadFile(o.fileInfo);case 10:a=!0,t.next=6;break;case 13:t.next=19;break;case 15:t.prev=15,t.t0=t.catch(4),n=!0,l=t.t0;case 19:t.prev=19,t.prev=20,a||null==r.return||r.return();case 22:if(t.prev=22,!n){t.next=25;break}throw l;case 25:return t.finish(22);case 26:return t.finish(19);case 27:e.appliancesAreLoading=!1;case 28:case"end":return t.stop()}},t,null,[[4,15,19,27],[20,,22,26]])})),setActiveGridFile:function(t){Object(L.runInAction)(function(){e.availableGrids.forEach(function(e){e.isActive=e.fileInfo.id===t})})},setExcludedTableColumns:function(t){M.a.includes(e.excludedTableColumns,t)?e.excludedTableColumns=M.a.without(e.excludedTableColumns,t):e.excludedTableColumns.push(t),e.saveAppState()},setViewedGridId:function(t){e.viewedGridId=t},createStagedGrid:function(){e.stagedGrid=Ne.create(He)},cancelStagedGrid:function(){Object(D.destroy)(e.stagedGrid),e.viewedGridId=null},saveStagedGrid:function(){var t=e.stagedGrid.fileInfo.id,a=Object(D.getSnapshot)(e.stagedGrid);Object(D.destroy)(e.stagedGrid),e.availableGrids.push(Ne.create(a)),e.viewedGridId=t,e.setActiveGridFile(t),e.saveAppState()},createStagedAppliance:function(){e.stagedAppliance=pt.create(dt)},cancelStagedAppliance:function(){Object(D.destroy)(e.stagedAppliance),e.viewedApplianceId=null},saveStagedAppliance:function(){var t=e.stagedAppliance.fileInfo.id,a=Object(D.getSnapshot)(e.stagedAppliance);Object(D.destroy)(e.stagedAppliance),e.appliances.push(pt.create(a)),e.viewedApplianceId=t,e.saveAppState()},deleteApplianceFile:function(t){var a=M.a.find(e.appliances,function(e){return e.fileInfo.id===t}),n=M.a.filter(e.appliances,function(e){return e.fileInfo.id!==t})[0].fileInfo.id;Object(L.runInAction)(function(){e.viewedApplianceId=n,Object(D.destroy)(a)}),e.saveAppState()},deleteGridFile:function(t){var a=M.a.find(e.availableGrids,function(e){return e.fileInfo.id===t}),n=M.a.filter(e.availableGrids,function(e){return e.fileInfo.id!==t})[0].fileInfo.id;Object(L.runInAction)(function(){e.setActiveGridFile(n),e.viewedGridId=n,Object(D.destroy)(a)}),e.saveAppState()},setViewedApplianceId:function(t){e.viewedApplianceId=t},setAppSavedState:function(){e.appIsSaved=!0,e.appIsSavedTimestamp=Date.now(),console.log("app saved")},saveAppState:function(){q.a.setItem("latest",Object(D.getSnapshot)(e)).then(function(){e.setAppSavedState(!0)})},clearAppState:function(){q.a.clear().then(function(){console.log("Database is now empty.")}).catch(function(e){console.log(e)})}}}).views(function(e){return{get activeGrid(){return M.a.find(e.availableGrids,function(e){return e.isActive})},get inActiveGrids(){return M.a.filter(e.availableGrids,function(e){return!e.isActive})},get summedApplianceColumns(){return function(e){if(M.a.isEmpty(e))return Ct;var t=M.a.zip.apply(M.a,Object(_.a)(M.a.map(e,"calculatedApplianceColumns")));return M.a.map(t,function(e){var t=M.a.sumBy(e,"newApplianceLoad"),a=M.a.sumBy(e,"newApplianceAncillaryLoad"),n=M.a.sumBy(e,"productionUnitsRevenue");return{hour:e[0].hour,hour_of_day:e[0].hour_of_day,day_hour:e[0].day_hour,newAppliancesLoad:M.a.round(t,4),newAppliancesAncillaryLoad:M.a.round(a,4),productionUnitsRevenue:M.a.round(n,4)}})}(e.enabledAppliances)},get hybridColumns(){return function(e,t){if(M.a.isEmpty(e)||M.a.isEmpty(e.fileData)||M.a.isEmpty(t))return[];var a=e.batteryMinEnergyContent,n=e.batteryMaxEnergyContent;return M.a.reduce(e.fileData,function(e,l,r,i){var o=t[r],c=0===r?{}:e[r-1],s=o.newAppliancesLoad,u=l["Total Renewable Power Output"],m=("AC"===Se(M.a.keys(l)).powerType?l["AC Primary Load"]:l["DC Primary Load"])+s+o.newAppliancesAncillaryLoad,p=u-m,d=Te({rowIndex:r,prevBatteryEnergyContent:0===r?l.originalBatteryEnergyContent:c.batteryEnergyContent,electricalProductionLoadDiff:p,batteryMinEnergyContent:a,batteryMaxEnergyContent:n}),E=d.batteryEnergyContent,y=d.totalExcessProduction,f=d.totalUnmetLoad,h=M.a.round(l["Original Unmet Electrical Load"],6),g=f-h<0?0:f-h,b=M.a.round(l["Original Excess Electrical Production"]),C=y-b>0?0:Math.abs(y-b);return e.push({hour:l.hour,datetime:l.Time,hour_of_day:o.hour_of_day,day:o.day,day_hour:o.day_hour,newAppliancesLoad:M.a.round(s,4),batteryEnergyContent:M.a.round(E,4),totalElectricalProduction:M.a.round(u,4),totalElectricalLoadServed:M.a.round(m,4),electricalProductionLoadDiff:M.a.round(p,4),originalUnmetLoad:M.a.round(h,1),totalUnmetLoad:M.a.round(f,1),newAppliancesUnmetLoad:M.a.round(g,1),originalExcessProduction:M.a.round(b,4),totalExcessProduction:M.a.round(y,4),newAppliancesExcessProduction:M.a.round(C,4)}),e},[])}(e.activeGrid,e.summedApplianceColumns)},get combinedTable(){return t=e.activeGrid.fileData,a=e.summedApplianceColumns,n=e.hybridColumns,M.a.isEmpty(t)||M.a.isEmpty(a)||M.a.isEmpty(n)?[]:Ie("hour",t,a,n);var t,a,n},get summaryStats(){return bt(e.activeGrid,e.combinedTable,e.enabledAppliances)},get filteredCombinedTableHeaders(){return M.a.filter(Ot,function(t){return!M.a.includes(e.excludedTableColumns,t)})},get percentTableColumnsShowing(){return M.a.round(M.a.size(e.filteredCombinedTableHeaders)/M.a.size(Ot)*100)},get viewedGridIsStaged(){return"staged"===e.viewedGridId},get viewedGrid(){return M.a.isEmpty(e.availableGrids)?null:e.viewedGridIsStaged?e.stagedGrid:M.a.find(e.availableGrids,function(t){return t.fileInfo.id===e.viewedGridId})},get viewedApplianceIsStaged(){return"staged"===e.viewedApplianceId},get viewedAppliance(){return e.viewedApplianceIsStaged?e.stagedAppliance:M.a.find(e.appliances,function(t){return t.fileInfo.id===e.viewedApplianceId})},get enabledAppliances(){return M.a.filter(e.appliances,function(e){return e.enabled})},get multipleAppliancesEnabled(){return M.a.size(e.enabledAppliances)>1},get noAppliancesEnabled(){return 0===M.a.size(e.enabledAppliances)},get enabledApplianceLabels(){return function(e){var t=M.a.map(e,function(e){return e.label}),a=M.a.size(t);return 0===a?"No Appliances Selected":a>2?"".concat(a," Appliances Selected"):t.join(", ")}(e.enabledAppliances)},get ancillaryEquipmentLabels(){return function(e){var t=M.a.size(e);if(0===t)return"No equipment selected";if(1===t){var a=e[0].enabledAncillaryEquipmentLabels;return M.a.isEmpty(a)?"-":a.join(", ")}return"Multiple Appliances"}(e.enabledAppliances)},get maxApplianceLoad(){return function(e){var t=M.a.maxBy(e,"totalElectricalLoadServed");return{maxLoadValue:t.totalElectricalLoadServed,maxLoadFirstHour:t.hour}}(e.combinedTable)}}}),Pt={availableGrids:[],stagedGrid:null,viewedGridId:null,appliancesAreLoading:!0,appliances:[],viewedApplianceId:null,excludedTableColumns:[],router:F.RouterModel.create(),appIsSaved:!0,appIsSavedTimestamp:null},Mt=Rt.create(Pt);window.mainStore=Mt,Object(U.a)(Mt,"activeGrid"),M.a.forEach(Mt.appliances,function(e){Object(U.a)(e,"calculatedApplianceColumns"),Object(U.a)(e,"applianceSummaryStats")}),Object(L.autorun)(function(){if(M.a.isEmpty(Mt.activeGrid)||M.a.isEmpty(Mt.appliances))return null;Mt.appliances.forEach(function(e){e.ancillaryEquipment.forEach(function(t){t.updateValues({equipmentType:t.equipmentType,gridPowerType:Mt.activeGrid.powerType,applPowerType:e.powerType,applHasMotor:e.hasMotor,applPhase:e.phase,applPowerFactor:e.powerFactor,applSize:e.nominalPower,ancillaryEquipmentList:K})})})});var Lt=a(899),Dt=a(900),Ut=a(879),Ft=a(90),Gt=a(177),qt=function(e){return n.createElement(Gt.a,Object.assign({exact:!0},e,{activeClassName:"active"}))},zt=a(456),Bt=a.n(zt),Wt=Object(s.b)("store")(Object(s.c)(function(e){var t=e.store,a=t.saveAppState,l=t.appIsSavedTimestamp;return n.createElement(Lt.a,null,n.createElement(Lt.a.Item,{header:!0,as:qt,to:"/"},n.createElement("img",{src:Bt.a,style:{width:"20px",marginRight:"5px"},alt:"Factor[e] Microgrid Appliance Tool"}),"Microgrid Appliance Analysis Tool"),n.createElement(Lt.a.Menu,{position:"right"},n.createElement("div",{style:{paddingTop:"8px",paddingRight:"8px"}},n.createElement(Dt.a,{position:"bottom center",inverted:!0,content:function(){return se(l)},trigger:n.createElement(Ut.a,{content:"Save",icon:"save",size:"tiny",color:"blue",compact:!0,onClick:a,basic:!0})})),n.createElement(Lt.a.Item,{as:qt,to:"/files/homer"},n.createElement(Ft.a,{name:"file"}),"Files"),n.createElement(Lt.a.Item,{as:qt,to:"/about"},n.createElement(Ft.a,{name:"info circle"}),"About")))})),Nt=a(29),Ht=a(30),Vt=a(32),Kt=a(31),Yt=a(33),Zt=a(890),Qt=a(895),Xt=a(878),Jt=a(892),_t=a(888),$t=a(902),ea=a(903),ta=a(894),aa=a(889),na=a(187),la=(a(674),function(e){function t(e){var a;Object(Nt.a)(this,t),(a=Object(Vt.a)(this,Object(Kt.a)(t).call(this,e))).handleBlur=function(e){var t=a.props,n=t.fieldKey,l=t.modelInstance,r=l.onModelInputBlur,i=l.modelInputValues[n],o=Ke[n],c=ca(i,o);switch(o.type){case"integer":r(n,parseInt(i,10),c);break;case"float":r(n,parseFloat(i),c);break;default:r(n,i,c)}},a.handleChange=function(e,t){var n=t.value,l=a.props.fieldKey,r=Ke[l],i=ca(n,r);a.props.modelInstance.onModelInputChange(l,n,i)};var n=a.props,l=n.fieldKey,r=n.modelInstance;if(M.a.isEmpty(r))throw new Error("Must supply modelInstance to input field");if(M.a.isEmpty(r.onModelInputChange))throw new Error("modelInstance must have an onModelInputChange as an action");if(M.a.isNil(l))throw new Error("fieldKey is required");if(M.a.isNil(Ke[l]))throw new Error("fieldKey passed in is not found in fieldDefinitions: ".concat(l));if(M.a.has(r[l]))throw new Error("fieldKey passed in is not found in model instance: ".concat(l));if(M.a.has(r["".concat(l,"Temp")]))throw new Error("".concat(l,"Temp passed in is not found in model instance: ").concat(l,"Temp"));if(M.a.has(r["".concat(l,"Error")]))throw new Error("".concat(l,"Error passed in is not found in model instance: ").concat(l,"Error"));return a}return Object(Yt.a)(t,e),Object(Ht.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.fieldKey,l=t.modelInstance,r=t.disabled,i=t.labelLeft,o=t.labelRight,c=t.size;if(M.a.isEmpty(l))return n.createElement("span",null,"Missing Data");var s=l.modelInputValues,u=l.modelInputErrors,m=Ke[a].units,p=0===s[a]?0:s[a]||"",d=Boolean(u[a]);return i?n.createElement(Jt.a.Field,{error:d},n.createElement(aa.a,{labelPosition:o?"right":"left",type:"text",size:c||"mini",fluid:!0},n.createElement(na.a,{basic:!0},i),n.createElement("input",{value:p,onChange:function(t){return e.handleChange(t,{value:t.target.value})},onBlur:this.handleBlur,disabled:r,style:{minWidth:"60px"}}),o&&n.createElement(na.a,null,o))):n.createElement("div",{className:"InputFieldWrapper"},n.createElement(aa.a,{value:p,onChange:this.handleChange,onBlur:this.handleBlur,error:d,size:c||"small",fluid:!0,disabled:r,style:{minWidth:"120px"},label:oa(m,l),labelPosition:ia(m)}))}}]),t}(n.Component)),ra=Object(s.b)("store")(Object(s.c)(la));function ia(e){return e?"$"===e?"left":"right":null}function oa(e,t){if(!e)return null;var a=t.productionUnitType;return{basic:!0,content:M.a.includes(e,"productionUnitType")?M.a.replace(e,"productionUnitType",a||"-"):e}}var ca=function(e,t){var a,n=!1;return"float"===t.type&&(n=!(null!=(a=e)&&""!==(""+a).trim()&&!isNaN(+a))&&"Field is not a float"),"integer"===t.type&&(n=!function(e){return null!=e&&""!==(""+e).trim()&&~~e===+e}(e)&&"Field is not an integer"),n},sa=Object(s.b)("store")(Object(s.c)(function(e){var t=e.store,a=t.appliancesAreLoading,n=t.enabledApplianceLabels;return l.a.createElement("div",Object.assign({},M.a.omit(e,["loading"]),{style:{cursor:"pointer"}}),n,a?l.a.createElement(Zt.a,{active:!0,inline:!0,size:"tiny",style:{paddingLeft:"26px"}}):l.a.createElement(Ft.a,{name:"dropdown",style:{paddingLeft:"12px"}}))})),ua=Object(s.b)("store")(Object(s.c)(function(e){var t=e.store.appliances;return l.a.createElement(Qt.a,{basic:"very",compact:!0},l.a.createElement(Qt.a.Header,null,l.a.createElement(Qt.a.Row,null,l.a.createElement(Qt.a.HeaderCell,null,"Enable"),l.a.createElement(Qt.a.HeaderCell,{style:{width:"200px"}},"Label"),l.a.createElement(Qt.a.HeaderCell,{style:{width:"300px"}},"Description"),l.a.createElement(Qt.a.HeaderCell,{style:{width:"120px"}},"Cost"),l.a.createElement(Qt.a.HeaderCell,{collapsing:!0},"Cost Assignment"))),l.a.createElement(Qt.a.Body,null,M.a.map(t,function(e){var t=e.fileInfo,a=e.label,n=e.description,r=e.capexAssignment,i=e.enabled,o=e.toggleAppliance,c=e.handleCapexAssignmentChange;return l.a.createElement(Qt.a.Row,{key:t.id},l.a.createElement(Qt.a.Cell,{collapsing:!0},l.a.createElement(Xt.a,{toggle:!0,checked:i,onChange:o})),l.a.createElement(Qt.a.Cell,null,a),l.a.createElement(Qt.a.Cell,null,n),l.a.createElement(Qt.a.Cell,null,l.a.createElement(ra,{fieldKey:"capex",modelInstance:e})),l.a.createElement(Qt.a.Cell,null,l.a.createElement(Jt.a,{style:{marginTop:"7px",marginBottom:"7px"}},l.a.createElement(Jt.a.Field,null,l.a.createElement(_t.a,{label:"Appliance Owner",name:"radioGroup",value:"appliance",checked:"appliance"===r,onChange:c})),l.a.createElement(Jt.a.Field,{style:{marginBottom:0}},l.a.createElement(_t.a,{label:"Grid Owner",name:"radioGroup",value:"grid",checked:"grid"===r,style:{marginBottom:"3px"},onChange:c})))))})))})),ma=function(e){function t(){var e,a;Object(Nt.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(Vt.a)(this,(e=Object(Kt.a)(t)).call.apply(e,[this].concat(l)))).setActiveGridFile=function(e,t){e.preventDefault(),a.props.store.setActiveGridFile(t.value)},a}return Object(Yt.a)(t,e),Object(Ht.a)(t,[{key:"render",value:function(){var e=this,t=this.props.store,a=t.activeGrid,n=t.availableGrids,r=t.activeGridIsLoading,i=t.ancillaryEquipmentLabels;return l.a.createElement($t.a,{columns:"equal",padded:!0},l.a.createElement($t.a.Row,null,l.a.createElement($t.a.Column,null,l.a.createElement(ea.a,{as:"h5",style:{marginBottom:4}},"Select Grid File:"),l.a.createElement(ta.a,{text:a.label,loading:r},l.a.createElement(ta.a.Menu,null,M.a.map(n,function(t){return l.a.createElement(ta.a.Item,{text:t.label,key:t.fileInfo.id,description:t.description,value:t.fileInfo.id,active:t.fileInfo.id===a.fileInfo.id,onClick:e.setActiveGridFile})})))),l.a.createElement($t.a.Column,null,l.a.createElement(ea.a,{as:"h5",style:{marginBottom:4}},"Select Appliance Usage Profile:"),l.a.createElement(Dt.a,{flowing:!0,trigger:l.a.createElement(sa,null),content:l.a.createElement(ua,null),on:"click",position:"bottom center"})),l.a.createElement($t.a.Column,null,l.a.createElement(ea.a,{as:"h5",style:{marginBottom:4}},"Selected Ancillary Equipment"),i)))}}]),t}(n.Component),pa=Object(s.b)("store")(Object(s.c)(ma)),da=Object(s.b)("store")(Object(s.c)(function(e){e.store;return n.createElement("div",{className:"main-wrapper",style:{padding:"20px"}},n.createElement($t.a,null,n.createElement($t.a.Row,null,n.createElement($t.a.Column,{width:16},n.createElement("h3",null,"Data is Loading ",n.createElement(Zt.a,{active:!0,inline:!0,size:"tiny"})))),n.createElement($t.a.Row,null)))})),Ea=a(904),ya={position:"relative",zIndex:"1000"},fa=function(e){var t=e.content,a=e.wide,l=e.inverted,r=void 0===l||l,i=e.position,o=void 0===i?"bottom left":i;return n.createElement(Dt.a,{trigger:n.createElement(Ft.a,{name:"question circle outline",size:"small",color:"grey",style:ya}),position:o,inverted:r,wide:a},n.createElement(Dt.a.Content,null,t))},ha=a(893),ga=function(e){return n.createElement(ha.a,{trigger:n.createElement(Ft.a,{name:"question circle outline",size:"small",color:"grey",style:{cursor:"pointer"}}),closeIcon:!0},n.createElement(ha.a.Header,null,"Count of unmet load hours per year"),n.createElement(ha.a.Content,null,n.createElement("p",null,"This is the estimated number of hours that the grid can't support the load. This may be, for example, how many times per year the backup generator has to turn on."),n.createElement("p",null,n.createElement("strong",null,"Q:")," What determines the threshold of unmet load vs met load?"),n.createElement("p",null,n.createElement("strong",null,"A:")," It depends on how we round it. HOMER generates files with an unmet load of 1x10^-16, which is extremely small and due to errors on how computers calculate numbers. So clearly some rounding needs to happen. But how much do we round it? The load units are kW and the time interval is 1 hour."),n.createElement("ul",null,n.createElement("li",null,"3 decimals: 1 watt\u2022hour"),n.createElement("li",null,"2 decimals: 10 watt\u2022hour"),n.createElement("li",null,n.createElement("strong",null,"1 decimals: 100 watt\u2022hour")),n.createElement("li",null,"0 decimals: 1 kilowatt\u2022hour")),n.createElement("p",null,"We chose to call anything above 100 watt\u2022hours as an unmet load."),n.createElement("p",null,n.createElement("strong",null,"Q:")," Why don't original and additional counts add up to total?"),n.createElement("p",null,n.createElement("strong",null,"A:")," These are counts of hours that the load is unmet. For a single hour, both the original and the additional load can be unmet. If we add these up, that's 2. But in reality, for that same hour, it's only unmet once. If we added up the kW (sum column) for that hour of both original and unmet, then it will equal the total (within rounding errors). Below is a table that shows how original and additional unmet load counts don't need to equal the total."),n.createElement(Qt.a,{compact:!0,celled:!0,collapsing:!0},n.createElement(Qt.a.Header,null,n.createElement(Qt.a.Row,null,n.createElement(Qt.a.HeaderCell,null),n.createElement(Qt.a.HeaderCell,null,"Original Unmet Load"),n.createElement(Qt.a.HeaderCell,null,"Additional Unmet Load"),n.createElement(Qt.a.HeaderCell,null,"Total Unmet Load"))),n.createElement(Qt.a.Body,null,n.createElement(Qt.a.Row,null,n.createElement(Qt.a.Cell,null),n.createElement(Qt.a.Cell,null,"0"),n.createElement(Qt.a.Cell,null,"0"),n.createElement(Qt.a.Cell,null,"0")),n.createElement(Qt.a.Row,null,n.createElement(Qt.a.Cell,null),n.createElement(Qt.a.Cell,null,"0"),n.createElement(Qt.a.Cell,null,"1"),n.createElement(Qt.a.Cell,null,"1")),n.createElement(Qt.a.Row,null,n.createElement(Qt.a.Cell,null),n.createElement(Qt.a.Cell,null,"1"),n.createElement(Qt.a.Cell,null,"2"),n.createElement(Qt.a.Cell,null,"3")),n.createElement(Qt.a.Row,null,n.createElement(Qt.a.Cell,null),n.createElement(Qt.a.Cell,null,"2"),n.createElement(Qt.a.Cell,null,"0"),n.createElement(Qt.a.Cell,null,"2")),n.createElement(Qt.a.Row,null,n.createElement(Qt.a.Cell,null),n.createElement(Qt.a.Cell,null,"4"),n.createElement(Qt.a.Cell,null,"0"),n.createElement(Qt.a.Cell,null,"4"))),n.createElement(Qt.a.Footer,{fullWidth:!0},n.createElement(Qt.a.Row,null,n.createElement(Qt.a.HeaderCell,null,"Count of values above zero"),n.createElement(Qt.a.HeaderCell,null,"3"),n.createElement(Qt.a.HeaderCell,null,"2"),n.createElement(Qt.a.HeaderCell,null,"4")),n.createElement(Qt.a.Row,null,n.createElement(Qt.a.HeaderCell,null,"Sum"),n.createElement(Qt.a.HeaderCell,{colSpan:2},"Original + Additional: 5"),n.createElement(Qt.a.HeaderCell,null,"Total: 4")),n.createElement(Qt.a.Row,null,n.createElement(Qt.a.HeaderCell,null),n.createElement(Qt.a.HeaderCell,{colSpan:3},"Original + Additional (5) > Total (4)"))))))},ba=Object(s.b)("store")(Object(s.c)(function(e){var t=e.store.summaryStats,a=M.a.get(t,"newAppliancesGridRevenue","-"),l=M.a.get(t,"totalCapexAssignedToGrid","-"),r=M.a.get(t,"applianceCapexAssignedToGrid","-"),i=M.a.get(t,"ancillaryCapexAssignedToGrid","-"),o=M.a.get(t,"newAppliancesWholesaleElectricityCost","-"),c=M.a.get(t,"gridOperatorNewAppliancesOpex","-"),s=M.a.get(t,"newAppliancesUnmetLoadCost","-"),u=M.a.get(t,"gridOperatorNewAppliancesNetIncome","-"),m=M.a.get(t,"gridOwnerRoi","-"),p=M.a.get(t,"gridOwnerPayback","-");return n.createElement("div",null,n.createElement(ea.a,{as:"h4"},"Economic Outputs"),n.createElement(Qt.a,{basic:"very",collapsing:!0,compact:!0},n.createElement(Qt.a.Body,null,n.createElement(Qt.a.Row,null,n.createElement(Qt.a.Cell,null,"CapEx - New Appliances"," ",n.createElement(fa,{content:"Upfront investment for all enabled appliances assigned to the grid operator. This does not include appliances that were represented in the original HOMER file."})),n.createElement(Qt.a.Cell,{textAlign:"right"},"$ ",r)),n.createElement(Qt.a.Row,null,n.createElement(Qt.a.Cell,null,"CapEx - Ancillary Equipment"," ",n.createElement(fa,{content:"Upfront investment for all ancillary equipment assigned to the grid operator. Only enabled ancillary equipment is counted."})),n.createElement(Qt.a.Cell,{textAlign:"right"},"$ ",i)),n.createElement(Qt.a.Row,null,n.createElement(Qt.a.Cell,null,"CapEx - New Appliances & Ancillary"," ",n.createElement(fa,{content:"Upfront investment for all enabled appliances and ancillary equipment assigned to grid operator."})),n.createElement(Qt.a.Cell,{textAlign:"right"},"$ ",l)),n.createElement(Qt.a.Row,null,n.createElement(Qt.a.Cell,null,"Electricity Revenue"," ",n.createElement(fa,{content:"Grid operator's electricity revenue from all enabled appliances and any enabled ancillary equipment. This does not take into account revenue from loads represented in the original HOMER file."})),n.createElement(Qt.a.Cell,{textAlign:"right"},"$ ",a)),n.createElement(Qt.a.Row,null,n.createElement(Qt.a.Cell,null,"Wholesale Electricity Costs"," ",n.createElement(fa,{content:"Grid operator's wholesale electricity cost from all enabled appliances and any enabled ancillary equipment. This does not take into account costs from loads represented in the original HOMER file."})),n.createElement(Qt.a.Cell,{textAlign:"right"},"$ ",o)),n.createElement(Qt.a.Row,null,n.createElement(Qt.a.Cell,null,"Unmet Load Cost"," ",n.createElement(fa,{content:"Grid operator's cost to cover the unmet load. This can happen when the battery is empty and production can't keep up with demand. Unmet load could be met by a generator, for example, and may have different costs than normal production."})),n.createElement(Qt.a.Cell,{textAlign:"right"},"$ ",s)),n.createElement(Qt.a.Row,null,n.createElement(Qt.a.Cell,null,"OpEx"," ",n.createElement(fa,{content:"Grid operator's operating expenses to cover any new enabled appliances and ancillary equipment. It is calculated by adding up the wholesale electricity costs and the unmet load costs."})),n.createElement(Qt.a.Cell,{textAlign:"right"},"$ ",c)),n.createElement(Qt.a.Row,null,n.createElement(Qt.a.Cell,null,"Net Income"," ",n.createElement(fa,{content:"Grid operator's net income from enabled appliances and ancillary equipment. It is calculated by subtracting the OpEx from the revenue from the new appliances."})),n.createElement(Qt.a.Cell,{textAlign:"right"},"$ ",u)),n.createElement(Qt.a.Row,null,n.createElement(Qt.a.Cell,null,"ROI"," ",n.createElement(fa,{content:"Grid operator's return on investment from enabled appliances and ancillary equipment. It is calculated by dividing the net income by the total CapEx for the appliances and ancillary equipment."})),n.createElement(Qt.a.Cell,{textAlign:"right"},m," ",M.a.isFinite(m)?"%":"")),n.createElement(Qt.a.Row,null,n.createElement(Qt.a.Cell,null,"Payback"," ",n.createElement(fa,{content:"Grid operator's payback, in years, from enabled appliances and ancillary equipment. It is calculated by dividing the CapEx by the net income."})),n.createElement(Qt.a.Cell,{textAlign:"right"},p," yrs")))))})),Ca=Object(s.b)("store")(Object(s.c)(function(e){var t=e.store.summaryStats,a=M.a.get(t,"newAppliancesYearlyKwh","-"),l=M.a.get(t,"originalUnmetLoadCount","-"),r=M.a.get(t,"originalUnmetLoadCountPercent","-"),i=M.a.get(t,"originalUnmetLoadSum","-"),o=M.a.get(t,"newAppliancesUnmetLoadCount","-"),c=M.a.get(t,"newAppliancesUnmetLoadSum","-"),s=M.a.get(t,"newAppliancesUnmetLoadCountPercent","-"),u=M.a.get(t,"totalUnmetLoadCount","-"),m=M.a.get(t,"totalUnmetLoadCountPercent","-"),p=M.a.get(t,"totalUnmetLoadSum","-"),d=M.a.get(t,"originalExcessProductionCount","-"),E=M.a.get(t,"originalExcessProductionCountPercent","-"),y=M.a.get(t,"originalExcessProductionSum","-"),f=M.a.get(t,"newAppliancesExcessProductionCount","-"),h=M.a.get(t,"newAppliancesExcessProductionSum","-"),g=M.a.get(t,"newAppliancesExcessProductionCountPercent","-"),b=M.a.get(t,"totalExcessProductionCount","-"),C=M.a.get(t,"totalExcessProductionCountPercent","-"),v=M.a.get(t,"totalExcessProductionSum","-");return n.createElement("div",null,n.createElement(ea.a,{as:"h4"},"Technical Outputs"),n.createElement(Qt.a,{basic:"very",celled:!0,collapsing:!0,compact:!0},n.createElement(Qt.a.Body,null,n.createElement(Qt.a.Row,null,n.createElement(Qt.a.Cell,null,"New Appliances Energy Consumption"),n.createElement(Qt.a.Cell,null,a," kWh")))),n.createElement(Qt.a,{definition:!0,basic:!0,compact:!0},n.createElement(Qt.a.Header,null,n.createElement(Qt.a.Row,null,n.createElement(Qt.a.HeaderCell,null),n.createElement(Qt.a.HeaderCell,null,"Count ",n.createElement("em",null,"hrs/year")," ",n.createElement(ga,null)),n.createElement(Qt.a.HeaderCell,null,"Sum ",n.createElement("em",null,"kWh")),n.createElement(Qt.a.HeaderCell,null,"Percent of Year"))),n.createElement(Qt.a.Body,null,n.createElement(Qt.a.Row,null,n.createElement(Qt.a.Cell,null,"Original Unmet Load"),n.createElement(Qt.a.Cell,{textAlign:"right"},l),n.createElement(Qt.a.Cell,{textAlign:"right"},i),n.createElement(Qt.a.Cell,{textAlign:"right"},r,"%")),n.createElement(Qt.a.Row,null,n.createElement(Qt.a.Cell,null,"New Appliances Unmet Load"),n.createElement(Qt.a.Cell,{textAlign:"right"},o),n.createElement(Qt.a.Cell,{textAlign:"right"},c),n.createElement(Qt.a.Cell,{textAlign:"right"},s,"%")),n.createElement(Qt.a.Row,null,n.createElement(Qt.a.Cell,null,"Total Unmet Load"),n.createElement(Qt.a.Cell,{textAlign:"right"},u),n.createElement(Qt.a.Cell,{textAlign:"right"},p),n.createElement(Qt.a.Cell,{textAlign:"right"},m,"%")))),n.createElement(Qt.a,{definition:!0,basic:!0,compact:!0},n.createElement(Qt.a.Header,null,n.createElement(Qt.a.Row,null,n.createElement(Qt.a.HeaderCell,null),n.createElement(Qt.a.HeaderCell,null,"Count ",n.createElement("em",null,"hrs/year")," ",n.createElement(ga,null)),n.createElement(Qt.a.HeaderCell,null,"Sum ",n.createElement("em",null,"kWh")),n.createElement(Qt.a.HeaderCell,null,"Percent of Year"))),n.createElement(Qt.a.Body,null,n.createElement(Qt.a.Row,null,n.createElement(Qt.a.Cell,null,"Original Excess Production"),n.createElement(Qt.a.Cell,{textAlign:"right"},d),n.createElement(Qt.a.Cell,{textAlign:"right"},y),n.createElement(Qt.a.Cell,{textAlign:"right"},E,"%")),n.createElement(Qt.a.Row,null,n.createElement(Qt.a.Cell,null,"New Appliances Excess Production"),n.createElement(Qt.a.Cell,{textAlign:"right"},f),n.createElement(Qt.a.Cell,{textAlign:"right"},h),n.createElement(Qt.a.Cell,{textAlign:"right"},g,"%")),n.createElement(Qt.a.Row,null,n.createElement(Qt.a.Cell,null,"Total Excess Production"),n.createElement(Qt.a.Cell,{textAlign:"right"},b),n.createElement(Qt.a.Cell,{textAlign:"right"},v),n.createElement(Qt.a.Cell,{textAlign:"right"},C,"%")))))})),va=Object(s.b)("store")(Object(s.c)(function(e){var t=e.store.summaryStats,a=M.a.get(t,"newAppliancesApplianceOwnerOpex","-"),l=M.a.get(t,"yearlyProductionUnitsRevenue","-"),r=M.a.get(t,"applianceOperatorNewAppliancesNetIncome","-"),i=M.a.get(t,"totalCapexAssignedToAppliance","-"),o=M.a.get(t,"applianceCapexAssignedToAppliance","-"),c=M.a.get(t,"ancillaryCapexAssignedToAppliance","-"),s=M.a.get(t,"applianceOwnerRoi","-"),u=M.a.get(t,"applianceOwnerPayback","-");return n.createElement("div",null,n.createElement(ea.a,{as:"h4"},"Economic Outputs"),n.createElement(Qt.a,{basic:"very",collapsing:!0,compact:!0},n.createElement(Qt.a.Body,null,n.createElement(Qt.a.Row,null,n.createElement(Qt.a.Cell,null,"CapEx - New Appliances"," ",n.createElement(fa,{content:"Upfront investment for all enabled appliances assigned to the appliance operator. This does not include appliances that were represented in the original HOMER file."})),n.createElement(Qt.a.Cell,{textAlign:"right"},"$ ",o)),n.createElement(Qt.a.Row,null,n.createElement(Qt.a.Cell,null,"CapEx - Ancillary Equipment"," ",n.createElement(fa,{content:"Upfront investment for all ancillary equipment assigned to the appliance operator. Only enabled ancillary equipment is counted."})),n.createElement(Qt.a.Cell,{textAlign:"right"},"$ ",c)),n.createElement(Qt.a.Row,null,n.createElement(Qt.a.Cell,null,"CapEx - New Appliances & Ancillary"," ",n.createElement(fa,{content:"Upfront investment for all enabled appliances and ancillary equipment assigned to the appliance operator."})),n.createElement(Qt.a.Cell,{textAlign:"right"},"$ ",i)),n.createElement(Qt.a.Row,null,n.createElement(Qt.a.Cell,null,"Electricity Costs"," ",n.createElement(fa,{content:"Appliance operator's electricity cost from all enabled appliances and any enabled ancillary equipment. This does not take into account cost from loads represented in the original HOMER file."})),n.createElement(Qt.a.Cell,{textAlign:"right"},"$ ",a)),n.createElement(Qt.a.Row,null,n.createElement(Qt.a.Cell,null,"Appliance-Related Revenue"," ",n.createElement(fa,{content:"Appliance operator's revenue from enabled appliances."})),n.createElement(Qt.a.Cell,{textAlign:"right"},"$ ",l)),n.createElement(Qt.a.Row,null,n.createElement(Qt.a.Cell,null,"OpEx"," ",n.createElement(fa,{content:"Appliance operator's operating expenses to cover any new enabled appliances and ancillary equipment. This is the same as the electricity cost for the appliances."})),n.createElement(Qt.a.Cell,{textAlign:"right"},"$ ",a)),n.createElement(Qt.a.Row,null,n.createElement(Qt.a.Cell,null,"Net Income"," ",n.createElement(fa,{content:"Appliance operator's net income from enabled appliances. It is calculated by subtracting the OpEx from the yearly revenue from the appliances."})),n.createElement(Qt.a.Cell,{textAlign:"right"},"$ ",r)),n.createElement(Qt.a.Row,null,n.createElement(Qt.a.Cell,null,"ROI"," ",n.createElement(fa,{content:"Appliance operator's return on investment from enabled appliances and ancillary equipment. It is calculated by dividing the net income by the total CapEx."})),n.createElement(Qt.a.Cell,{textAlign:"right"},s," ",M.a.isFinite(s)?"%":"")),n.createElement(Qt.a.Row,null,n.createElement(Qt.a.Cell,null,"Payback"," ",n.createElement(fa,{content:"Appliance operator's payback, in years, from enabled appliances and ancillary equipment. It is calculated by dividing the total CapEx by the net income."})),n.createElement(Qt.a.Cell,{textAlign:"right"},u," yrs")))))})),Aa=Object(s.b)("store")(Object(s.c)(function(e){var t=e.store.summaryStats,a=t.yearlyProductionUnits,l=t.productionUnitType,r=t.newAppliancesYearlyKwh;return n.createElement("div",null,n.createElement(ea.a,{as:"h4"},"Technical Outputs"),n.createElement(Qt.a,{basic:"very",collapsing:!0,compact:!0},n.createElement(Qt.a.Body,null,n.createElement(Qt.a.Row,null,n.createElement(Qt.a.Cell,null,"New Appliances Electricity Consumption"),n.createElement(Qt.a.Cell,{textAlign:"right"},r||0," kWh")),n.createElement(Qt.a.Row,null,n.createElement(Qt.a.Cell,null,"Units Produced"),n.createElement(Qt.a.Cell,{textAlign:"right"},"Multiple"===a?"Multiple":"".concat(a," ").concat(l))))))})),wa=a(185),xa=a.n(wa),Oa=Object(s.b)("store")(Object(s.c)(function(e){var t=e.store,a=t.activeGrid,l=t.enabledAppliances,r=t.multipleAppliancesEnabled;return n.createElement(Qt.a,{basic:"very",collapsing:!0,compact:!0,className:xa.a.borderless},n.createElement(Qt.a.Body,null,n.createElement(Qt.a.Row,null,n.createElement(Qt.a.Cell,null,Ke.wholesaleElectricityCost.title," ",n.createElement(fa,{content:Ke.wholesaleElectricityCost.description})),n.createElement(Qt.a.Cell,null,n.createElement(ra,{fieldKey:"wholesaleElectricityCost",modelInstance:a}))),n.createElement(Qt.a.Row,null,n.createElement(Qt.a.Cell,null,Ke.retailElectricityPrice.title," ",n.createElement(fa,{content:Ke.retailElectricityPrice.description})),n.createElement(Qt.a.Cell,null,n.createElement(ra,{fieldKey:"retailElectricityPrice",modelInstance:a}))),n.createElement(Qt.a.Row,null,n.createElement(Qt.a.Cell,null,Ke.unmetLoadCostPerKwh.title," ",n.createElement(fa,{content:Ke.unmetLoadCostPerKwh.description})),n.createElement(Qt.a.Cell,null,n.createElement(ra,{fieldKey:"unmetLoadCostPerKwh",modelInstance:a}))),n.createElement(Qt.a.Row,null,n.createElement(Qt.a.Cell,null,Ke.revenuePerProductionUnits.title," ",n.createElement(fa,{content:Ke.revenuePerProductionUnits.description})),n.createElement(Qt.a.Cell,null,r?"Multiple Appliance Enabled":n.createElement(ra,{fieldKey:"revenuePerProductionUnits",modelInstance:l[0]})))))})),Ia=Object(s.b)("store")(Object(s.c)(function(e){var t=e.store,a=t.enabledAppliances,l=t.multipleAppliancesEnabled;return n.createElement(Qt.a,{basic:"very",collapsing:!0,compact:!0,className:xa.a.borderless},n.createElement(Qt.a.Body,null,n.createElement(Qt.a.Row,null,n.createElement(Qt.a.Cell,null,Ke.nominalPower.title," ",n.createElement(fa,{content:Ke.nominalPower.description})),n.createElement(Qt.a.Cell,null,l?"Multiple Appliance Enabled":n.createElement(ra,{fieldKey:"nominalPower",modelInstance:a[0]}))),n.createElement(Qt.a.Row,null,n.createElement(Qt.a.Cell,null,Ke.dutyCycleDerateFactor.title," ",n.createElement(fa,{content:Ke.dutyCycleDerateFactor.description})),n.createElement(Qt.a.Cell,null,l?"Multiple Appliance Enabled":n.createElement(ra,{fieldKey:"dutyCycleDerateFactor",modelInstance:a[0]}))),n.createElement(Qt.a.Row,null,n.createElement(Qt.a.Cell,null,Ke.productionUnitsPerKwh.title," ",n.createElement(fa,{content:Ke.productionUnitsPerKwh.description})),n.createElement(Qt.a.Cell,null,l?"Multiple Appliance Enabled":n.createElement(ra,{fieldKey:"productionUnitsPerKwh",modelInstance:a[0]}))),n.createElement(Qt.a.Row,null,n.createElement(Qt.a.Cell,null,"Usage Factor Seasonal Derate Curve"),n.createElement(Qt.a.Cell,null,n.createElement(aa.a,{value:"TBD",disabled:!0})))))})),Ta=function(e){function t(){return Object(Nt.a)(this,t),Object(Vt.a)(this,Object(Kt.a)(t).apply(this,arguments))}return Object(Yt.a)(t,e),Object(Ht.a)(t,[{key:"render",value:function(){return l.a.createElement($t.a,{columns:"equal",padded:!0},l.a.createElement($t.a.Row,null,l.a.createElement($t.a.Column,null,l.a.createElement("h3",null,"Calculation Inputs"),l.a.createElement(Ea.a,null,l.a.createElement(ea.a,{as:"h4"},"Economic Inputs"),l.a.createElement(Oa,null)),l.a.createElement(Ea.a,null,l.a.createElement(ea.a,{as:"h4"},"Technical Inputs"),l.a.createElement(Ia,null))),l.a.createElement($t.a.Column,null,l.a.createElement("h3",null,"Grid Operator Annual Summary"),l.a.createElement(Ea.a,null,l.a.createElement(ba,null)),l.a.createElement(Ea.a,null,l.a.createElement(Ca,null))),l.a.createElement($t.a.Column,null,l.a.createElement("h3",null,"Appliance Operator Annual Summary"),l.a.createElement(Ea.a,null,l.a.createElement(va,null)),l.a.createElement(Ea.a,null,l.a.createElement(Aa,null)))))}}]),t}(n.Component),ka=Object(s.b)("store")(Object(s.c)(Ta)),Sa=a(896),ja=function(e){var t=e.file,a=t.prettyFileSize,l=t.powerType,r=t.fileWarnings,i=t.phase,o=t.hasMotor;return n.createElement(Qt.a,{basic:"very",inverted:!0},n.createElement(Qt.a.Body,null,n.createElement(Qt.a.Row,null,n.createElement(Qt.a.Cell,{width:7},"File Warnings"),n.createElement(Qt.a.Cell,{width:9,textAlign:"right"},M.a.isEmpty(t.fileWarnings)?"None":r.join(", "))),n.createElement(Qt.a.Row,null,n.createElement(Qt.a.Cell,null,"Power Type"),n.createElement(Qt.a.Cell,{textAlign:"right"},l)),n.createElement(Qt.a.Row,null,n.createElement(Qt.a.Cell,null,"Phase"),n.createElement(Qt.a.Cell,{textAlign:"right"},i)),n.createElement(Qt.a.Row,null,n.createElement(Qt.a.Cell,null,"Has Motor"),n.createElement(Qt.a.Cell,{textAlign:"right"},o?"Yes":"No")),n.createElement(Qt.a.Row,null,n.createElement(Qt.a.Cell,null,"File Size"),n.createElement(Qt.a.Cell,{textAlign:"right"},a))))},Ra=a(897);function Pa(){return(Pa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Ma(e,t){if(null==e)return{};var a,n,l=function(e,t){if(null==e)return{};var a,n,l={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(l[a]=e[a]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(l[a]=e[a])}return l}var La=l.a.createElement("g",{id:"Page-2",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},l.a.createElement("g",{id:"AC-to-DC"},l.a.createElement("g",{id:"AC-1"},l.a.createElement("g",{id:"Axis",stroke:"#979797",strokeDasharray:"10 10",strokeLinecap:"square"},l.a.createElement("path",{d:"M1,101 L601.5,101",id:"Line"})),l.a.createElement("path",{d:"M1,201 C88.5542431,67.6666667 155.22091,1 201,1 C269.668635,1 333.46185,201 401,201 C468.53815,201 532.797982,1 601,1",id:"Path",stroke:"#4A4A4A",strokeWidth:2})),l.a.createElement("g",{id:"DC-1",transform:"translate(594.000000, 0.000000)",strokeLinecap:"square"},l.a.createElement("g",{id:"Axis",transform:"translate(0.000000, 1.000000)",stroke:"#979797",strokeDasharray:"10 10"},l.a.createElement("path",{d:"M1,100 L601.5,100",id:"Line"}),l.a.createElement("path",{d:"M1,0.5 L1,199.5",id:"Line-3"})),l.a.createElement("path",{d:"M7,1 L607.5,1",id:"Line-2",stroke:"#4A4A4A",strokeWidth:2})))),Da=function(e){var t=e.svgRef,a=Ma(e,["svgRef"]);return l.a.createElement("svg",Pa({width:"100%",height:"100px",viewBox:"0 0 1203 202",ref:t},a),La)},Ua=l.a.forwardRef(function(e,t){return l.a.createElement(Da,Pa({svgRef:t},e))});a.p;function Fa(){return(Fa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Ga(e,t){if(null==e)return{};var a,n,l=function(e,t){if(null==e)return{};var a,n,l={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(l[a]=e[a]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(l[a]=e[a])}return l}var qa=l.a.createElement("g",{id:"Page-2",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},l.a.createElement("g",{id:"DC-to-AC",transform:"translate(0.000000, -1.000000)"},l.a.createElement("g",{id:"AC-2",transform:"translate(600.000000, 1.000000)"},l.a.createElement("g",{id:"Axis",stroke:"#979797",strokeDasharray:"10 10",strokeLinecap:"square"},l.a.createElement("path",{d:"M1,101 L601.5,101",id:"Line"}),l.a.createElement("path",{d:"M1,0.5 L1,201",id:"Line-3"})),l.a.createElement("path",{d:"M1,201 C88.5542431,67.6666667 155.22091,1 201,1 C269.668635,1 333.46185,201 401,201 C468.53815,201 532.797982,1 601,1",id:"Path",stroke:"#4A4A4A",strokeWidth:2,transform:"translate(301.000000, 101.000000) scale(-1, 1) translate(-301.000000, -101.000000) "})),l.a.createElement("g",{id:"DC-2",strokeLinecap:"square"},l.a.createElement("g",{id:"Axis",stroke:"#979797",strokeDasharray:"10 10"},l.a.createElement("path",{d:"M1,102 L601.5,102",id:"Line"})),l.a.createElement("path",{d:"M1,2 L601.5,2",id:"Line-2",stroke:"#4A4A4A",strokeWidth:2})))),za=function(e){var t=e.svgRef,a=Ga(e,["svgRef"]);return l.a.createElement("svg",Fa({width:"100%",height:"100px",viewBox:"0 0 1202 202",ref:t},a),qa)},Ba=l.a.forwardRef(function(e,t){return l.a.createElement(za,Fa({svgRef:t},e))});a.p;function Wa(){return(Wa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Na(e,t){if(null==e)return{};var a,n,l=function(e,t){if(null==e)return{};var a,n,l={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(l[a]=e[a]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(l[a]=e[a])}return l}var Ha=l.a.createElement("g",{id:"Page-2",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},l.a.createElement("path",{d:"M0,201 C172.275833,201 154.261925,1 301,1 C447.738075,1 456.612418,181 541,181 C625.387582,181 655.634919,21 721,21 C786.365081,21 802.756846,171.273437 841,171.273437 C879.243154,171.273438 892.953369,34.4453125 921,34.4453125 C949.046631,34.4453125 970.592069,161 1001,161 C1031.40793,161 1031.73144,41 1061,41 C1090.26856,41 1097.82458,129.785156 1121,129.785156 C1144.17542,129.785156 1144.35531,80.2539063 1161,81 C1177.64469,81.7460938 1178.69149,121 1201,121",id:"Path-Copy",stroke:"#4A4A4A",strokeWidth:2,transform:"translate(600.500000, 101.000000) scale(-1, 1) translate(-600.500000, -101.000000) "})),Va=function(e){var t=e.svgRef,a=Na(e,["svgRef"]);return l.a.createElement("svg",Wa({width:"100%",height:"100px",viewBox:"0 0 1201 202",ref:t},a),Ha)},Ka=l.a.forwardRef(function(e,t){return l.a.createElement(Va,Wa({svgRef:t},e))}),Ya=(a.p,function(e){switch(e.equipmentType){case"powerConverter":return l.a.createElement(Ua,null);case"inverter":return l.a.createElement(Ba,null);default:return l.a.createElement(Ka,null)}}),Za=function(e){function t(){return Object(Nt.a)(this,t),Object(Vt.a)(this,Object(Kt.a)(t).apply(this,arguments))}return Object(Yt.a)(t,e),Object(Ht.a)(t,[{key:"render",value:function(){if(M.a.isEmpty(this.props.equipment))return null;var e=this.props.equipment,t=e.equipmentType,a=e.label,n=e.description,r=e.enabled,i=e.compatibilityMessage,o=e.compatibility,c=e.estimatedCapex,s=e.estimatedEfficiency,u=e.parentApplianceSize,m=e.capexAssignment,p=e.handleEnabledToggle,d=e.handleCapexAssignmentChange,E="required"===o?"Required":r?"Enabled":"Enable";return l.a.createElement(Ra.a,{fluid:!0,className:r?"activeCardBorder":""},l.a.createElement(Ra.a.Content,null,l.a.createElement($t.a,null,l.a.createElement($t.a.Row,null,l.a.createElement($t.a.Column,{width:12},l.a.createElement(ea.a,{has:"h3",style:{marginTop:"4px",marginBottom:"4px"}},a," ",l.a.createElement("small",null,l.a.createElement(fa,{content:n,position:"right center"})),l.a.createElement("span",{style:Ja},$a[o]))),l.a.createElement($t.a.Column,{width:4,textAlign:"right"},l.a.createElement("div",{style:{marginLeft:10,float:"right"}},l.a.createElement(Xt.a,{toggle:!0,label:E,checked:r,onChange:p})))),l.a.createElement($t.a.Row,null,l.a.createElement($t.a.Column,{width:7},l.a.createElement(Ra.a.Description,null,i),l.a.createElement(Ya,{equipmentType:t})),l.a.createElement($t.a.Column,{width:9},l.a.createElement(Jt.a,null,l.a.createElement(Qt.a,{basic:"very",className:"borderless"},l.a.createElement(Qt.a.Body,null,l.a.createElement(Qt.a.Row,null,l.a.createElement(Qt.a.Cell,null,l.a.createElement(ra,{fieldKey:"equipmentSize",modelInstance:e,labelLeft:"".concat(_a[e.equipmentType]," Size"),labelRight:Ke.equipmentSize.units,size:"mini"})),l.a.createElement(Qt.a.Cell,{style:Xa},"Appliance Size: ",u," kW")),l.a.createElement(Qt.a.Row,null,l.a.createElement(Qt.a.Cell,null,l.a.createElement(ra,{fieldKey:"capex",modelInstance:e,labelLeft:"".concat(_a[e.equipmentType]," Cost"),labelRight:"USD",size:"mini"})),l.a.createElement(Qt.a.Cell,{style:Xa},"Estimated Cost: $",c)),l.a.createElement(Qt.a.Row,null,l.a.createElement(Qt.a.Cell,null,l.a.createElement(ra,{fieldKey:"efficiencyRating",modelInstance:e,labelLeft:"".concat(_a[e.equipmentType]," Efficiency"),size:"mini"})),l.a.createElement(Qt.a.Cell,{style:Xa},"Estimated Efficiency: ",M.a.round(100*s,1),"%")),l.a.createElement(Qt.a.Row,null,l.a.createElement(Qt.a.Cell,{colSpan:2},l.a.createElement("div",null,l.a.createElement("div",{style:{display:"inline-block",verticalAlign:"top",marginRight:"10px",paddingLeft:"4px"}},"Cost Assignment"),l.a.createElement("div",{style:{display:"inline-block"}},l.a.createElement(Jt.a.Field,null,l.a.createElement(Jt.a.Radio,{label:"Appliance Owner",name:"radioGroup",value:"appliance",checked:"appliance"===m,onChange:d})),l.a.createElement(Jt.a.Field,null,l.a.createElement(Jt.a.Radio,{label:"Grid Owner",name:"radioGroup",value:"grid",checked:"grid"===m,onChange:d}))))),l.a.createElement(Qt.a.Cell,null))))))))))}}]),t}(n.Component),Qa=Object(s.b)("store")(Object(s.c)(Za)),Xa={marginTop:"4px",fontStyle:"italic",fontSize:"0.9em"},Ja={fontSize:"12px",fontWeight:300,fontStyle:"italic"},_a={powerConverter:"Converter",inverter:"Inverter",vfd:"VFD",softStarter:"Starter",directOnlineStarter:"Starter",starDeltaStarter:"Starter",capacitorBank:"Capacitor",threeFourPointDcMotorStarter:"Starter"},$a={required:"Required",useful:"May be useful",notuseful:"Incompatible"},en=function(e){var t=e.compatibility,a=e.header,n={minHeight:"200px",marginTop:e.isFirst?0:"40px"};return l.a.createElement("div",{style:n},l.a.createElement(ea.a,{as:"h2",dividing:!0},a),M.a.map(t,function(e,t){return l.a.createElement(Qa,{equipment:e,key:"i".concat(t)})}))},tn=function(e){function t(){return Object(Nt.a)(this,t),Object(Vt.a)(this,Object(Kt.a)(t).apply(this,arguments))}return Object(Yt.a)(t,e),Object(Ht.a)(t,[{key:"render",value:function(){var e=this.props.store.viewedAppliance,t=e.requiredAncillaryEquipment,a=e.usefulAncillaryEquipment,n=e.notusefulAncillaryEquipment;return M.a.isArray(t)&&M.a.isArray(a)&&M.a.isArray(n)?l.a.createElement("div",null,l.a.createElement(en,{compatibility:t,header:"Required Equipment",isFirst:!0}),l.a.createElement(en,{compatibility:a,header:"Equipment that may be useful"}),l.a.createElement(en,{compatibility:n,header:"Incompatible Equipment"})):l.a.createElement("h4",null,"Calculating AncillaryEquipment ")}}]),t}(n.Component),an=Object(s.b)("store")(Object(s.c)(tn)),nn={background:"none #fff",border:"1px solid rgba(34,36,38,.15)",color:"rgba(0,0,0,.87)",boxShadow:"none",marginTop:"1px"},ln=function(e){function t(){var e,a;Object(Nt.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(Vt.a)(this,(e=Object(Kt.a)(t)).call.apply(e,[this].concat(l)))).handleFileNavClick=function(e,t){t.preventDefault(),a.props.store.setViewedApplianceId(e)},a}return Object(Yt.a)(t,e),Object(Ht.a)(t,[{key:"render",value:function(){var e=this,t=this.props.store,a=t.viewedApplianceId,l=t.appliances,r=M.a.isEmpty(a);return n.createElement($t.a,{padded:!0},n.createElement($t.a.Row,null,n.createElement($t.a.Column,{width:4},n.createElement(Lt.a,{vertical:!0,fluid:!0},M.a.map(l,function(t){var l=t.fileInfo,r=t.description,i=t.label,o=t.enabled;return n.createElement(Lt.a.Item,{key:l.id,name:i,style:{minHeight:"60px"},active:a===l.id,onClick:e.handleFileNavClick.bind(null,l.id)},n.createElement(ea.a,{sub:!0},i),n.createElement(fa,{content:n.createElement(ja,{file:t}),position:"right center",wide:!0}),n.createElement("span",null,r),(l.isSample||o)&&n.createElement(na.a,{basic:!0,attached:"top right",size:"mini",style:nn,color:o?"blue":null},o&&"Enabled",l.isSample&&o&&", ",l.isSample&&"Sample"))}))),n.createElement($t.a.Column,{width:12},r?n.createElement(on,null):n.createElement(an,null))))}}]),t}(n.Component),rn=Object(s.b)("store")(Object(s.c)(ln)),on=function(){return n.createElement("div",null,n.createElement(ea.a,{as:"h3"},"Appliance File Management"),n.createElement(Sa.a,{size:"large",bulleted:!0},n.createElement(Sa.a.Item,null,"Add a new Appliance file"),n.createElement(Sa.a.Item,null,"View, edit or delete your existing Appliance files")),n.createElement("p",null,"Click on the menu on the left to do any of these tasks"))},cn=a(157),sn=a(901),un=a(491),mn=function(){return n.createElement(Ea.a,null,n.createElement(sn.a,{active:!0,style:{height:"200px"}},n.createElement(Zt.a,null,"Loading")),n.createElement(un.a,{src:"https://react.semantic-ui.com/src/images/wireframe/short-paragraph.png"}))},pn=function(e,t,a){var n=e;return 0!==t&&1!==t||(n=Object(u.a)({},n,{fontStyle:"italic",backgroundColor:"#f9fafb"})),0===t&&(n=Object(u.a)({},n,{borderTop:"1px solid rgba(34,36,38,.1)",borderLeft:"1px solid rgba(34,36,38,.1)",paddingLeft:"0.2rem",paddingRight:"0.2rem",overflowWrap:"break-word"})),1===t&&(n=Object(u.a)({},n,{borderBottom:"4px solid ".concat(re[a]),borderLeft:"1px solid rgba(34,36,38,.1)",paddingLeft:"0.2rem",paddingRight:"0.2rem"})),n},dn=a(247),En=a(478),yn=a.n(En),fn={cursor:"pointer",marginRight:"2%",width:"100%",verticalAlign:"top"},hn=Object(s.b)("store")(Object(s.c)(function(e){var t=e.store,a=e.column,l=e.excludedColumns,r=e.columnWidth,i=Object(dn.a)(e,["store","column","excludedColumns","columnWidth"]),o=M.a.includes(l,a)?"excluded":jt[a];return n.createElement("div",Object.assign({},i,{className:yn.a.columnIndicator,onClick:function(){return t.setExcludedTableColumns(a)},style:{display:"inline-block",width:r,height:"12px",backgroundColor:re[o]}}))})),gn=function(e){var t=e.columns,a=e.excludedColumns,l=Object(dn.a)(e,["columns","excludedColumns"]),r="".concat(1/M.a.size(t)*100,"%");return n.createElement("div",Object.assign({},l,{style:fn}),n.createElement("div",null,M.a.map(t,function(e){return n.createElement(Dt.a,{trigger:n.createElement(hn,{column:e,excludedColumns:a,columnWidth:r}),key:e,size:"tiny",position:"bottom center"},n.createElement("span",null,e))})))},bn=function(e){var t=e.percentTableColumnsShowing,a=Object(dn.a)(e,["percentTableColumnsShowing"]);return n.createElement("div",Object.assign({},a,{style:fn}),n.createElement("div",null,n.createElement("em",null,"Select Columns (",t,"% columns showing)")," ",n.createElement(Ft.a,{name:"pencil alternate"})))},Cn=function(e){function t(){var e,a;Object(Nt.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(Vt.a)(this,(e=Object(Kt.a)(t)).call.apply(e,[this].concat(l)))).state={searchString:""},a.handleSearchChange=function(e,t){var n=t.value;e.preventDefault(),a.setState({searchString:n})},a.handleSearchClear=function(e,t){e.preventDefault(),a.setState({searchString:""})},a.handleCheckChange=function(e,t){e.preventDefault();var n=t.label.props.children;a.props.store.setExcludedTableColumns(n)},a}return Object(Yt.a)(t,e),Object(Ht.a)(t,[{key:"render",value:function(){var e=this,t=this.state.searchString,a=this.props,l=a.headers,r=a.store,i=r.excludedTableColumns,o=r.percentTableColumnsShowing,c=M.a.filter(l,function(e){return M.a.includes(e.toLowerCase(),t)});return n.createElement("div",null,n.createElement(Dt.a,{trigger:n.createElement(bn,{percentTableColumnsShowing:o}),basic:!0,flowing:!0,position:"bottom left",verticalOffset:14,on:"click"},n.createElement(Dt.a.Header,null,n.createElement(aa.a,{icon:n.createElement(Ft.a,{name:"times",onClick:this.handleSearchClear,circular:!0,link:!0}),placeholder:"Search header titles",value:t,onChange:this.handleSearchChange})),n.createElement(Sa.a,{selection:!0,verticalAlign:"middle"},M.a.map(c,function(t){return n.createElement(Sa.a.Item,{key:t},n.createElement(Xt.a,{label:n.createElement("label",null,t),onChange:e.handleCheckChange,checked:!M.a.includes(i,t)}))}))),n.createElement(gn,{columns:l,excludedColumns:i}))}}]),t}(n.Component),vn=Object(s.b)("store")(Object(s.c)(Cn)),An=function(e){return{display:"inline-block",paddingRight:"4px",marginRight:"6px",fontStyle:"italic",fontSize:"14px",lineHeight:1.8,borderBottom:"2px solid ".concat(re[e])}},wn=Object(s.b)("store")(Object(s.c)(function(e){e.store;return n.createElement("div",null,n.createElement("div",{style:An("hybridColumns")},"Calculated Columns"),n.createElement("div",{style:An("homer")},"HOMER Columns"),n.createElement("div",{style:An("appliance")},"Appliance Columns"))})),xn=a(479);function On(e,t){var a=Z.a.unparse(e),n=new Blob([a],{type:"text/csv;charset=utf-8"});Object(xn.saveAs)(n,t)}var In=Object(s.b)("store")(Object(s.c)(function(e){var t=e.store.combinedTable;return n.createElement("div",{style:{cursor:"pointer"},onClick:On.bind(null,t,"grid_with_appliances.csv")},"Download CSV",n.createElement("br",null),n.createElement(Ft.a.Group,{size:"large"},n.createElement(Ft.a,{name:"file outline"}),n.createElement(Ft.a,{corner:"bottom right",name:"arrow circle down",style:{transform:"rotate(90deg)"}})))})),Tn=function(e){function t(){var e,a;Object(Nt.a)(this,t);for(var l=arguments.length,r=new Array(l),i=0;i<l;i++)r[i]=arguments[i];return(a=Object(Vt.a)(this,(e=Object(Kt.a)(t)).call.apply(e,[this].concat(r))))._cellRenderer=function(e,t){var l=t.columnIndex,r=t.key,i=t.rowIndex,o=t.style,c=a.props.store,s=c.combinedTable,u=c.enabledAppliances,m=c.multipleAppliancesEnabled;if(M.a.isEmpty(s))return null;var p=e[l],d=jt[p];return 0===i?n.createElement("div",{key:r,style:pn(o,i,d)},p):1===i?n.createElement("div",{key:r,style:pn(o,i,d)},It[p]||"missing"):"datetime"===p?n.createElement("div",{key:r,style:pn(o,i,d)},Ce(s[i-2][p])):"kw_factor"===p?n.createElement("div",{key:r,style:pn(o,i,d)},m?"Multiple":u[0].fileData[i-2].kw_factor):n.createElement("div",{key:r,style:pn(o,i,d)},s[i-2][p])},a._rowHeight=function(e){return 0===e.index?76:26},a}return Object(Yt.a)(t,e),Object(Ht.a)(t,[{key:"componentDidUpdate",value:function(e){this.multigrid&&this.multigrid.forceUpdateGrids()}},{key:"render",value:function(){var e=this,t=this.props.store,a=t.combinedTable,l=t.filteredCombinedTableHeaders;if(M.a.isEmpty(a))return n.createElement(mn,null);var r=M.a.size(a),i=M.a.size(l);return n.createElement($t.a,{verticalAlign:"top"},n.createElement($t.a.Row,null,n.createElement($t.a.Column,{width:6},n.createElement(wn,null)),n.createElement($t.a.Column,{width:8},n.createElement(vn,{headers:Ot})),n.createElement($t.a.Column,{width:2,textAlign:"center"},n.createElement(In,null))),n.createElement($t.a.Row,null,n.createElement($t.a.Column,{width:16},n.createElement(cn.a,null,function(t){t.height;var a=t.width;return n.createElement(cn.b,{ref:function(t){return e.multigrid=t},cellRenderer:e._cellRenderer.bind(null,l),columnCount:i,columnWidth:100,fixedColumnCount:2,fixedRowCount:2,height:1200,rowCount:r,rowHeight:e._rowHeight,estimatedRowSize:26,width:a})}))))}}]),t}(n.Component),kn=Object(s.b)("store")(Object(s.c)(Tn)),Sn=a(22),jn=function(e){function t(){var e,a;Object(Nt.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(Vt.a)(this,(e=Object(Kt.a)(t)).call.apply(e,[this].concat(l)))).state={stackOffset:"none"},a.handleStackClick=function(e,t){t.preventDefault(),a.setState({stackOffset:e})},a}return Object(Yt.a)(t,e),Object(Ht.a)(t,[{key:"render",value:function(){var e=this.props.store.combinedTable;if(M.a.isEmpty(e))return n.createElement(mn,null);var t=this.state.stackOffset,a=this.props.store.maxApplianceLoad,l=a.maxLoadValue,r=a.maxLoadFirstHour,i=M.a.ceil(l+.05*l,2);return n.createElement("div",null,n.createElement($t.a,null,n.createElement($t.a.Row,null,n.createElement($t.a.Column,{width:7},n.createElement("h3",null,"Loads by hour of year ",n.createElement("br",null),n.createElement("small",{style:{fontWeight:"300"}},"Each data point unit is average kW for 1 hour (kW*h)"))),n.createElement($t.a.Column,{width:9},n.createElement(Ut.a.Group,{basic:!0,compact:!0,style:{float:"right",marginTop:"8px"}},n.createElement(Ut.a,{onClick:this.handleStackClick.bind(null,"none"),active:"none"===t},"Normal Stacked"),n.createElement(Ut.a,{onClick:this.handleStackClick.bind(null,"expand"),active:"expand"===t},"100% Stacked")),n.createElement(Qt.a,{basic:"very",compact:!0,collapsing:!0,style:{marginTop:0}},n.createElement(Qt.a.Body,null,n.createElement(Qt.a.Row,null,n.createElement(Qt.a.Cell,null,"Max Appliance Load"),n.createElement(Qt.a.Cell,{textAlign:"right"},M.a.round(l,2)," kW*h")),n.createElement(Qt.a.Row,null,n.createElement(Qt.a.Cell,null,"First hour of year hitting max load"),n.createElement(Qt.a.Cell,{textAlign:"right"},r))))))),n.createElement(Sn.j,{minWidth:1e3,minHeight:400,height:"90%"},n.createElement(Sn.b,{data:e,stackOffset:t,margin:{top:40,right:30,left:0,bottom:0}},n.createElement(Sn.n,{dataKey:"hour"}),n.createElement(Sn.o,{domain:"none"===t?[0,i]:null}),n.createElement(Sn.m,{content:n.createElement(Pn,null)}),n.createElement(Sn.a,{type:"monotone",dataKey:"Original Electrical Load Served",stackId:"1",stroke:ie["Original Electrical Load Served"],fill:ie["Original Electrical Load Served"],fillOpacity:"1"}),n.createElement(Sn.a,{type:"monotone",dataKey:"newAppliancesLoad",stackId:"1",stroke:ie.newAppliancesLoad,fill:ie.newAppliancesLoad,fillOpacity:"1"}),n.createElement(Sn.a,{type:"monotone",dataKey:"newAppliancesAncillaryLoad",stackId:"1",stroke:ie.newAppliancesAncillaryLoad,fill:ie.newAppliancesAncillaryLoad,fillOpacity:"1"}),n.createElement(Sn.i,{x:r,stroke:ie.newAppliancesAncillaryLoad,label:"First Hour Max Load",strokeDasharray:"3 3"}),n.createElement(Sn.i,{y:l,label:"Max Appliance Load: ".concat(M.a.round(l,2)),stroke:ie.newAppliancesAncillaryLoad,strokeDasharray:"3 3"}),n.createElement(Sn.h,null),n.createElement(Sn.e,{startIndex:0,endIndex:200}))))}}]),t}(n.Component),Rn=Object(s.b)("store")(Object(s.c)(jn)),Pn=function(e){var t=e.active,a=e.payload,l=e.label;if(!t||M.a.isEmpty(a))return null;var r=a[0].payload,i=r.datetime,o=r.totalElectricalLoadServed;return n.createElement("div",{className:"custom-tooltip"},n.createElement("p",{className:"label"},"Hour of Year: ",l),n.createElement("p",{className:"label"},"Date: ",Ce(i)),n.createElement(Qt.a,{basic:"very",compact:!0},n.createElement(Qt.a.Body,null,M.a.map(a,function(e){return n.createElement(Qt.a.Row,{style:{color:e.color},key:e.dataKey},n.createElement(Qt.a.Cell,null,Ke[e.dataKey].title),n.createElement(Qt.a.Cell,{textAlign:"right"},M.a.round(e.value,2)," ",Ke[e.dataKey].units))})),n.createElement(Qt.a.Footer,null,n.createElement(Qt.a.Row,null,n.createElement(Qt.a.HeaderCell,null,"Combined Load"),n.createElement(Qt.a.HeaderCell,{textAlign:"right"},M.a.round(o,2)," ",Ke.totalElectricalLoadServed.units)))))},Mn={color:le[1],fontWeight:"200",fontSize:"16px"},Ln=function(e){function t(){return Object(Nt.a)(this,t),Object(Vt.a)(this,Object(Kt.a)(t).apply(this,arguments))}return Object(Yt.a)(t,e),Object(Ht.a)(t,[{key:"render",value:function(){var e=this.props.store.summaryStats;if(M.a.isEmpty(e))return n.createElement(mn,null);var t=e.allUnmetLoadHist;return n.createElement("div",null,n.createElement("h3",null,"Unmet Loads by Hour of Day ",n.createElement("small",{style:Mn},"kW for 1 hour")),n.createElement(Sn.j,{minWidth:1e3,minHeight:400,height:"90%"},n.createElement(Sn.d,{data:t,margin:{top:5,right:30,left:20,bottom:5}},n.createElement(Sn.n,{dataKey:"hour_of_day"}),n.createElement(Sn.o,null),n.createElement(Sn.m,{content:n.createElement(Un,null)}),n.createElement(Sn.h,null),n.createElement(Sn.c,{dataKey:"originalUnmetLoad",fill:oe("originalUnmetLoad")}),n.createElement(Sn.c,{dataKey:"totalUnmetLoad",fill:oe("totalUnmetLoad")}))))}}]),t}(n.Component),Dn=Object(s.b)("store")(Object(s.c)(Ln)),Un=function(e){var t=e.active,a=e.payload,l=e.label;return!t||M.a.isEmpty(a)?null:n.createElement("div",{className:"custom-tooltip"},n.createElement("p",{className:"label"},"Hour of Day: ",l),n.createElement(Qt.a,{basic:"very",compact:!0},n.createElement(Qt.a.Body,null,M.a.map(a,function(e){return n.createElement(Qt.a.Row,{style:{color:e.color},key:e.dataKey},n.createElement(Qt.a.Cell,null,Ke[e.dataKey].title),n.createElement(Qt.a.Cell,{textAlign:"right"},e.value," ",Ke[e.dataKey].units))}))))},Fn=function(e){function t(){return Object(Nt.a)(this,t),Object(Vt.a)(this,Object(Kt.a)(t).apply(this,arguments))}return Object(Yt.a)(t,e),Object(Ht.a)(t,[{key:"render",value:function(){var e=this.props.store,t=e.hybridColumns,a=e.activeGrid;if(M.a.isEmpty(t))return n.createElement(mn,null);var l=a.batteryMinEnergyContent,r=a.batteryMaxEnergyContent,i=[0,200],o=M.a.maxBy(t,"batteryEnergyContent").batteryEnergyContent,c=M.a.ceil(o+.1*o),s=400/c,u=M.a.maxBy(t,"totalExcessProduction").totalExcessProduction,m=s*M.a.ceil(u+.1*u),p=M.a.maxBy(t,"totalUnmetLoad").totalUnmetLoad,d=s*M.a.ceil(p+.1*p);return n.createElement("div",{style:{paddingTop:"16px"}},n.createElement(zn,{title:"Excess Production"}),n.createElement(Sn.j,{minWidth:1e3,minHeight:60},n.createElement(Sn.b,{height:m,data:t,syncId:"anyId",margin:{top:0,right:30,left:60,bottom:0}},n.createElement(Sn.m,{content:n.createElement(Bn,{field:"totalExcessProduction"})}),n.createElement(Sn.a,{type:"monotone",dataKey:"totalExcessProduction",stroke:"rgb(102, 102, 102)",strokeWidth:.5,fill:ie.totalExcessProduction,fillOpacity:"1"}),n.createElement(Sn.e,{startIndex:i[0],endIndex:i[1],height:0}))),n.createElement(zn,{title:"Battery Energy Content"}),n.createElement(Sn.j,{minWidth:1e3,minHeight:400},n.createElement(Sn.b,{height:400,data:t,syncId:"anyId",margin:{top:0,right:30,left:0,bottom:-20}},n.createElement(Sn.n,{dataKey:"hour"}),n.createElement(Sn.o,{label:{value:"kWh",angle:-90,position:"insideLeft"},domain:[0,c],allowDataOverflow:!0}),n.createElement(Sn.m,{content:n.createElement(Bn,{field:"batteryEnergyContent"})}),n.createElement(Sn.a,{type:"monotone",dataKey:"batteryEnergyContent",stroke:"rgb(102, 102, 102)",strokeWidth:.5,fill:ie.batteryEnergyContent,fillOpacity:"1"}),n.createElement(Sn.i,{y:r,label:{position:"top",value:"Max Battery Energy Content: ".concat(M.a.round(r,2)),fontWeight:500,textStroke:"2px white"},stroke:ie.totalExcessProduction,strokeDasharray:"3 3"}),n.createElement(Sn.i,{y:l,stroke:ie.totalUnmetLoad,label:{position:"top",value:"Min Battery Energy Content: ".concat(M.a.round(l,2)),fontWeight:500,textStroke:"2px white"},strokeDasharray:"3 3"}),n.createElement(Sn.e,{startIndex:i[0],endIndex:i[1],height:0,gap:5}))),n.createElement(zn,{title:"Unmet Load"}),n.createElement(Sn.j,{minWidth:1e3,minHeight:60},n.createElement(Sn.b,{height:d,data:t,syncId:"anyId",margin:{top:0,right:30,left:60,bottom:0}},n.createElement(Sn.m,{content:n.createElement(Bn,{field:"totalUnmetLoad"})}),n.createElement(Sn.a,{type:"monotone",dataKey:"totalUnmetLoad",stroke:"rgb(102, 102, 102)",strokeWidth:.5,fill:ie.totalUnmetLoad,fillOpacity:"1"}),n.createElement(Sn.e,{startIndex:i[0],endIndex:i[1],gap:5}))))}}]),t}(n.Component),Gn=Object(s.b)("store")(Object(s.c)(Fn)),qn={marginTop:"10px",marginBottom:"10px",marginLeft:"60px"},zn=function(e){var t=e.title;return n.createElement(ea.a,{as:"h3",style:qn},t)},Bn=function(e){var t=e.active,a=e.payload,l=e.label,r=e.field;if(!t||M.a.isEmpty(a))return null;var i=a[0].payload.datetime,o=a[0].payload[r];return n.createElement("div",{className:"custom-tooltip"},"totalExcessProduction"===r&&n.createElement($t.a,null,n.createElement($t.a.Column,{width:8},"Hour of Year: ",l),n.createElement($t.a.Column,{width:8,textAlign:"right"},Ce(i))),n.createElement(Qt.a,{basic:"very",compact:!0},n.createElement(Qt.a.Body,null,n.createElement(Qt.a.Row,null,n.createElement(Qt.a.HeaderCell,null,Ke[r].title),n.createElement(Qt.a.HeaderCell,{textAlign:"right"},M.a.round(o,2)," ",Ke[r].units)))))},Wn=a(891),Nn=["pvType","powerType","batteryType","generatorType","wholesaleElectricityCost","retailElectricityPrice","unmetLoadCostPerKwh","batteryMinEnergyContent","batteryEstimatedMinEnergyContent","batteryMaxEnergyContent","batteryEstimatedMaxEnergyContent"],Hn=["capex","capexAssignment","powerType","phase","hasMotor","powerFactor","nominalPower","dutyCycleDerateFactor","productionUnitType","productionUnitsPerKwh","revenuePerProductionUnits"],Vn=["compatibility","compatibilityMessage","capex","capexAssignment","estimatedCapex","efficiencyRating","estimatedEfficiency","equipmentSize"];var Kn=function(e){var t=e.field,a=Ke[t].description;return n.createElement("div",null,a&&n.createElement("p",null,a),n.createElement("p",null,"Internal Field Name:",n.createElement("br",null),n.createElement("code",null,t)))},Yn=Object(s.c)(function(e){var t=e.grid,a=e.expanded;return n.createElement("div",null,n.createElement(Wn.a,{horizontal:!0},"Active Grid"),n.createElement(Ra.a,{fluid:!0,href:"/files/homer",className:"activeCardBorder"},n.createElement(Ra.a.Content,{header:t.label,style:{backgroundColor:"#F9FAFB"}}),n.createElement(Ra.a.Content,{description:t.description}),a&&n.createElement(Ra.a.Content,null,n.createElement(Qt.a,{basic:"very",compact:!0},n.createElement(Qt.a.Body,null,M.a.map(Nn,function(e){return n.createElement(Qt.a.Row,{key:e},n.createElement(Qt.a.Cell,null,Ke[e].title," ",n.createElement(fa,{content:n.createElement(Kn,{field:e}),position:"right center"})),n.createElement(Qt.a.Cell,{textAlign:"right"},t[e]))})))),a&&n.createElement(Ra.a.Content,{extra:!0},"File Type: ",t.fileInfo.fileType,t.fileInfo.isSample?", Sample File":", Imported File")))}),Zn=Object(s.c)(function(e){var t=e.appliance,a=e.expanded;return n.createElement(Ra.a,{fluid:!0,href:"/files/appliance",className:"activeCardBorder"},n.createElement(Ra.a.Content,{header:t.label,style:{backgroundColor:"#F9FAFB"}}),n.createElement(Ra.a.Content,{description:t.description}),a&&n.createElement(Ra.a.Content,null,n.createElement(Qt.a,{basic:"very",compact:!0},n.createElement(Qt.a.Body,null,M.a.map(Hn,function(e){return n.createElement(Qt.a.Row,{key:e},n.createElement(Qt.a.Cell,null,Ke[e].title," ",n.createElement(fa,{content:n.createElement(Kn,{field:e}),position:"right center"})),n.createElement(Qt.a.Cell,{textAlign:"right"},"boolean"===Ke[e].type?t[e]?"Yes":"No":t[e]))})))),a&&n.createElement(Ra.a.Content,{extra:!0},"File Type: ",t.fileInfo.applianceType,t.fileInfo.isSample?", Sample File":", Imported File"))}),Qn=Object(s.c)(function(e){var t=e.equipment,a=e.expanded;return n.createElement(Ra.a,{fluid:!0,href:"/tool/ancillary",className:"activeCardBorder"},n.createElement(Ra.a.Content,{header:t.label,style:{backgroundColor:"#F9FAFB"}}),n.createElement(Ra.a.Content,{description:t.description}),a&&n.createElement(Ra.a.Content,null,n.createElement(Qt.a,{basic:"very",compact:!0},n.createElement(Qt.a.Body,null,M.a.map(Vn,function(e){return n.createElement(Qt.a.Row,{key:e},n.createElement(Qt.a.Cell,null,Ke[e].title," ",n.createElement(fa,{content:n.createElement(Kn,{field:e}),position:"right center"})),n.createElement(Qt.a.Cell,{textAlign:"right"},"compatibility"===e?function(e){switch(e){case"required":return"Required Equipment";case"useful":return"Equipment may be useful";case"notuseful":return"Incompatible Equipment";default:return"N/A"}}(t[e]):t[e]," "))})))))}),Xn=function(e){function t(){var e,a;Object(Nt.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(Vt.a)(this,(e=Object(Kt.a)(t)).call.apply(e,[this].concat(l)))).state={expanded:!1},a.handleExpandedClick=function(e,t){t.preventDefault(),a.setState({expanded:e})},a}return Object(Yt.a)(t,e),Object(Ht.a)(t,[{key:"render",value:function(){var e=this.props.store,t=e.combinedTable,a=e.enabledAppliances,l=e.activeGrid;if(M.a.isEmpty(t))return n.createElement(mn,null);var r=this.state.expanded;return n.createElement($t.a,null,n.createElement($t.a.Row,null,n.createElement($t.a.Column,{width:16},n.createElement(Ut.a.Group,{basic:!0,compact:!0,style:{float:"right"}},n.createElement(Ut.a,{onClick:this.handleExpandedClick.bind(null,!1),active:!1===r},"Compact"),n.createElement(Ut.a,{onClick:this.handleExpandedClick.bind(null,!0),active:!0===r},"Expanded")))),n.createElement($t.a.Row,null,n.createElement($t.a.Column,{width:6},n.createElement(Yn,{grid:l,expanded:r})),n.createElement($t.a.Column,{width:10},M.a.map(a,function(e,t){return n.createElement(_n,{key:e.fileInfo.id,appliance:e,applianceIndex:t,expanded:r})}))))}}]),t}(n.Component),Jn=Object(s.b)("store")(Object(s.c)(Xn)),_n=Object(s.b)("store")(Object(s.c)(function(e){e.store;var t=e.appliance,a=e.applianceIndex,l=e.expanded;return n.createElement("div",null,n.createElement(Wn.a,{horizontal:!0},"Enabled Appliance ",a+1," & Ancillary Equipment"),n.createElement($t.a,{style:{marginBottom:"30px"}},n.createElement($t.a.Row,null,n.createElement($t.a.Column,{width:8},n.createElement(Zn,{appliance:t,expanded:l})),n.createElement($t.a.Column,{width:8},M.a.map(t.enabledAncillaryEquipment,function(e){return n.createElement(Qn,{equipment:e,key:e.label,expanded:l})})))))})),$n=Object(s.b)("store")(Object(s.c)(function(e){e.match;var t=e.store.activeGrid;return M.a.isEmpty(t)?n.createElement(da,null):n.createElement("div",null,n.createElement(pa,null),n.createElement(Lt.a,{secondary:!0,pointing:!0},n.createElement(Lt.a.Item,{as:qt,to:"/",name:"Summary"}),n.createElement(Lt.a.Item,{as:qt,to:"/tool/ancillary",name:"Ancillary Equipment"}),n.createElement(Lt.a.Item,{as:qt,to:"/tool/datatable",name:"Data"}),n.createElement(Lt.a.Item,{as:qt,to:"/tool/loads",name:"Loads"}),n.createElement(Lt.a.Item,{as:qt,to:"/tool/unmet-loads",name:"Unmet Loads"}),n.createElement(Lt.a.Item,{as:qt,to:"/tool/battery-energy-content",name:"Battery Energy Content"}),n.createElement(Lt.a.Item,{as:qt,to:"/tool/components",name:"Grid Components"})),n.createElement("div",{className:"mainContent"},n.createElement(o.a,{exact:!0,path:"/",component:ka}),n.createElement(o.a,{exact:!0,path:"/tool",component:ka}),n.createElement(o.a,{path:"/tool/summary",component:ka}),n.createElement(o.a,{path:"/tool/ancillary",component:rn}),n.createElement(o.a,{path:"/tool/datatable",component:kn}),n.createElement(o.a,{path:"/tool/loads",component:Rn}),n.createElement(o.a,{path:"/tool/unmet-loads",component:Dn}),n.createElement(o.a,{path:"/tool/battery-energy-content",component:Gn}),n.createElement(o.a,{path:"/tool/components",component:Jn})))})),el=a(485),tl=a.n(el),al=a(486),nl=a.n(al),ll=a(487),rl=a.n(ll),il=function(){return n.createElement($t.a,{padded:!0},n.createElement($t.a.Row,null,n.createElement($t.a.Column,{width:10},n.createElement(ea.a,{as:"h2"},"About this Software"),n.createElement("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."),n.createElement(un.a,{src:rl.a,bordered:!0})),n.createElement($t.a.Column,{width:6},n.createElement(Ea.a,null,n.createElement(ea.a,{as:"h3"},"Contact"),n.createElement($t.a,null,n.createElement($t.a.Row,null,n.createElement($t.a.Column,{width:3},n.createElement(un.a,{src:"https://react.semantic-ui.com/src/images/avatar/large/jenny.jpg"})),n.createElement($t.a.Column,{width:13},"For general questions and comments about this app, contact"," ",n.createElement("a",{href:"http://#.com"},"Amanda DelCore")," at"," ",n.createElement("a",{href:"http://www.factore.com"},"Factor[e]"))),n.createElement($t.a.Row,null,n.createElement($t.a.Column,{width:3},n.createElement(un.a,{src:"https://react.semantic-ui.com/src/images/avatar/large/justen.jpg"})),n.createElement($t.a.Column,{width:13},"For technical problems with this app, contact"," ",n.createElement("a",{href:"http://#.com"},"Jeff Friesen")," at"," ",n.createElement("a",{href:"http://www.radiantlabs.co"},"Radiant Labs"))))))),n.createElement($t.a.Row,null,n.createElement($t.a.Column,null,n.createElement(Ea.a,null,n.createElement(un.a,{src:tl.a,size:"small",floated:"left",href:"http://www.factore.com"}),n.createElement("p",null,"Our mission is to improve lives in the developing world through increased access to sustainable energy and related services. We believe that technology can be a profound driver of positive impact, and we work closely with early stage entrepreneurs to transform their ideas into market-based solutions."),n.createElement("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."),n.createElement("p",null,"Gumbo beet greens corn soko endive gumbo gourd. Parsley shallot courgette tatsoi pea sprouts fava bean collard greens dandelion okra wakame tomato. Dandelion cucumber earthnut pea peanut soko zucchini.")))),n.createElement($t.a.Row,null,n.createElement($t.a.Column,null,n.createElement(ea.a,{as:"h5"},"In partnership with:"),n.createElement(Ea.a,null,n.createElement(un.a,{src:nl.a,size:"small",floated:"left",href:"http://www.radiantlabs.co"}),n.createElement("p",null,"Radiant Labs builds tools that drive carbon reduction solutions for cities, states and utilities. We partner with organizations leading the field and driving the coming decades most important innovations."),n.createElement("p",null)))))},ol=a(148),cl=a(898),sl=a(488),ul=function(e){function t(e){var a;return Object(Nt.a)(this,t),(a=Object(Vt.a)(this,Object(Kt.a)(t).call(this,e))).id=sl.v1(),a.onChangeFile=a.onChangeFile.bind(Object(ol.a)(a)),a}return Object(Yt.a)(t,e),Object(Ht.a)(t,[{key:"render",value:function(){return n.createElement("div",null,n.createElement(Ut.a,Object.assign({},this.props,{as:"label",htmlFor:this.id})),n.createElement("input",{hidden:!0,id:this.id,multiple:!0,type:"file",onChange:this.onChangeFile}))}},{key:"onChangeFile",value:function(){var e=document.getElementById(this.id).files[0];e?this.props.onSelect(e):console.log("no file found")}}]),t}(n.Component),ml=Object(s.b)("store")(Object(s.c)(function(e){var t=e.grid,a=t.batteryMaxSoC,l=t.batteryMinSoC,r=t.batteryMaxEnergyContent,i=t.batteryMinEnergyContent,o=t.batteryEstimatedMaxEnergyContent,c=t.batteryEstimatedMinEnergyContent,s=r===o,u=i===c;return n.createElement(Qt.a,{basic:"very",compact:!0},n.createElement(Qt.a.Body,null,n.createElement(Qt.a.Row,null,n.createElement(Qt.a.Cell,null,"Battery Max Energy Content"),n.createElement(Qt.a.Cell,{textAlign:"right"},r,r&&" kWh")),n.createElement(Qt.a.Row,null,n.createElement(Qt.a.Cell,null,"Battery Min Energy Content"),n.createElement(Qt.a.Cell,{textAlign:"right"},i,i&&" kWh")),n.createElement(Qt.a.Row,null,n.createElement(Qt.a.Cell,null,"Estimated Battery Max Energy Content"),n.createElement(Qt.a.Cell,{textAlign:"right"},o,o&&" kWh")),n.createElement(Qt.a.Row,null,n.createElement(Qt.a.Cell,null,"Estimated Battery Min Energy Content"),n.createElement(Qt.a.Cell,{textAlign:"right"},c,c&&" kWh")),n.createElement(Qt.a.Row,null,n.createElement(Qt.a.Cell,{width:9},"Battery Max State of Charge"),n.createElement(Qt.a.Cell,{width:7,textAlign:"right"},s?a:"N/A",s&&a?" %":"")),n.createElement(Qt.a.Row,null,n.createElement(Qt.a.Cell,null,"Battery Min State of Charge"),n.createElement(Qt.a.Cell,{textAlign:"right"},u?l:"N/A",u&&l?" %":""))))})),pl=Object(s.b)("store")(Object(s.c)(function(e){var t=e.store.viewedGrid,a=t.fileErrors,l=t.fileWarnings;return n.createElement(Qt.a,{basic:"very",collapsing:!0,compact:!0,className:xa.a.borderless},n.createElement(Qt.a.Body,null,n.createElement(Qt.a.Row,null,n.createElement(Qt.a.Cell,null,Ke.label.title," ",n.createElement(fa,{content:Ke.label.description,position:"right center"})),n.createElement(Qt.a.Cell,null,n.createElement(ra,{fieldKey:"label",modelInstance:t}))),n.createElement(Qt.a.Row,null,n.createElement(Qt.a.Cell,null,Ke.description.title," ",n.createElement(fa,{content:Ke.description.description,position:"right center"})),n.createElement(Qt.a.Cell,null,n.createElement(ra,{fieldKey:"description",modelInstance:t}))),n.createElement(Qt.a.Row,null,n.createElement(Qt.a.Cell,null,Ke.wholesaleElectricityCost.title," ",n.createElement(fa,{content:Ke.wholesaleElectricityCost.description,position:"right center"})),n.createElement(Qt.a.Cell,null,n.createElement(ra,{fieldKey:"wholesaleElectricityCost",modelInstance:t}))),n.createElement(Qt.a.Row,null,n.createElement(Qt.a.Cell,null,Ke.retailElectricityPrice.title," ",n.createElement(fa,{content:Ke.retailElectricityPrice.description,position:"right center"})),n.createElement(Qt.a.Cell,null,n.createElement(ra,{fieldKey:"retailElectricityPrice",modelInstance:t}))),n.createElement(Qt.a.Row,null,n.createElement(Qt.a.Cell,null,Ke.unmetLoadCostPerKwh.title," ",n.createElement(fa,{content:Ke.unmetLoadCostPerKwh.description,position:"right center"})),n.createElement(Qt.a.Cell,null,n.createElement(ra,{fieldKey:"unmetLoadCostPerKwh",modelInstance:t}))),n.createElement(Qt.a.Row,null,n.createElement(Qt.a.Cell,null,Ke.batteryMinEnergyContent.title," ",n.createElement(fa,{content:Ke.batteryMinEnergyContent.description,position:"right center"})),n.createElement(Qt.a.Cell,null,n.createElement(ra,{fieldKey:"batteryMinEnergyContent",modelInstance:t}))),n.createElement(Qt.a.Row,null,n.createElement(Qt.a.Cell,null,Ke.batteryMaxEnergyContent.title," ",n.createElement(fa,{content:Ke.batteryMaxEnergyContent.description,position:"right center"})),n.createElement(Qt.a.Cell,null,n.createElement(ra,{fieldKey:"batteryMaxEnergyContent",modelInstance:t}))),n.createElement(Qt.a.Row,null,n.createElement(Qt.a.Cell,null,"Power Type ",n.createElement(fa,{content:"AC \u26a1 DC",position:"right center"})),n.createElement(Qt.a.Cell,null,t.powerType)),n.createElement(Qt.a.Row,null,n.createElement(Qt.a.Cell,null,"Battery Type"," ",n.createElement(fa,{position:"right center",content:"This is determined by reading the headers of the HOMER file. This is the battery you chose when you created the HOMER file."})),n.createElement(Qt.a.Cell,null,t.batteryType)),n.createElement(Qt.a.Row,null,n.createElement(Qt.a.Cell,null,"PV Type"," ",n.createElement(fa,{position:"right center",content:"This is determined by reading the headers of the HOMER file. This is the PV system you chose when you created the HOMER file."})),n.createElement(Qt.a.Cell,null,t.pvType)),n.createElement(Qt.a.Row,null,n.createElement(Qt.a.Cell,null,"Generator Type"," ",n.createElement(fa,{position:"right center",content:"This is determined by reading the headers of the HOMER file. This is the generator you chose when you created the HOMER file."})),n.createElement(Qt.a.Cell,null,t.generatorType)),n.createElement(Qt.a.Row,null,n.createElement(Qt.a.Cell,null,"File Upload Warnings "),n.createElement(Qt.a.Cell,null,n.createElement(dl,{fileErrors:l}))),n.createElement(Qt.a.Row,null,n.createElement(Qt.a.Cell,null,"File Upload Errors "),n.createElement(Qt.a.Cell,null,n.createElement(dl,{fileErrors:a})))))})),dl=function(e){var t=e.fileErrors;return M.a.isEmpty(t)?"None Found":n.createElement("div",null,M.a.map(t,function(e){return n.createElement("div",{key:e},e)}))},El=Object(s.b)("store")(Object(s.c)(function(e){var t=e.store.viewedGrid,a=t.predictedVsActualBatteryValues,l=t.predictedVsActualReferenceLine,r=t.xAccessor,i=void 0===r?"actual":r,o=t.yAccessor,c=void 0===o?"predicted":o;if(M.a.isEmpty(a))return n.createElement(Zt.a,{active:!0,inline:"centered",style:{position:"absolute",top:"60%",left:"50%"}});var s=M.a.minBy(a,"actual").actual,u=M.a.maxBy(a,"actual").actual,m=M.a.sampleSize(a,2e3);return n.createElement(Sn.j,{height:500},n.createElement(Sn.l,{margin:{top:20,right:20,bottom:20,left:40}},n.createElement(Sn.n,{type:"number",dataKey:i,domain:[s,u],label:{value:i,offset:-10,position:"insideBottom"}}),n.createElement(Sn.o,{type:"number",dataKey:c,domain:[s,u],label:{value:c,angle:-90}}),n.createElement(Sn.f,null),n.createElement(Sn.m,{cursor:{strokeDasharray:"3 3"}}),n.createElement(Sn.h,{verticalAlign:"top",align:"right"}),n.createElement(Sn.k,{name:"Training data",data:m,fill:"#83A1C3",shape:n.createElement(Sn.g,{r:1})}),n.createElement(Sn.k,{name:"Reference Line",data:l,fill:"#E20000",line:{strokeDasharray:"5 5"},legendType:"line",shape:n.createElement(Sn.g,{r:0})})))})),yl={color:le[1],fontWeight:"200",fontSize:"16px"},fl=function(e){function t(){return Object(Nt.a)(this,t),Object(Vt.a)(this,Object(Kt.a)(t).apply(this,arguments))}return Object(Yt.a)(t,e),Object(Ht.a)(t,[{key:"render",value:function(){var e=this.props.grid;return M.a.isEmpty(e.fileErrors)?n.createElement("div",{style:{marginTop:"2rem"}},n.createElement($t.a,null,n.createElement($t.a.Row,null,n.createElement($t.a.Column,null,n.createElement(ea.a,{as:"h3",style:{display:"inline-block",marginBottom:"8px"}},"Battery Charge & Discharge Model"),n.createElement("p",{style:yl},"Recreate a simplified kinetic battery model based on the HOMER file.")))),n.createElement($t.a,null,n.createElement($t.a.Row,null,n.createElement($t.a.Column,{width:10},n.createElement(El,null)),n.createElement($t.a.Column,{width:6},n.createElement(gl,null))))):null}}]),t}(n.Component),hl=Object(s.b)("store")(Object(s.c)(fl)),gl=Object(s.b)("store")(Object(s.c)(function(e){var t=e.store.viewedGrid,a=t.batteryAvgErrorPct,l=t.batteryMaxErrorPct;return n.createElement(Qt.a,{compact:"very",size:"small",basic:"very",style:{marginTop:"40px"}},n.createElement(Qt.a.Body,null,n.createElement(Qt.a.Row,null,n.createElement(Qt.a.Cell,null,"Battery Model Average Error"),n.createElement(Qt.a.Cell,{textAlign:"right"},a?"\xb1 ".concat(a," %"):"...")),n.createElement(Qt.a.Row,null,n.createElement(Qt.a.Cell,null,"Battery Model Max Error"),n.createElement(Qt.a.Cell,{textAlign:"right"},l?"".concat(l," %"):"..."))))})),bl=Object(s.b)("store")(Object(s.c)(function(e){var t=e.store,a=t.viewedGrid,l=t.deleteGridFile,r=a.fileInfo,i=a.label,o=r.isSample,c=r.id;return n.createElement(Ea.a,null,n.createElement(ea.a,null,"Danger Zone"),o&&"This is a sample HOMER file, which cannot be deleted.",!o&&"Delete this HOMER file. There will be no confirmation.",n.createElement(Ut.a,{basic:!0,compact:!0,color:"red",disabled:o,floated:"right",style:{marginTop:"-8px"},onClick:l.bind(null,c)},"Delete ",i))})),Cl=Object(s.b)("store")(Object(s.c)(function(e){var t=e.store,a=e.viewedGrid,l=a.fileIsSelected,r=a.isAnalyzingFile,i=a.handleGridFileUpload,o=a.fileReadyToSave,c=t.cancelStagedGrid,s=t.saveStagedGrid;return n.createElement("div",null,n.createElement(ea.a,{as:"h2",attached:"top",style:{paddingBottom:"18px"}},!l&&n.createElement(ul,{content:"Upload & Analyze HOMER File",icon:"upload",size:"tiny",color:"blue",floated:"right",onSelect:i,basic:!0}),l&&n.createElement(n.Fragment,null,n.createElement(Ut.a,{content:"Save HOMER File",icon:"save",size:"tiny",color:"blue",floated:"right",disabled:!o,onClick:s,basic:!0}),n.createElement(Ut.a,{floated:"right",basic:!0,size:"tiny",onClick:c},n.createElement(Ft.a,{name:"cancel"}),"Cancel"),!o&&n.createElement("div",{style:{float:"right",fontSize:"12px",fontWeight:300,marginRight:"4px"}},"Fill out all fields before saving file")),"Add HOMER File",r&&n.createElement(ea.a.Subheader,{style:{display:"inline-block",marginLeft:"1rem"}},"Analyzing File ",n.createElement(Zt.a,{active:!0,inline:!0,size:"tiny"}))))})),vl=function(e){function t(){var e,a;Object(Nt.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(Vt.a)(this,(e=Object(Kt.a)(t)).call.apply(e,[this].concat(l)))).handleActivateGrid=function(){var e=M.a.get(Object(ol.a)(a),"props.viewedGrid.fileInfo.id");a.props.store.setActiveGridFile(e)},a}return Object(Yt.a)(t,e),Object(Ht.a)(t,[{key:"render",value:function(){var e=this.props.viewedGrid;if(M.a.isEmpty(e))return n.createElement("h2",null,"Empty Viewed Grid");var t=this.props.store.viewedGridIsStaged,a=e.label,l=e.description,r=e.showAnalyzedResults,i=e.isActive;return n.createElement("div",null,t&&n.createElement(Cl,{viewedGrid:e}),!t&&n.createElement(ea.a,{as:"h2",attached:"top",className:i?"activeFileBorderNoBottom":null},a,!i&&n.createElement(Ut.a,{floated:"right",basic:!0,size:"tiny",onClick:this.handleActivateGrid,color:"blue"},"Make Grid Active"),n.createElement(ea.a.Subheader,null,l)),!r&&n.createElement(cl.a,{warning:!0},n.createElement("p",null,"This app is in beta. You may have to re-upload files in the future when we update this app. Make sure to keep copies of your files.")),r&&n.createElement(n.Fragment,null,n.createElement(Ea.a,{attached:!0,className:i?"activeFileBorderNoTop":null},n.createElement($t.a,null,n.createElement($t.a.Row,null,n.createElement($t.a.Column,{width:8},n.createElement(pl,null)),n.createElement($t.a.Column,{width:8},n.createElement(ml,{grid:e}))),n.createElement($t.a.Row,null,n.createElement($t.a.Column,null,n.createElement(hl,{grid:e}))))),!t&&n.createElement(bl,null)))}}]),t}(n.Component),Al=Object(s.b)("store")(Object(s.c)(vl)),wl=function(e){var t=e.file;return n.createElement(Qt.a,{basic:"very",inverted:!0},n.createElement(Qt.a.Body,null,n.createElement(Qt.a.Row,null,n.createElement(Qt.a.Cell,{width:7},"File Size"),n.createElement(Qt.a.Cell,{width:9,textAlign:"right"},t.prettyFileSize)),n.createElement(Qt.a.Row,null,n.createElement(Qt.a.Cell,null,"File Warnings"),n.createElement(Qt.a.Cell,{textAlign:"right"},M.a.isEmpty(t.fileWarnings)?"None":t.fileWarnings.join(", "))),n.createElement(Qt.a.Row,null,n.createElement(Qt.a.Cell,{textAlign:"right"},"PV Type"),n.createElement(Qt.a.Cell,null,t.pvType)),n.createElement(Qt.a.Row,null,n.createElement(Qt.a.Cell,{textAlign:"right"},"Battery Type"),n.createElement(Qt.a.Cell,null,t.batteryType)),n.createElement(Qt.a.Row,null,n.createElement(Qt.a.Cell,{textAlign:"right"},"Generator Type"),n.createElement(Qt.a.Cell,null,t.generatorType))))},xl={background:"none #fff",border:"1px solid rgba(34,36,38,.15)",color:"rgba(0,0,0,.87)",boxShadow:"none",marginTop:"1px"},Ol=function(e){function t(){var e,a;Object(Nt.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(Vt.a)(this,(e=Object(Kt.a)(t)).call.apply(e,[this].concat(l)))).handleAddFileClick=function(e,t){e.preventDefault(),a.props.store.createStagedGrid(),a.props.store.setViewedGridId("staged")},a.handleFileNavClick=function(e,t){t.preventDefault(),a.props.store.setViewedGridId(e)},a}return Object(Yt.a)(t,e),Object(Ht.a)(t,[{key:"render",value:function(){var e=this,t=this.props.store,a=t.viewedGridId,l=t.availableGrids,r=t.viewedGridIsStaged,i=t.viewedGrid,o=M.a.isEmpty(a);return n.createElement($t.a,{padded:!0},n.createElement($t.a.Row,null,n.createElement($t.a.Column,{width:4},n.createElement(Lt.a,{vertical:!0,fluid:!0},n.createElement(Lt.a.Item,{name:"Add New HOMER File",active:r,onClick:this.handleAddFileClick},"Add New HOMER File",n.createElement(Ut.a,{icon:!0,floated:"right",basic:!0,compact:!0,size:"small",style:{marginTop:"-7px",marginRight:"-9px"}},n.createElement(Ft.a,{name:"plus",color:"blue"})))),n.createElement(Lt.a,{vertical:!0,fluid:!0},M.a.map(l,function(t,l){var r=t.isActive,i=t.fileInfo,o=t.label;return n.createElement(Lt.a.Item,{key:i.id,name:o,style:{minHeight:"60px"},active:a===i.id,onClick:e.handleFileNavClick.bind(null,i.id)},n.createElement(ea.a,{sub:!0},o),n.createElement(fa,{content:n.createElement(wl,{file:t}),position:"right center",wide:!0}),n.createElement("span",null,t.description),(r||i.isSample)&&n.createElement(na.a,{basic:!0,attached:"top right",size:"mini",style:xl,color:r?"blue":null},r&&"Active",i.isSample&&r&&", ",i.isSample&&"Sample"))}))),n.createElement($t.a.Column,{width:12},o?n.createElement(Tl,null):n.createElement(Al,{viewedGrid:i}))))}}]),t}(n.Component),Il=Object(s.b)("store")(Object(s.c)(Ol)),Tl=function(){return n.createElement("div",null,n.createElement(ea.a,{as:"h3"},"HOMER File Management"),n.createElement(Sa.a,{size:"large",bulleted:!0},n.createElement(Sa.a.Item,null,"Add a new HOMER file"),n.createElement(Sa.a.Item,null,"View, edit or delete your existing HOMER files")),n.createElement("p",null,"Click on the menu on the left to do any of these tasks"))},kl=Object(s.b)("store")(Object(s.c)(function(e){var t=e.store.viewedAppliance.applianceSummaryStats,a=t.yearlyApplianceLoad,l=t.yearlyProductionUnits,r=t.yearlyProductionUnitsRevenue;return n.createElement(Qt.a,{celled:!0},n.createElement(Qt.a.Header,null,n.createElement(Qt.a.Row,null,n.createElement(Qt.a.HeaderCell,null,"Summary Stat"),n.createElement(Qt.a.HeaderCell,null,"Value"),n.createElement(Qt.a.HeaderCell,null,"How it was calculated"))),n.createElement(Qt.a.Body,null,n.createElement(Qt.a.Row,null,n.createElement(Qt.a.Cell,null,"Yearly Appliance Load"),n.createElement(Qt.a.Cell,{textAlign:"right"},M.a.round(a)||""," kWh"),n.createElement(Qt.a.Cell,null,"kW Factor * Nominal Power * Duty Cycle Derate Factor (summed over year)")),n.createElement(Qt.a.Row,null,n.createElement(Qt.a.Cell,null,"Yearly Production Units"),n.createElement(Qt.a.Cell,{textAlign:"right"},M.a.round(l)||""),n.createElement(Qt.a.Cell,null,"Appliance Load * Appliance Units of Production per kWh (summed over year)")),n.createElement(Qt.a.Row,null,n.createElement(Qt.a.Cell,null,"Yearly Production Units Revenue"),n.createElement(Qt.a.Cell,{textAlign:"right"},"$",M.a.round(r)||""),n.createElement(Qt.a.Cell,null,"Revenue Per Production Units * Production Units (summed over year)"))))})),Sl=Object(s.b)("store")(Object(s.c)(function(e){var t=e.store.viewedAppliance,a=t.powerType,l=t.handlePowerTypeChange,r=t.phase,i=t.handlePhaseChange,o=t.hasMotor,c=t.handleHasMotorChange,s=t.fileErrors,u=t.fileWarnings;return n.createElement($t.a,null,n.createElement($t.a.Row,null,n.createElement($t.a.Column,{width:8},n.createElement(jl,{fieldKey:"label",modelInstance:t}),n.createElement(jl,{fieldKey:"description",modelInstance:t}),n.createElement(jl,{fieldKey:"nominalPower",modelInstance:t}),n.createElement(jl,{fieldKey:"productionUnitType",modelInstance:t}),n.createElement(jl,{fieldKey:"productionUnitsPerKwh",modelInstance:t}),n.createElement(jl,{fieldKey:"revenuePerProductionUnits",modelInstance:t})),n.createElement($t.a.Column,{width:8},n.createElement(Rl,{fieldKey:"powerType",currentValue:a,items:Ke.powerType.enumerations,clickHandler:l}),n.createElement(Rl,{fieldKey:"phase",currentValue:r,items:Ke.phase.enumerations,clickHandler:i}),n.createElement(Rl,{fieldKey:"hasMotor",currentValue:o,items:Ke.hasMotor.enumerations,itemDisplayFn:ue,clickHandler:c}),n.createElement(jl,{fieldKey:"powerFactor",modelInstance:t}),n.createElement(jl,{fieldKey:"dutyCycleDerateFactor",modelInstance:t}))),n.createElement($t.a.Row,null,n.createElement($t.a.Column,{width:4},"File Upload Warnings"),n.createElement($t.a.Column,{width:12},n.createElement(Pl,{fileErrors:u}))),n.createElement($t.a.Row,null,n.createElement($t.a.Column,{width:4},"File Upload Errors"),n.createElement($t.a.Column,{width:12},n.createElement(Pl,{fileErrors:s}))),n.createElement($t.a.Row,null,n.createElement($t.a.Column,{width:16},n.createElement(kl,null))))})),jl=function(e){var t=e.fieldKey,a=e.modelInstance;return n.createElement($t.a,null,n.createElement($t.a.Column,{width:8},Ke[t].title," ",n.createElement(fa,{position:"right center",content:Ke[t].description})),n.createElement($t.a.Column,{width:8},n.createElement(ra,{fieldKey:t,modelInstance:a})))},Rl=function(e){var t=e.fieldKey,a=e.currentValue,l=e.itemDisplayFn,r=e.items,i=e.clickHandler;return n.createElement($t.a,null,n.createElement($t.a.Column,{width:8},Ke[t].title," ",n.createElement(fa,{position:"right center",content:Ke[t].description})),n.createElement($t.a.Column,{width:8},n.createElement(ta.a,{text:l?String(l(a)):String(a||"")},n.createElement(ta.a.Menu,null,M.a.map(r,function(e){return n.createElement(ta.a.Item,{text:l?l(e):e,value:e,key:e,onClick:i})})))))},Pl=function(e){var t=e.fileErrors;return M.a.isEmpty(t)?"None Found":n.createElement("div",null,M.a.map(t,function(e){return n.createElement("div",{key:e},e)}))},Ml=function(e){function t(){var e,a;Object(Nt.a)(this,t);for(var l=arguments.length,r=new Array(l),i=0;i<l;i++)r[i]=arguments[i];return(a=Object(Vt.a)(this,(e=Object(Kt.a)(t)).call.apply(e,[this].concat(r))))._cellRenderer=function(e,t,l){var r=l.columnIndex,i=l.key,o=l.rowIndex,c=l.style,s=a.props.store.viewedAppliance.calculatedApplianceColumns,u=e[r],m=t[r];return 0===o?n.createElement("div",{key:i,style:pn(c,o,"appliance")},u):1===o?n.createElement("div",{key:i,style:pn(c,o,"appliance")},m||"missing"):"datetime"===u?n.createElement("div",{key:i,style:pn(c,o,"appliance")},ve(s[o-2][u])):n.createElement("div",{key:i,style:pn(c,o,"appliance")},s[o-2][u])},a._rowHeight=function(e){return 0===e.index?76:26},a}return Object(Yt.a)(t,e),Object(Ht.a)(t,[{key:"componentDidUpdate",value:function(e){this.multigrid&&this.multigrid.forceUpdateGrids()}},{key:"render",value:function(){var e=this,t=this.props.store.viewedAppliance,a=t.calculatedApplianceColumns,l=t.productionUnitType;if(M.a.isEmpty(t)||M.a.isEmpty(a))return n.createElement(mn,null);var r=["datetime","day","day_hour","hour","hour_of_day","kw_factor","newApplianceLoad","productionUnits","productionUnitsRevenue"],i=["-","-","-","-","-","-","kW",l,"$"],o=M.a.size(a),c=M.a.size(r);return n.createElement("div",{style:{height:"420px"}},n.createElement($t.a,{style:{marginTop:"10px"}},n.createElement($t.a.Row,null,n.createElement($t.a.Column,{width:16},n.createElement(cn.a,null,function(t){t.height;var a=t.width;return n.createElement(cn.b,{ref:function(t){return e.multigrid=t},cellRenderer:e._cellRenderer.bind(null,r,i),columnCount:c,columnWidth:100,fixedColumnCount:2,fixedRowCount:2,height:400,rowCount:o,rowHeight:e._rowHeight,estimatedRowSize:26,width:a,style:{border:"1px solid #d4d4d5"}})})))))}}]),t}(n.Component),Ll=Object(s.b)("store")(Object(s.c)(Ml)),Dl=Object(s.b)("store")(Object(s.c)(function(e){e.store;return n.createElement(Ea.a,null,n.createElement($t.a,null,n.createElement($t.a.Row,null,n.createElement($t.a.Column,{width:8},n.createElement("h3",null,"Appliance File Upload Instructions")),n.createElement($t.a.Column,{width:8},n.createElement(Fl,null))),n.createElement($t.a.Row,null,n.createElement($t.a.Column,{width:16},n.createElement("p",null,"If you want to generate your own appliance usage file, the most pragmatic way would be to download the template and fill in your own kw_factor based on the appliance you are modeling. If you want to generate your own from the source generator, you can run this Jupyter notebook."," ",n.createElement("a",{href:"https://github.com/RadiantLabs/microgrid-appliance-usage-profile-generators",target:"_blank",rel:"noopener noreferrer"},"Microgrid Appliance Usage Profile Generator")),n.createElement("p",null,"What does an uploaded appliance usage file look like?"))),n.createElement($t.a.Row,null,n.createElement(Ul,null)),n.createElement($t.a.Row,null,n.createElement($t.a.Column,{width:16},n.createElement("h3",null,"Column Definitions")))),n.createElement($t.a,null,n.createElement(Gl,{col:"datetime",def:"Date format in ISO 8601 format, incrementing each hour for 8760 hours in a year."}),n.createElement(Gl,{col:"hour",def:"Hour of the year, ranging from 0 to 8759 (first hour of year starts at zero)."}),n.createElement(Gl,{col:"day",def:"A concatenation of the index of the day of the week (0 through 6) and the first 3 letters of the day of the week name. This is used for analyzing usage by day of week."}),n.createElement(Gl,{col:"hour_of_day",def:"Hour of the day, from 0 to 23"}),n.createElement(Gl,{col:"day_hour",def:"A concatenation of the day column (0mon) and hour_of_day"}),n.createElement(Gl,{col:"kw_factor",def:"The number of minutes an appliance was fully utilized, summed over an hour. If it was running at 50% RPM, the factor for 1 minute is less than if it was at 100% RPM. See the Microgrid Appliance Usage Profile Generator linked to above for more information."})))})),Ul=function(){return n.createElement(Qt.a,{compact:!0},n.createElement(Qt.a.Header,null,n.createElement(Qt.a.Row,null,n.createElement(Qt.a.HeaderCell,null,"datetime"),n.createElement(Qt.a.HeaderCell,null,"hour"),n.createElement(Qt.a.HeaderCell,null,"day"),n.createElement(Qt.a.HeaderCell,null,"hour_of_day"),n.createElement(Qt.a.HeaderCell,null,"day_hour"),n.createElement(Qt.a.HeaderCell,null,"kw_factor"))),n.createElement(Qt.a.Body,null,n.createElement(Qt.a.Row,null,n.createElement(Qt.a.Cell,null,"2018-01-01 00:00:00"),n.createElement(Qt.a.Cell,null,"0"),n.createElement(Qt.a.Cell,null,"0mon"),n.createElement(Qt.a.Cell,null,"0"),n.createElement(Qt.a.Cell,null,"0mon_00"),n.createElement(Qt.a.Cell,null,"0")),n.createElement(Qt.a.Row,null,n.createElement(Qt.a.Cell,null,"2018-01-01 01:00:00"),n.createElement(Qt.a.Cell,null,"1"),n.createElement(Qt.a.Cell,null,"0mon"),n.createElement(Qt.a.Cell,null,"1"),n.createElement(Qt.a.Cell,null,"0mon_01"),n.createElement(Qt.a.Cell,null,"0.0015")),n.createElement(Qt.a.Row,null,n.createElement(Qt.a.Cell,null,"2018-01-01 02:00:00"),n.createElement(Qt.a.Cell,null,"2"),n.createElement(Qt.a.Cell,null,"0mon"),n.createElement(Qt.a.Cell,null,"2"),n.createElement(Qt.a.Cell,null,"0mon_02"),n.createElement(Qt.a.Cell,null,"0.04667")),n.createElement(Qt.a.Row,null,n.createElement(Qt.a.Cell,null,"2018-01-01 03:00:00"),n.createElement(Qt.a.Cell,null,"3"),n.createElement(Qt.a.Cell,null,"0mon"),n.createElement(Qt.a.Cell,null,"3"),n.createElement(Qt.a.Cell,null,"0mon_03"),n.createElement(Qt.a.Cell,null,"0.00068")),n.createElement(Qt.a.Row,null,n.createElement(Qt.a.Cell,{colSpan:6,textAlign:"center"},"\u2014 8760 total hours in a year \u2014")),n.createElement(Qt.a.Row,null,n.createElement(Qt.a.Cell,null,"2018-12-31 23:00:00"),n.createElement(Qt.a.Cell,null,"8759"),n.createElement(Qt.a.Cell,null,"0mon"),n.createElement(Qt.a.Cell,null,"23"),n.createElement(Qt.a.Cell,null,"0mon_23"),n.createElement(Qt.a.Cell,null,"0"))))},Fl=Object(s.b)("store")(Object(s.c)(function(e){var t=e.store.appliances,a=M.a.find(t,function(e){return"rice_mill_usage_profile_2019-02-16T20:33:55.583-07:00"===e.fileInfo.id});return n.createElement("div",{style:{cursor:"pointer",float:"right"},onClick:On.bind(null,a.fileData,"appliance_usage_template.csv")},"Download Appliance Template"," ",n.createElement(Ft.a.Group,{size:"large"},n.createElement(Ft.a,{name:"file outline"}),n.createElement(Ft.a,{corner:"bottom right",name:"arrow circle down",style:{transform:"rotate(90deg)"}})))})),Gl=function(e){var t=e.col,a=e.def;return n.createElement($t.a.Row,null,n.createElement($t.a.Column,{width:2},n.createElement("strong",null,t)),n.createElement($t.a.Column,{width:14},a))},ql=Object(s.b)("store")(Object(s.c)(function(e){var t=e.store.viewedAppliance,a=t.enabled,l=t.toggleAppliance;return n.createElement("div",null,n.createElement("div",null,"Enable Appliance"),n.createElement(Xt.a,{toggle:!0,className:"toggleFieldWrapper",style:{marginTop:"6px"},checked:a,onChange:l,label:a?"Enabled":"Disabled"}))})),zl=Object(s.b)("store")(Object(s.c)(function(e){var t=e.store,a=t.viewedAppliance,l=t.deleteApplianceFile,r=a.fileInfo,i=a.label,o=r.isSample,c=r.id;return n.createElement(Ea.a,null,n.createElement(ea.a,null,"Danger Zone"),o&&"This is a sample appliance file, which cannot be deleted.",!o&&"Delete this appliance file. There will be no confirmation.",n.createElement(Ut.a,{basic:!0,compact:!0,color:"red",disabled:o,floated:"right",style:{marginTop:"-8px"},onClick:l.bind(null,c)},"Delete ",i))})),Bl=Object(s.b)("store")(Object(s.c)(function(e){var t=e.store,a=t.viewedAppliance,l=a.fileIsSelected,r=a.isAnalyzingFile,i=a.handleApplianceFileUpload,o=a.fileReadyToSave,c=t.saveStagedAppliance,s=t.cancelStagedAppliance;return n.createElement("div",null,n.createElement(ea.a,{as:"h2",attached:"top",style:{paddingBottom:"18px"}},!l&&n.createElement(ul,{content:"Upload & Analyze Appliance File",icon:"upload",size:"tiny",color:"blue",floated:"right",onSelect:i,basic:!0}),l&&n.createElement(n.Fragment,null,n.createElement(Ut.a,{content:"Save Appliance File",icon:"save",size:"tiny",color:"blue",floated:"right",disabled:!o,onClick:c,basic:!0}),n.createElement(Ut.a,{floated:"right",basic:!0,size:"tiny",onClick:s},n.createElement(Ft.a,{name:"cancel"}),"Cancel"),!o&&n.createElement("div",{style:{float:"right",fontSize:"12px",fontWeight:300,marginRight:"4px"}},"Fill out all fields before saving file")),"Add Appliance File",r&&n.createElement(ea.a.Subheader,{style:{display:"inline-block",marginLeft:"1rem"}},"Analyzing File ",n.createElement(Zt.a,{active:!0,inline:!0,size:"tiny"}))))})),Wl=function(e){function t(){return Object(Nt.a)(this,t),Object(Vt.a)(this,Object(Kt.a)(t).apply(this,arguments))}return Object(Yt.a)(t,e),Object(Ht.a)(t,[{key:"render",value:function(){var e=this.props.store,t=e.viewedApplianceIsStaged,a=e.viewedAppliance;if(M.a.isEmpty(a))return n.createElement("h3",null,"Empty Viewed Appliance");var l=a.label,r=a.description,i=a.enabled,o=a.showAnalyzedResults;return n.createElement("div",null,t&&n.createElement(Bl,null),!t&&n.createElement(Ea.a,{attached:"top",className:i?"activeFileBorderNoBottom":null},n.createElement($t.a,null,n.createElement($t.a.Column,{floated:"left",width:12},n.createElement(ea.a,{as:"h2"},l,n.createElement(ea.a.Subheader,null,r))),n.createElement($t.a.Column,{floated:"right",width:4},n.createElement(ql,null)))),!o&&n.createElement(cl.a,{warning:!0},n.createElement("p",null,"This app is in beta. You may have to re-upload files in the future when we update this app. Make sure to keep copies of your files.")),o&&n.createElement(n.Fragment,null,n.createElement(Ea.a,{attached:!0,className:i?"activeFileBorderNoTop":null},n.createElement(Sl,null)),n.createElement(Ll,null),!t&&n.createElement(zl,null)),!o&&n.createElement(Dl,null))}}]),t}(n.Component),Nl=Object(s.b)("store")(Object(s.c)(Wl)),Hl={background:"none #fff",border:"1px solid rgba(34,36,38,.15)",color:"rgba(0,0,0,.87)",boxShadow:"none",marginTop:"1px"},Vl=function(e){function t(){var e,a;Object(Nt.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(Vt.a)(this,(e=Object(Kt.a)(t)).call.apply(e,[this].concat(l)))).handleAddFileClick=function(e,t){e.preventDefault(),a.props.store.createStagedAppliance(),a.props.store.setViewedApplianceId("staged")},a.handleFileNavClick=function(e,t){t.preventDefault(),a.props.store.setViewedApplianceId(e)},a}return Object(Yt.a)(t,e),Object(Ht.a)(t,[{key:"render",value:function(){var e=this,t=this.props.store,a=t.viewedApplianceId,l=t.appliances,r=t.viewedApplianceIsStaged,i=M.a.isEmpty(a);return n.createElement($t.a,{padded:!0},n.createElement($t.a.Row,null,n.createElement($t.a.Column,{width:4},n.createElement(Lt.a,{vertical:!0,fluid:!0},n.createElement(Lt.a.Item,{name:"Add Appliance Usage File",active:r,onClick:this.handleAddFileClick},"Add Appliance Usage File",n.createElement(Ut.a,{icon:!0,floated:"right",basic:!0,compact:!0,size:"small",style:{marginTop:"-7px",marginRight:"-9px"}},n.createElement(Ft.a,{name:"plus",color:"blue"})))),n.createElement(Lt.a,{vertical:!0,fluid:!0},M.a.map(l,function(t){var l=t.fileInfo,r=t.description,i=t.label,o=t.enabled;return n.createElement(Lt.a.Item,{key:l.id,name:i,style:{minHeight:"60px"},active:a===l.id,onClick:e.handleFileNavClick.bind(null,l.id)},n.createElement(ea.a,{sub:!0},i),n.createElement(fa,{content:n.createElement(ja,{file:t}),position:"right center",wide:!0}),n.createElement("span",null,r),(l.isSample||o)&&n.createElement(na.a,{basic:!0,attached:"top right",size:"mini",style:Hl,color:o?"blue":null},o&&"Enabled",l.isSample&&o&&", ",l.isSample&&"Sample"))}))),n.createElement($t.a.Column,{width:12},i?n.createElement(Yl,null):n.createElement(Nl,null))))}}]),t}(n.Component),Kl=Object(s.b)("store")(Object(s.c)(Vl)),Yl=function(){return n.createElement("div",null,n.createElement(ea.a,{as:"h3"},"Appliance File Management"),n.createElement(Sa.a,{size:"large",bulleted:!0},n.createElement(Sa.a.Item,null,"Add a new Appliance file"),n.createElement(Sa.a.Item,null,"View, edit or delete your existing Appliance files")),n.createElement("p",null,"Click on the menu on the left to do any of these tasks"))},Zl=function(){return n.createElement("div",null,n.createElement(Lt.a,{secondary:!0,pointing:!0},n.createElement(Lt.a.Item,{as:qt,to:"/files/homer",name:"HOMER Grid Files"}),n.createElement(Lt.a.Item,{as:qt,to:"/files/appliance",name:"Appliance Files"})),n.createElement("div",null,n.createElement(o.a,{exact:!0,path:"/files/",component:Il}),n.createElement(o.a,{exact:!0,path:"/files/homer",component:Il}),n.createElement(o.a,{exact:!0,path:"/files/appliance",component:Kl})))},Ql=Object(s.b)("store")(Object(s.c)(function(e){var t=e.store.saveSnapshot;return n.createElement($t.a,{padded:!0},n.createElement($t.a.Row,null,n.createElement($t.a.Column,{width:12},n.createElement(ea.a,{as:"h2",image:!0},n.createElement(ea.a.Content,null,"Save a Snapshot",n.createElement(ea.a.Subheader,null,"Save the current state of the application, including selector HOMER and appliance files, ancillary equipment and model inputs (we save everything).")))),n.createElement($t.a.Column,{width:4},n.createElement(Ut.a,{basic:!0,compact:!0,floated:"right",color:"blue",onClick:t,style:{verticalAlign:"top",marginLeft:"1rem",marginTop:"4px"}},n.createElement(Ft.a,{name:"camera"}),"Save Snapshot"))),n.createElement(ea.a,{as:"h2",image:!0},n.createElement(ea.a.Content,null,"Revert to a Snapshot",n.createElement(ea.a.Subheader,null,"If your current state is important, save a snapshot before reverting to an older snapshot."))),n.createElement(Qt.a,{basic:"very",celled:!0,collapsing:!0,selectable:!0},n.createElement(Qt.a.Header,null,n.createElement(Qt.a.Row,null,n.createElement(Qt.a.HeaderCell,null),n.createElement(Qt.a.HeaderCell,null,"Name"),n.createElement(Qt.a.HeaderCell,null,"Description"),n.createElement(Qt.a.HeaderCell,null,"Date"),n.createElement(Qt.a.HeaderCell,null,"Time"),n.createElement(Qt.a.HeaderCell,null,"HOMER File"),n.createElement(Qt.a.HeaderCell,null,"Appliance File"),n.createElement(Qt.a.HeaderCell,null,"Ancillary Equipment"),n.createElement(Qt.a.HeaderCell,null))),n.createElement(Qt.a.Body,null,n.createElement(Qt.a.Row,null,n.createElement(Qt.a.Cell,null,n.createElement(Ut.a,{icon:!0,basic:!0,size:"small",color:"blue"},"Revert")),n.createElement(Qt.a.Cell,null,"Final Snapshot"),n.createElement(Qt.a.Cell,null,"This contains the best settings"),n.createElement(Qt.a.Cell,null,"Jan 15, 2019"),n.createElement(Qt.a.Cell,null,"8:03am (MST)"),n.createElement(Qt.a.Cell,null,"12-50 Oversize 20"),n.createElement(Qt.a.Cell,null,"Rice Mill (Tanzania)"),n.createElement(Qt.a.Cell,null,"AC to DC Power Converter, Direct On-line Starter"),n.createElement(Qt.a.Cell,null,n.createElement(Ut.a,{icon:!0,basic:!0,size:"small",color:"red"},"Delete"))))))})),Xl=function(e){var t=e.match;return console.log("match: ",t),n.createElement(Ea.a,null,n.createElement("h2",null,"Page Not Found"))},Jl=Object(s.b)("store")(Object(s.c)(function(e){var t=e.store,a=t.clearAppState,l=t.appIsSavedTimestamp;return n.createElement("div",{className:"main-wrapper",style:{padding:"20px"}},n.createElement($t.a,null,n.createElement($t.a.Row,null,n.createElement($t.a.Column,{width:16},n.createElement("h3",null,"Debug"),n.createElement("p",null,"Sorry for the problems...."),n.createElement("p",null,"Last Saved Version Found: ",se(l)),n.createElement("p",null,"Delete locally saved app state:"," ",n.createElement(Ut.a,{content:"Delete Local Data",icon:"delete",size:"mini",color:"red",compact:!0,onClick:a,basic:!0,style:{marginLeft:"10px"}})))),n.createElement($t.a.Row,null)))})),_l=(a(871),function(){return n.createElement(s.a,{store:Mt},n.createElement(o.b,{history:yt},n.createElement(c.a,{client:k},n.createElement(Wt,null),n.createElement("div",{className:"main-wrapper"},n.createElement(o.c,null,n.createElement(o.a,{path:"/",exact:!0,component:$n}),n.createElement(o.a,{path:"/tool",component:$n}),n.createElement(o.a,{path:"/snapshots",component:Ql}),n.createElement(o.a,{path:"/files",component:Zl}),n.createElement(o.a,{path:"/about",component:il}),n.createElement(o.a,{path:"/debug",component:Jl}),n.createElement(o.a,{component:Xl}))))))});a(872),a(873),a(874);console.log("from index.js: NODE_ENV: ","production"),i.a.render(l.a.createElement(_l,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[520,1,2]]]);
//# sourceMappingURL=main.68353f37.chunk.js.map