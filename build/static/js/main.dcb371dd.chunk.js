(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{179:function(e,t,a){e.exports={borderless:"borderlessTableStyles_borderless__1aRvi"}},487:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAUCAYAAACTQC2+AAAAAXNSR0IArs4c6QAAAAlwSFlzAAALEwAACxMBAJqcGAAABCJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIgogICAgICAgICAgICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyI+CiAgICAgICAgIDx0aWZmOlJlc29sdXRpb25Vbml0PjI8L3RpZmY6UmVzb2x1dGlvblVuaXQ+CiAgICAgICAgIDx0aWZmOkNvbXByZXNzaW9uPjU8L3RpZmY6Q29tcHJlc3Npb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjcyPC90aWZmOlhSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICAgICA8dGlmZjpZUmVzb2x1dGlvbj43MjwvdGlmZjpZUmVzb2x1dGlvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjI2PC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6Q29sb3JTcGFjZT4xPC9leGlmOkNvbG9yU3BhY2U+CiAgICAgICAgIDxleGlmOlBpeGVsWURpbWVuc2lvbj4yMDwvZXhpZjpQaXhlbFlEaW1lbnNpb24+CiAgICAgICAgIDxkYzpzdWJqZWN0PgogICAgICAgICAgICA8cmRmOkJhZy8+CiAgICAgICAgIDwvZGM6c3ViamVjdD4KICAgICAgICAgPHhtcDpNb2RpZnlEYXRlPjIwMTktMDItMDdUMTI6MDI6OTY8L3htcDpNb2RpZnlEYXRlPgogICAgICAgICA8eG1wOkNyZWF0b3JUb29sPlBpeGVsbWF0b3IgMy4zPC94bXA6Q3JlYXRvclRvb2w+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgotwlGDAAAEUElEQVRIDb1VTWxUVRQ+9+fNtEOZ0plEB2sjwdb+EWlCgsaEuENXLmrqotafpguCxh0Y3cB01QUiUYSkJBipEBPrQrZoqjEQXZg0VSuhljRaqNR0GigZZua9d+/1O286Q6bTLvXkvXlvzr3n++53zrn3Ef1PJpjn1CfnJqUUvc46R4QLJoSUxrr5hbmlV0+fzq5Fzi1+Tp4506aEN0GWMoi35WmChJJKkhl/5/ChU5qdYNsthOh2wpGUipRSJHGXCkUvnW6WW+BX3U3GxAraezrWEE85aykMQ3JYs5KgIfcIT4yIQAUtDioEGWv+ttbMUCCVIPcnPdFX5Im/Dj/ZJpzXR0q0aYf5ob1lSf3SOzH7V6mpfY0eLF4JSqUUy0HcPhIyzZhQGKVonYihiDzPI2PMN7k7i8P8P3v8uLsx2Jl+baTnGAn3cmCpXRFJVh4q4RqlnZ8b6blc+O69E3snZgazo6MilUp5Lpb4Wiv9ojWGYSKrIao4s9lslOeFu5/tKCYaxpGB/hAeLqGC6rI5EZLoiCk64nSwOzfUMZy+NL+GWNeSSXA5aqwu/5AbzfmSSJXubcvGhOzPQwoutInAw/0AvqtIUMjkeR8JVKJ/OeYdjZB7erg+G3mojqiyjL1DT+0Rwg4FFg0CJzJVQMbeXbpZfGHm/v2D6Kn3taQiI6I7Weng9Jtdu7I08DBfFTA864jQEFHxXFzsA1CKQTTaAnLmjLVTO9uTOzubUxk/cFNQtsBjBi9SuMcT0nbTJLRyETfYpjXiOca4trjHrI58E8V1KSm+NaEvoyCPXOCoWa5DYixGIbVuwK/+3ZJoE6msK4HWrQ6hFD6qnsdqPGx2BV2KBoC9UsWvvmxJpKW6xSnhGnB6rHVLAD4spfunZKXWLNaGTmq5w4byXuCMjvn+fPb3SUXRFq1yRC/V1VXclY6xvvkZmzyHlFCI1OGIekwK8ZKzYiWxPZhOSvEHDpj9IBxV2mS6Lty4tvuLheVU6g6XiNdXY3VEldGZi3O/oXs/9zhhuEDGIg4JKa5S3pvKO/cT3B+D/Fkt5cT14a4jKJdczWTqGoEx64gQDHyiV9APtHL9mG/spQYtiO/ozCVqxXqfQxt2oENheMM+kC58wLGzHMcdtMFqalQ+m0Rs7OzZlngxJi43i+D5qXNvpRrXZiSJARzF3ej2JkZB+QhqlwNrp0OKfXThwNi1sf23W3Qu55HwVBnrIVsNURAEjHCwUXhXKEG6oWRuftX39hsfHH39xOxI73npbKdvaJckl1DKrfqhnNfbw7mLBz5Mtq4s4TDxHoUWCDcdWED0FahQRUSQr/nTYDGIXKTxiUjDQYVCManD2zFMzveen13F88f1uxIfPcf3LCaLJJ6JxxtasKmJD1NWpJQmZ8rbISKSSn+K7dzKRef0GhPiDiQquNyZyRRqUDf5kwuCu9uUdzII/STwy/XhgqHvnVbfbxLy37n+BbVQ5TcXmagWAAAAAElFTkSuQmCC"},509:function(e,t,a){e.exports={columnIndicator:"styles_columnIndicator__3LE4S"}},515:function(e,t){e.exports="data:image/png;base64,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"},516:function(e,t,a){e.exports=a.p+"static/media/radiant-labs-logo@256w.bf1c8a50.png"},517:function(e,t,a){e.exports=a.p+"static/media/minigrid-software-diagram.313d5ff4.png"},550:function(e,t,a){e.exports=a(960)},576:function(e,t){},578:function(e,t){},610:function(e,t){},611:function(e,t){},804:function(e,t,a){},956:function(e,t,a){},958:function(e,t,a){},960:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(57),i=a.n(l);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o=a(990),c=a(991),u=a(521),s=a(148),m=a(13),p=a(32),d=a(243),y=a(318),f=a(477),h=a(330),E=a(520),b=a(172),g=a.n(b),C=a(519);function v(){var e=Object(d.a)(["\n  mutation addTodo($item: String) {\n    addTodo(item: $item) @client\n  }\n"]);return v=function(){return e},e}function A(){var e=Object(d.a)(["\n  mutation clearTodo {\n    clearTodo @client\n  }\n"]);return A=function(){return e},e}function w(){var e=Object(d.a)(["\n  query GetTodo {\n    currentTodos @client\n  }\n"]);return w=function(){return e},e}var T={currentTodos:[]},O=g()(w()),S=g()(A()),I=g()(v()),j=new y.a,D=Object(E.a)({cache:j,defaults:T,resolvers:{Mutation:{addTodo:function(e,t,a){var n=t.item,r=a.cache,l=O,i=r.readQuery({query:l}).currentTodos.concat(n);return r.writeQuery({query:l,data:{currentTodos:i}}),null},clearTodo:function(e,t,a){return a.cache.writeQuery({query:O,data:T}),null}}}}),k=new h.a({link:f.ApolloLink.from([D]),cache:j}),x={props:function(e){var t=e.ownProps,a=e.data.currentTodos,n=void 0===a?[]:a;return Object(p.a)({},t,{currentTodos:n})}},L=(Object(C.a)(Object(s.graphql)(O,x),Object(s.graphql)(I,{name:"addTodoMutation"}),Object(s.graphql)(S,{name:"clearTodoMutation"})),a(35)),R=a.n(L),M=a(4),P=a.n(M),U=a(14),F=a(10),z=a(244),G=a(484),q=a.n(G),N=a(174),B=a.n(N),W=F.types.model({applianceNominalPower:F.types.maybeNull(F.types.number),dutyCycleDerateFactor:F.types.maybeNull(F.types.number),seasonalDerateFactor:F.types.maybeNull(F.types.number),wholesaleElectricityCost:F.types.maybeNull(F.types.number),unmetLoadCostPerKwh:F.types.maybeNull(F.types.number),retailElectricityPrice:F.types.maybeNull(F.types.number),productionUnitsPerKwh:F.types.maybeNull(F.types.number),revenuePerProductionUnits:F.types.maybeNull(F.types.number),revenuePerProductionUnitsUnits:F.types.maybeNull(F.types.string)}).actions(function(e){return{onModelInputChange:function(t,a){e[t]=a}}}),V=a(123),H=a(151);function K(){return(K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var Z=r.a.createElement("g",{id:"Page-2",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},r.a.createElement("g",{id:"AC-to-DC"},r.a.createElement("g",{id:"AC-1"},r.a.createElement("g",{id:"Axis",stroke:"#979797",strokeDasharray:"10 10",strokeLinecap:"square"},r.a.createElement("path",{d:"M1,101 L601.5,101",id:"Line"})),r.a.createElement("path",{d:"M1,201 C88.5542431,67.6666667 155.22091,1 201,1 C269.668635,1 333.46185,201 401,201 C468.53815,201 532.797982,1 601,1",id:"Path",stroke:"#4A4A4A",strokeWidth:2})),r.a.createElement("g",{id:"DC-1",transform:"translate(594.000000, 0.000000)",strokeLinecap:"square"},r.a.createElement("g",{id:"Axis",transform:"translate(0.000000, 1.000000)",stroke:"#979797",strokeDasharray:"10 10"},r.a.createElement("path",{d:"M1,100 L601.5,100",id:"Line"}),r.a.createElement("path",{d:"M1,0.5 L1,199.5",id:"Line-3"})),r.a.createElement("path",{d:"M7,1 L607.5,1",id:"Line-2",stroke:"#4A4A4A",strokeWidth:2})))),Q=function(e){return r.a.createElement("svg",K({width:"100%",height:"100px",viewBox:"0 0 1203 202"},e),Z)};a.p;function X(){return(X=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var Y=r.a.createElement("g",{id:"Page-2",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},r.a.createElement("g",{id:"DC-to-AC",transform:"translate(0.000000, -1.000000)"},r.a.createElement("g",{id:"AC-2",transform:"translate(600.000000, 1.000000)"},r.a.createElement("g",{id:"Axis",stroke:"#979797",strokeDasharray:"10 10",strokeLinecap:"square"},r.a.createElement("path",{d:"M1,101 L601.5,101",id:"Line"}),r.a.createElement("path",{d:"M1,0.5 L1,201",id:"Line-3"})),r.a.createElement("path",{d:"M1,201 C88.5542431,67.6666667 155.22091,1 201,1 C269.668635,1 333.46185,201 401,201 C468.53815,201 532.797982,1 601,1",id:"Path",stroke:"#4A4A4A",strokeWidth:2,transform:"translate(301.000000, 101.000000) scale(-1, 1) translate(-301.000000, -101.000000) "})),r.a.createElement("g",{id:"DC-2",strokeLinecap:"square"},r.a.createElement("g",{id:"Axis",stroke:"#979797",strokeDasharray:"10 10"},r.a.createElement("path",{d:"M1,102 L601.5,102",id:"Line"})),r.a.createElement("path",{d:"M1,2 L601.5,2",id:"Line-2",stroke:"#4A4A4A",strokeWidth:2})))),J=function(e){return r.a.createElement("svg",X({width:"100%",height:"100px",viewBox:"0 0 1202 202"},e),Y)};a.p;function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var $=r.a.createElement("g",{id:"Page-2",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},r.a.createElement("path",{d:"M0,201 C172.275833,201 154.261925,1 301,1 C447.738075,1 456.612418,181 541,181 C625.387582,181 655.634919,21 721,21 C786.365081,21 802.756846,171.273437 841,171.273437 C879.243154,171.273438 892.953369,34.4453125 921,34.4453125 C949.046631,34.4453125 970.592069,161 1001,161 C1031.40793,161 1031.73144,41 1061,41 C1090.26856,41 1097.82458,129.785156 1121,129.785156 C1144.17542,129.785156 1144.35531,80.2539063 1161,81 C1177.64469,81.7460938 1178.69149,121 1201,121",id:"Path-Copy",stroke:"#4A4A4A",strokeWidth:2,transform:"translate(600.500000, 101.000000) scale(-1, 1) translate(-600.500000, -101.000000) "})),ee=function(e){return r.a.createElement("svg",_({width:"100%",height:"100px",viewBox:"0 0 1201 202"},e),$)};a.p;var te={powerConverter:function(e){var t=e.grid,a="DC"===e.appliance.powerType&&"AC"===t.powerType;return{message:a?"A power converter is required hardware for successful appliance operation.":"A power converter may not be useful. A power converter may be useful if the supply power is AC and the appliance is designed to receive DC power.",status:a?"required":"notuseful"}},inverter:function(e){var t=e.grid,a="AC"===e.appliance.powerType&&"DC"===t.powerType;return{message:a?"An inverter is required hardware for successful appliance operation.":"An inverter may not be useful. An inverter may be useful if the supply power is DC and the appliance is designed to receive AC power.",status:a?"required":"notuseful"}},vfd:function(e){var t=e.grid,a=e.appliance,n="AC"===t.powerType&&"AC"===a.powerType&&a.hasMotor&&3===a.phase;return{message:n?"A variable frequency drive may be useful to reduce in-rush current and provide speed control.":"A variable frequency drive may not be useful or available for this appliance. VFDs are most common for three phase AC motor applications to reduce in-rush current and motor speed control.",status:n?"useful":"notuseful"}},softStarter:function(e){var t=e.grid,a=e.appliance,n="AC"===t.powerType&&"AC"===a.powerType&&a.hasMotor;return{message:n?"A soft starter may be useful to reduce in-rush current and starting torque and to provide motor protection.":"A soft starter may not be useful for this appliance. Soft starters may be useful for AC motor applications to reduce in-rush current and starting torque.",status:n?"useful":"notuseful"}},directOnlineStarter:function(e){e.grid;var t=e.appliance.hasMotor;return{message:t?"A direct on-line starter may be useful to start a motor and provide overloading and short-circuit protection.":"A direct on-line starter may not be useful for appliances without motors.",status:t?"useful":"notuseful"}},starDeltaStarter:function(e){var t=e.grid,a=e.appliance,n="AC"===t.powerType&&"AC"===a.powerType&&a.hasMotor&&3===a.phase;return{message:n?"A star delta starter may be useful to reduce in-rush current and starting torque.":"A star delta starter may not be useful or available for this appliance. Star Delta Starters are most common for three phase AC motor applications to reduce in-rush current and starting torque.",status:n?"useful":"notuseful"}},capacitorBank:function(e){var t=e.grid,a=e.appliance,n="AC"===t.powerType&&"AC"===a.powerType&&a.powerFactor<.9;return{message:n?"An appropriately sized capacitor bank may raise power factor of the appliance.":"A capacitor bank may not be useful.",status:n?"useful":"notuseful"}},threeFourPointDcMotorStarter:function(e){var t=e.grid,a=e.appliance,n="DC"===t.powerType&&"DC"===a.powerType;return{message:n?"A Three or Four Point Motor Starter may reduce starting current and improve power system voltage stability upon starting the appliance.":"A Three or Four Point Motor Starter may not be useful.",status:n?"useful":"notuseful"}}};function ae(e,t,a){if(P.a.isEmpty(e)||P.a.isEmpty(t)||P.a.isEmpty(a))return{};!function(e,t){var a=P.a.uniq(P.a.map(e,"equipmentType")),n=P.a.keys(t);P.a.forEach(a,function(e){if(!P.a.includes(n,e))throw new Error("Ancillary Equipment Rules: There is no rule for equipment type: ".concat(e))})}(a,te);var n=P.a.map(a,function(a){var n=te[a.equipmentType]({grid:e,appliance:t});return Object(p.a)({},a,n)}),r=P.a.partition(n,{status:"required"}),l=Object(H.a)(r,2),i=l[0],o=l[1],c=P.a.partition(o,{status:"useful"}),u=Object(H.a)(c,2);return{required:i,useful:u[0],notuseful:u[1]}}var ne=[{equipmentType:"powerConverter",label:"AC to DC Power Converter",sizeUnits:"kW",description:"A power converter converts AC power to DC power. An example may be converting AC grid electricity to power a fan driven by a DC motor"},{equipmentType:"inverter",label:"DC to AC Inverter",sizeUnits:"kW",description:"An inverter converts DC power to AC power. An example may be converting DC power from a battery to electrify an AC powered printer."},{equipmentType:"vfd",label:"Variable Frequency Drive",sizeUnits:"TODO",description:"A variable frequency drive provides AC three phase frequency variation for motor speed control, reduction of starting torque, and inrush current relief. An example may be a VFD upstream of an industrial blower to control flow rates depending on operational conditions."},{equipmentType:"softStarter",label:"Soft Starter",sizeUnits:"TODO",description:"A softstarter slowly ramps up AC voltage when starting a motor to reduce starting torque and provide inrush current relief. An example may be a softstarter upstream of a pump to limit inrush current and water hammer throughout a system."},{equipmentType:"directOnlineStarter",label:"Direct On-line Starter",sizeUnits:"TODO",description:"A direct on line starter is a power shut off switch upstream of an AC motor that prevents overloading and short circuits."},{equipmentType:"starDeltaStarter",label:"Star Delta Starter",sizeUnits:"TODO",description:"A star delta starter raises AC voltage in fixed increments when starting a motor to reduce starting torque and provide inrush current relief. An example may be a star delta starter upstream of a motor powered mill to reduce inrush current.  Star delta starters need to be assembled from multiple contactors, thermal overload relay, timer, and connection set."},{equipmentType:"capacitorBank",label:"Capacitor Bank",sizeUnits:"TODO",description:"A capacitor bank stores energy to support a motor's 'parasitic' power consumption, or reactive power. By reducing the amount of reactive power required from the grid, power factor approaches 1 and fees from a utility can be avoided. An example is a welder with a power factor of 0.6 can be equipped with a capacitor bank to boost power factor to 0.95."},{equipmentType:"threeFourPointDcMotorStarter",label:"Three/Four Point DC Motor Starter",sizeUnits:"TODO",description:"A three or four point DC motor starter reduces starting current and stabilizes starting motor voltage. An example is a 48V DC shunt motor driven lathe in which a motor starter brings down inrush current and stabilizes voltage to extend the motor's useful life."}],re=F.types.model({enabledStates:F.types.frozen()}).actions(function(e){return{setAncillaryEquipmentEnabledFromCheckbox:function(t,a){e.enabledStates[t]=a},setEquipmentEnabledFromStatus:function(t){e.enabledStates=function(e,t){var a=P.a.map(e.required,"equipmentType"),n=P.a.cloneDeep(t);return P.a.reduce(a,function(e,t){return e[t]=!0,e},n)}(t,e.enabledStates)},setEnabledFromCheckbox:function(t,a){e.enabledStates=Object(p.a)({},e.enabledStates,Object(V.a)({},t,a))}}}).views(function(e){return{get equipmentStatus(){return ae(Object(F.getParent)(e).activeGrid,Object(F.getParent)(e).activeAppliance,ne)},get enabledEquipmentList(){return P()(e.enabledStates).pickBy(function(e){return!0===e}).keys().map(function(e){return P.a.find(ne,{equipmentType:e}).label}).value()}}}),le=a(126),ie=a(49),oe=a(125),ce=a.n(oe),ue=(a(337),a(109)),se=a(485),me=a.n(se),pe="L/d/yy H:mm",de=["#212934","#5F6B7A","#8795A7","#B8C4CE","#CFD6DE","#E1E7EC","#F8F9FA"],ye={appliance:"#DD5182",homer:"#FFA601",calculatedColumns:"#444e86",excluded:de[5],default:"#f9fafb"},fe={newApplianceLoad:"#003f5c",availableCapacity:"#DD5182",availableCapacityAfterNewLoad:"#955196",newApplianceBatteryConsumption:"#FFA601",originalUnmetLoad:"#FFA601",newUnmetLoad:"#444e86",additionalUnmetLoad:"#FF6E54",energyContentAboveMin:"#003f5c",newApplianceBatteryEnergyContent:"#DD5182",originalBatteryEnergyContentDelta:"#FFA601"},he=function(e){return P.a.get(fe,e,de[2])};window.LuxonDateTime=ue.DateTime;var Ee=function(e,t){if(!P.a.has(P.a.first(e),t))throw new Error("Can't find key: ".concat(t,": Check calling function"))},be=function(){return ue.DateTime.local().toISO()},ge=function(e,t){return Ee(e,t),P.a.chain(e).map(t).filter(P.a.isNumber).value()},Ce=function(e,t){return Ee(e,t),P.a.chain(e).map(t).filter(P.a.isNumber).filter(function(e){return e>0}).size().value()},ve=function(e,t){return Ee(e,t),P.a.chain(e).map(t).filter(P.a.isNumber).filter(function(e){return e>0}).sum().round(2).value()},Ae=function(e){var t=ue.DateTime.fromISO(e);return function(e){return P.a.get(e,"isValid",!1)}(t)?t.toFormat("MMM dd H:mm"):e},we=function(e,t,a){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=P.a.countBy(e,function(e,n){return P.a.isNumber(e[t])&&e[a]>0?e[t]:"deleteme"});return P.a.map(P.a.omit(r,"deleteme"),function(e,r){var l;return l={},Object(V.a)(l,a,e),Object(V.a)(l,t,n?parseInt(r,10):r),l})},Te=function(e){return P.a.isFinite(e)?P.a.round(e/8760*100,1):"-"},Oe=function(e,t){return P.a.min(ge(e,t))},Se=function(e,t){return P.a.max(ge(e,t))};function Ie(e,t){for(var a,n=arguments.length,r=new Array(n>2?n-2:0),l=2;l<n;l++)r[l-2]=arguments[l];return(a=P()(P.a.cloneDeep(t))).concat.apply(a,r).groupBy(e).map(P.a.spread(P.a.merge)).value()}var je=a(332),De=a.n(je),ke={header:!0,dynamicTyping:!0,skipEmptyLines:!0};function xe(e){return"text/csv"===e}function Le(e){var t=parseFloat(e[3]),a=parseFloat(e[4]);return!P.a.isFinite(t)&&!P.a.isFinite(a)}function Re(e){var t,a=e.parsedFile,n=e.pvType,r=e.batteryType,l=e.generatorType,i=P.a.map((t=a.data,P.a.drop(t,1)),function(e,t){return function(e){var t=e.row,a=e.pvType,n=e.batteryType,r=e.generatorType;return P.a.mapKeys(t,function(e,t){switch(!0){case P.a.includes(t,n):return P.a.replace(t,n,"Battery");case P.a.includes(t,a):return P.a.replace(t,"".concat(a," "),"PV ");case P.a.includes(t,r):return P.a.replace(t,"".concat(r," "),"Generator");default:return t}})}({row:e,pvType:n,batteryType:r,generatorType:l})});return function(e){return P.a.map(e,function(e,t){return Object(p.a)({},e,{hour:t})})}(P.a.map(i,function(e,t){return P.a.mapValues(e,function(e,t){return"Time"===t?ue.DateTime.fromFormat(e,pe).toISO():P.a.round(e,5)})}))}function Me(e,t){var a=t.isSample,n=t.fileType,r=t.size,l=t.mimeType,i=[],o=!!a||xe(l),c=P.a.keys(P.a.first(e.data));Le(c)||i.push("This file appears to not have column header descriptions. The first row of the HOMER file should contain the column name and the second row contain the column units."),"homer"!==n&&i.push("File is not homer file. Current fileType: ".concat(n)),o||i.push("File is not a CSV. If you have an Excel file, export as CSV."),r>5242880&&i.push("Filesize too big. Your file is ".concat(De()(r)));var u=function(e){var t=P.a.some(e,function(e){return P.a.includes(e,"DC Primary Load")}),a=P.a.some(e,function(e){return P.a.includes(e,"AC Primary Load")});return{powerType:t?"DC":"AC",powerTypeErrors:t&&a?"This grid appears to have both AC and DC power types, which we don't currently support. Please contact support.":null}}(c),s=u.powerType,m=u.powerTypeErrors;i.push(m);var d=function(e){var t="Angle of Incidence",a=P.a.find(e,function(e){return P.a.includes(e,t)}),n=P.a.trim(a.split(t)[0]);return{pvType:n,pvTypeErrors:P.a.isString(n)?null:"Cannot determine PV type. Looking for a column called '___ ".concat(t,"'")}}(c),y=d.pvType,f=d.pvTypeErrors;i.push(f);var h=function(e){var t=P.a.find(e,function(e){return P.a.includes(e,"State of Charge")}),a=P.a.trim(t.split("State of Charge")[0]);return{batteryType:a,batteryTypeErrors:P.a.isString(a)?null:"Cannot determine battery type. Looking for a column called '___ ".concat("State of Charge","'")}}(c),E=h.batteryType,b=h.batteryTypeErrors;i.push(b);var g=function(e){var t=P.a.find(e,function(e){return P.a.includes(e,"Genset Power Output")});return{generatorType:t?P.a.trim(t.split("Genset Power Output")[0]):"Not Found",generatorTypeErrors:null}}(c),C=g.generatorType,v=g.generatorTypeErrors;i.push(v);var A=Re({parsedFile:e,pvType:y,batteryType:E,generatorType:C}),w=Se(A,"Battery State of Charge"),T=Oe(A,"Battery State of Charge"),O=Se(A,"Battery Energy Content"),S=Oe(A,"Battery Energy Content");return{fileInfo:t,fileData:function(e){var t=e.fileData,a=e.batteryMinSoC,n=e.batteryMinEnergyContent;return P.a.map(t,function(e,t,r){var l=0===t?{}:r[t-1],i=e["Excess Electrical Production"],o=e["Battery Energy Content"],c=e["Battery State of Charge"],u=0===t?e["Battery Energy Content"]:l["Battery Energy Content"],s=0===t?e["Battery State of Charge"]:l["Battery State of Charge"],m=e["PV Power Output"],d=m-e["Total Electrical Load Served"],y=o-n,f=i+(c<=a?0:y),h=0===t?0:o-u,E=e.Time,b=ue.DateTime.fromISO(E);return Object(p.a)({datetime:E,hour_of_day:b.hour,totalElectricalProduction:P.a.round(m,4),electricalProductionLoadDiff:P.a.round(d,4),prevBatterySOC:P.a.round(s,4),prevBatteryEnergyContent:P.a.round(u,4),energyContentAboveMin:P.a.round(y,4),availableCapacity:P.a.round(f,4),originalBatteryEnergyContentDelta:P.a.round(h,4)},e)})}({fileData:A,batteryMinSoC:T,batteryMinEnergyContent:S}),fileErrors:P.a.compact(i),fileWarnings:e.errors,powerType:s,pvType:y,batteryType:E,generatorType:C,batteryMaxSoC:w,batteryMinSoC:T,batteryMaxEnergyContent:O,batteryMinEnergyContent:S}}function Pe(e,t){var a=t.isSample,n=t.fileType,r=t.size,l=[],i=!!a||xe("TODO");return"appliance"!==n&&l.push("File is not applliance file. Current fileType: ".concat(n)),i||l.push("File is not a CSV. If you have an Excel file, export as CSV."),Le(P.a.keys(P.a.first(e.data)))||l.push("This file appears to not have column header descriptions. The first row of the HOMER file should contain the column name and the second row contain the column units."),r>5242880&&l.push("Filesize too big. Your file is ".concat(De()(r))),{fileInfo:t,fileData:P.a.map(e.data,function(e){return Object(p.a)({},e,{kw_factor:P.a.round(e.kw_factor,5)})}),fileErrors:l,fileWarnings:[],fileType:n}}function Ue(e,t,a){var n=a.pathname.split("/").length,r=P.a.repeat("../",n-1);switch(t){case"homer":return r+"data/homer/"+e+".csv";case"appliance":return r+"data/appliances/"+e+".csv";default:throw new Error("Need to pass fileType (homer, appliance) to filePathLookup")}}function Fe(e){return ze.apply(this,arguments)}function ze(){return(ze=Object(le.a)(R.a.mark(function e(t){return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[]);case 1:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function Ge(e){return qe.apply(this,arguments)}function qe(){return(qe=Object(le.a)(R.a.mark(function e(t){return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[]);case 1:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function Ne(e,t){return Be.apply(this,arguments)}function Be(){return(Be=Object(le.a)(R.a.mark(function e(t,a){var n,r,l,i;return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ue(t.name,t.fileType,a),console.log("filePath: ",n),e.prev=2,e.next=5,window.fetch(n);case 5:return r=e.sent,e.next=8,r.text();case 8:if(l=e.sent,i=ce.a.parse(l,ke),P.a.isEmpty(i.errors)){e.next=12;break}throw new Error("Problem parsing grid CSV: ".concat(JSON.stringify(i.errors)));case 12:e.t0=t.fileType,e.next="homer"===e.t0?15:"appliance"===e.t0?16:17;break;case 15:return e.abrupt("return",Me(i,t));case 16:return e.abrupt("return",Pe(i,t));case 17:throw new Error("Expected either a 'homer' for 'appliance' file in fetchSampleFile. Got ".concat(t.fileType));case 18:e.next=23;break;case 20:e.prev=20,e.t1=e.catch(2),console.error("File load fail for : ".concat(n,". Make sure appliance CSV has all headers."),e.t1);case 23:case"end":return e.stop()}},e,this,[[2,20]])}))).apply(this,arguments)}function We(e,t,a){return e.sub(t).div(a)}function Ve(e){var t=e.mean(0);return{dataMean:t,dataStd:e.sub(t).square().mean(0).sqrt()}}function He(e){var t=ie.sequential();return t.add(ie.layers.dense({inputShape:[e],units:9,activation:"sigmoid",kernelInitializer:"leCunNormal"})),t.add(ie.layers.dense({units:1})),t.summary(),t}function Ke(e,t,a){var n=e.evaluate(t.testFeatures,t.testTarget,{batchSize:a});return P.a.round(n.dataSync()[0])}function Ze(e){var t=e[e.length-1].loss,a=e[e.length-1].val_loss;return{finalTrainSetLoss:P.a.round(t,2),finalValidationSetLoss:P.a.round(a,2)}}window.tf=ie;var Qe={batteryMaxEpochCount:3,batteryCurrentEpoch:0,batteryModelStopLoss:.1,batteryBatchSize:40,batteryLearningRate:.01,batteryTargetColumn:"Battery State of Charge",batteryTrainingColumns:["electricalProductionLoadDiff","prevBatterySOC"],batteryTrainingTime:null,batteryModel:null,batteryModelName:"",batteryTrainingState:"None",batteryTrainLogs:[],batteryFinalTrainSetLoss:null,batteryValidationSetLoss:null,batteryTestSetLoss:null},Xe=Object(p.a)({fileInfo:{},fileData:[],fileLabel:"",fileDescription:"",fileErrors:[],fileWarnings:[],pvType:"",powerType:"",batteryType:"",generatorType:"",batteryMinSoC:null,batteryMaxSoC:null,batteryMinEnergyContent:null,batteryMaxEnergyContent:null,batteryModelSaved:!1,fileIsSelected:!1,isAnalyzingFile:!1,isBatteryModeling:!1,gridSaved:!1},Qe),Ye=F.types.model({fileInfo:F.types.frozen(),fileData:F.types.frozen(),fileLabel:F.types.string,fileDescription:F.types.string,fileErrors:F.types.array(F.types.string),fileWarnings:F.types.array(F.types.string),pvType:F.types.string,powerType:F.types.enumeration("powerType",["AC","DC",""]),batteryType:F.types.string,generatorType:F.types.string,batteryMinSoC:F.types.maybeNull(F.types.number),batteryMaxSoC:F.types.maybeNull(F.types.number),batteryMinEnergyContent:F.types.maybeNull(F.types.number),batteryMaxEnergyContent:F.types.maybeNull(F.types.number),batteryMaxEpochCount:F.types.number,batteryModelStopLoss:F.types.number,batteryBatchSize:F.types.number,batteryLearningRate:F.types.number,batteryTargetColumn:F.types.string,batteryTrainingColumns:F.types.array(F.types.string),batteryModel:F.types.maybeNull(F.types.frozen()),batteryModelName:F.types.string,batteryTrainingState:F.types.enumeration("trainingState",["None","Training","Trained"]),batteryFinalTrainSetLoss:F.types.maybeNull(F.types.number),batteryValidationSetLoss:F.types.maybeNull(F.types.number),batteryTestSetLoss:F.types.maybeNull(F.types.number),batteryTrainLogs:F.types.frozen(),batteryCurrentEpoch:F.types.maybeNull(F.types.number),batteryTrainingTime:F.types.maybeNull(F.types.number),fileIsSelected:F.types.boolean,isAnalyzingFile:F.types.boolean,isBatteryModeling:F.types.boolean,gridSaved:F.types.boolean,batteryModelSaved:F.types.boolean}).volatile(function(e){return{}}).actions(function(e){return{runInAction:function(e){return e()},handleGridFileUpload:function(t){e.fileIsSelected=!0,e.isAnalyzingFile=!0;var a=t.name,n=t.size,r=t.type,l=be(),i={id:"".concat(a,"_").concat(be()),timeStamp:l,fileType:"homer",name:a,size:n,isSample:!1,mimeType:r};ce.a.parse(t,Object(p.a)({},ke,{complete:function(t){var n=Me(t,i);e.runInAction(function(){var t;e.fileLabel=(t=a,me.a.parse(t).name),e.updateModel(Object(p.a)({},n))})},error:function(e){console.log("error: ",e)}}))},loadFile:Object(F.flow)(R.a.mark(function t(a){var n;return R.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.isAnalyzingFile=!0,!e.fileInfo.isSample){t.next=7;break}return t.next=4,Ne(a,window.location);case 4:t.t0=t.sent,t.next=10;break;case 7:return t.next=9,Fe(a);case 9:t.t0=t.sent;case 10:n=t.t0,e.updateModel(n),e.isAnalyzingFile=!1;case 13:case"end":return t.stop()}},t,this)})),updateModel:function(t){e.runInAction(function(){e.fileInfo=t.fileInfo,e.fileData=t.fileData,e.fileErrors=t.fileErrors,e.fileWarnings=t.fileWarnings,e.powerType=t.powerType,e.pvType=t.pvType,e.batteryType=t.batteryType,e.generatorType=t.generatorType,e.batteryMinSoC=t.batteryMinSoC,e.batteryMaxSoC=t.batteryMaxSoC,e.batteryMinEnergyContent=t.batteryMinEnergyContent,e.batteryMaxEnergyContent=t.batteryMaxEnergyContent,e.isAnalyzingFile=!1})},handleLabelChange:function(t,a){e.fileLabel=a.value},handleDescriptionChange:function(t,a){e.fileDescription=a.value},trainBatteryModel:Object(F.flow)(R.a.mark(function t(a){var n,r,l,i,o,c,u;return R.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=a.batteryFeatureCount,r=a.batteryTensors,l=a.batteryLearningRate,i=a.batteryBatchSize,o=a.batteryMaxEpochCount,e.batteryReadyToTrain){t.next=3;break}return t.abrupt("return",null);case 3:if(!e.batteryModel){t.next=5;break}return t.abrupt("return",null);case 5:return c=He(n),e.batteryModelName="Neural Network Regression with 1 Hidden Layer",c.compile({optimizer:ie.train.sgd(l),loss:"meanSquaredError"}),e.batteryTrainingState="Training",u=performance.now(),t.next=12,c.fit(r.trainFeatures,r.trainTarget,{batchSize:i,epochs:o,validationSplit:.2,callbacks:{onEpochEnd:function(){var t=Object(le.a)(R.a.mark(function t(a,n){var r;return R.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=performance.now(),e.runInAction(function(){e.batteryCurrentEpoch=a,e.batteryTrainLogs=e.batteryTrainLogs.concat(Object(p.a)({epoch:a},n)),e.batteryTrainingTime=r-u,n.val_loss<e.batteryModelStopLoss&&(c.stopTraining=!0)});case 2:case"end":return t.stop()}},t,this)}));return function(e,a){return t.apply(this,arguments)}}(),onTrainEnd:function(){var t=Ke(c,r,i),a=Ze(e.batteryTrainLogs),n=a.finalTrainSetLoss,l=a.finalValidationSetLoss,o=performance.now();e.runInAction(function(){e.batteryModel=c,e.batteryTestSetLoss=t,e.batteryFinalTrainSetLoss=n,e.batteryValidationSetLoss=l,e.batteryTrainingTime=o-u,e.batteryTrainingState="Trained"})}}});case 12:case"end":return t.stop()}},t,this)})),retrainBatteryModel:function(){P.a.forEach(Qe,function(t,a){return e[a]=t}),e.trainBatteryModel({batteryFeatureCount:e.batteryFeatureCount,batteryTensors:e.batteryTensors,batteryLearningRate:e.batteryLearningRate,batteryBatchSize:e.batteryBatchSize,batteryMaxEpochCount:e.batteryMaxEpochCount})},handleCancelUpload:function(){console.log("TODO: handleCancelUpload")},handleFileSave:function(){e.saveGridSnapshot()},saveGridSnapshot:Object(F.flow)(R.a.mark(function t(){var a,n,r;return R.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=function(t){B.a.setItem("microgridAppliances.batteryModel",t).then(function(){e.runInAction(function(){e.batteryModelSaved=!0})})},t.next=3,e.batteryModel.save(ie.io.withSaveHandler(a));case 3:n=t.sent,console.log("batteryModelSaveReport: ",n),r=P.a.omit(Object(F.getSnapshot)(e),["batteryModel"]),B.a.setItem("microgridAppliances.stagedGrid",r).then(function(){e.runInAction(function(){e.gridSaved=!0})});case 7:case"end":return t.stop()}},t,this)}))}}).views(function(e){return{get showAnalyzedResults(){return e.fileIsSelected&&!e.isAnalyzingFile},get batteryFeatureCount(){return P.a.size(e.batteryTrainingColumns)},get batteryTrainingTimeDisplay(){return t=e.batteryTrainingTime,a=e.batteryMaxEpochCount,"".concat(P.a.round(t/1e3)," sec (~").concat(P.a.round(t/1e3/a)," sec/epoch)");var t,a},get batteryTrainingData(){return function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.65;if(P.a.isEmpty(e))return null;var r=P.a.shuffle(e),l=P.a.map(r,function(e){return[e[t]]}),i=P.a.map(r,function(e){return P.a.map(a,function(t){return e[t]})}),o=P.a.round(l.length*n),c=P.a.chunk(i,o),u=Object(H.a)(c,2),s=u[0],m=u[1],p=P.a.chunk(l,o),d=Object(H.a)(p,2);return{trainFeatures:s,testFeatures:m,trainTarget:d[0],testTarget:d[1]}}(e.fileData,e.batteryTargetColumn,e.batteryTrainingColumns)},get batteryReadyToTrain(){return P.a.every([P.a.isEmpty(e.fileErrors),P.a.isFinite(e.batteryFeatureCount),!P.a.isEmpty(e.batteryTensors),e.batteryLearningRate,e.batteryBatchSize,e.batteryMaxEpochCount,!P.a.isEmpty(e.batteryTrainingColumns)])},get batteryIsTrained(){return"Trained"===e.batteryTrainingState},get batteryIsTraining(){return"Training"===e.batteryTrainingState},get batteryBaselineLoss(){return function(e){if(P.a.isEmpty(e))return null;var t=ie.mean(e.trainTarget),a=ie.mean(ie.pow(ie.sub(e.testTarget,t),2));return P.a.round(a.dataSync()[0])}(e.tensors)},get batteryTensors(){return function(e){if(P.a.isEmpty(e))return null;var t=ie.tensor2d(e.trainFeatures),a=ie.tensor2d(e.trainTarget),n=ie.tensor2d(e.testFeatures),r=ie.tensor2d(e.testTarget),l=Ve(t),i=l.dataMean,o=l.dataStd;return{trainFeatures:We(t,i,o),trainTarget:a,testFeatures:We(n,i,o),testTarget:r}}(e.batteryTrainingData)},get batteryPlottablePredictionVsActualData(){return function(e,t,a){if(P.a.isEmpty(t))return[];var n=e.trainFeatures,r=e.testFeatures,l=e.testTarget,i=Ve(ie.tensor2d(n)),o=i.dataMean,c=i.dataStd,u=We(ie.tensor2d(r),o,c),s=t.predict(u).dataSync();return P.a.map(l,function(e,t){return{actual:e[0],predicted:s[t]}})}(e.batteryTrainingData,e.batteryModel,e.batteryInputTensorShape)},get batteryPlottableReferenceLine(){return function(e){if(P.a.isEmpty(e))return[];var t=e.trainTarget,a=e.testTarget,n=P.a.map(t.concat(a),function(e){return e[0]}),r=P.a.range(P.a.round(P.a.min(n)),P.a.round(P.a.max(n)));return P.a.map(r,function(e){return{actual:e,predicted:e}})}(e.batteryTrainingData)}}}),Je={fileInfo:{},fileData:[],fileLabel:"",fileDescription:"",fileErrors:[],fileWarnings:[],applianceType:"",applianceStoreName:"",fileIsSelected:!1,isAnalyzingFile:!1,applianceSaved:!1},_e=F.types.model({fileInfo:F.types.frozen(),fileData:F.types.frozen(),fileLabel:F.types.string,fileDescription:F.types.string,fileErrors:F.types.array(F.types.string),fileWarnings:F.types.array(F.types.string),applianceType:F.types.enumeration("applianceType",["rice_mill","maize_mill","water_pump","welder","other",""]),powerType:F.types.enumeration("powerType",["AC","DC",""]),phase:F.types.maybeNull(F.types.number),hasMotor:F.types.maybeNull(F.types.boolean),powerFactor:F.types.maybeNull(F.types.number),fileIsSelected:F.types.boolean,isAnalyzingFile:F.types.boolean,applianceSaved:F.types.boolean}).actions(function(e){return{runInAction:function(e){return e()},handleApplianceFileUpload:function(t){e.fileIsSelected=!0,e.isAnalyzingFile=!0,console.log("parsing appliance rawFile: ",t);var a=t.name,n=t.size,r=t.type;ce.a.parse(t,Object(p.a)({},ke,{complete:function(t){var l=Pe({parsedFile:t,fileName:a,fileSize:n,fileType:"appliance",fileMimeType:r,isSamplefile:!1});e.updateAppliance(l)},error:function(e){console.log("error: ",e)}}))},loadFile:Object(F.flow)(R.a.mark(function t(a){var n;return R.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.isAnalyzingFile=!0,!e.fileInfo.isSample){t.next=7;break}return t.next=4,Ne(a,window.location);case 4:t.t0=t.sent,t.next=10;break;case 7:return t.next=9,Ge(a);case 9:t.t0=t.sent;case 10:n=t.t0,e.updateModel(n),e.isAnalyzingFile=!1;case 13:case"end":return t.stop()}},t,this)})),updateModel:function(t){e.runInAction(function(){e.fileInfo=t.fileInfo,e.fileData=t.fileData,e.fileErrors=t.fileErrors,e.fileWarnings=t.fileWarnings,e.isAnalyzingFile=!1})},handleLabelChange:function(t,a){e.fileLabel=a.value},handleDescriptionChange:function(t,a){e.fileDescription=a.value},handleCancelUpload:function(){console.log("TODO: handleCancelUpload")},handleFileSave:function(){e.saveGridSnapshot()}}}).views(function(e){return{get showAnalyzedResults(){return e.fileIsSelected&&!e.isAnalyzingFile},get fileLabels(){return P.a.map(e.availableAppliances,function(e){return e.label})}}});var $e="http://json-schema.org/draft-04/schema#",et={applianceNominalPower:{$schema:$e,title:"Appliance Nominal Power",description:"Apply the appliance nominal power (in kW) to determine the load profile for this appliance",type:"float",minimum:0,maximum:100,step:.1,defaultValue:2.2,units:"-"},dutyCycleDerateFactor:{$schema:$e,title:"Duty Cycle Derate Factor",description:"A welder, for example, may only run 20% within a 2 minute measured interval. In that case, enter 0.2. Mills likely run for the entire 2 minute measured interval, so would have a value of 1",type:"float",minimum:0,maximum:2,step:.05,defaultValue:1,units:"-"},wholesaleElectricityCost:{$schema:$e,title:"Wholesale Electricity Cost (if grid-tied)",description:"Cost to produce or purchase electricity for the grid operator, not including unmet load costs.",type:"float",defaultValue:0,units:"$/kWh"},unmetLoadCostPerKwh:{$schema:$e,title:"Unmet Load Electricity Cost",description:"Cost to produce or purchase electricity for the grid operator, above what their system can handle. For example, this may be the cost of diesel for a generator",type:"float",defaultValue:.35,units:"$/kWh"},retailElectricityPrice:{$schema:$e,title:"Retail Electricity Price",description:"Price of electricity for the consumer (appliance operator). This is also the revenue for the grid operator.",type:"float",defaultValue:.45,units:"$/kWh"},productionUnitsPerKwh:{$schema:$e,title:"Units of Production per kWh",description:"How many units can be produced for a single kwh. Multiply by yearly kWh to get number of units produced in a year. Units could be kg grain / kWh.",type:"float",defaultValue:136,units:"-"},revenuePerProductionUnits:{$schema:$e,title:"Revenue Per Production Units",description:"Revenue generated per unit of production. For example, multiply by yearly kg of grain to get yearly revenue: $ / kg of grain milled.",type:"float",defaultValue:.021,units:"-"},revenuePerProductionUnitsUnits:{$schema:$e,title:"The suffix (units) attached to revenuePerProductionUnits. Could be $ / kg, $ / hour, $ / liter",type:"array",values:["$ / kg of grain","$ / hour","$ / liter"],defaultValue:"-",units:"-"}},tt=["hour","datetime","hour_of_day","day","day_hour","totalElectricalProduction","electricalProductionLoadDiff","prevBatterySOC","prevBatteryEnergyContent","newApplianceLoad","availableCapacity","availableCapacityAfterNewLoad","additionalUnmetLoad","newApplianceBatteryConsumption","originalBatteryEnergyContentDelta","newApplianceBatteryEnergyContent","originalUnmetLoad","newUnmetLoad"],at=["Global Solar","PV Solar Altitude","PV Solar Azimuth","PV Angle of Incidence","PV Incident Solar","PV Power Output","AC Primary Load","AC Primary Load Served","Total Electrical Load Served","Renewable Penetration","Excess Electrical Production","Unmet Electrical Load","Capacity Shortage","Total Renewable Power Output","Inverter Power Input","Inverter Power Output","Rectifier Power Input","Rectifier Power Output","Battery Maximum Charge Power","Battery Maximum Discharge Power","Battery Charge Power","Battery Discharge Power","Battery Input Power","Battery Energy Content","Battery State of Charge","Battery Energy Cost","Battery Temperature","Battery Degradation - Time and Temperature","Battery Degradation - Cycling","Battery Equivalent Cycles","AC Required Operating Capacity","DC Required Operating Capacity","AC Operating Capacity","DC Operating Capacity"],nt=["kw_factor"],rt=tt.concat(at,nt),lt=Object(p.a)({},{hour:"-",datetime:"-",hour_of_day:"-",day:"-",day_hour:"-",totalElectricalProduction:"kW",electricalProductionLoadDiff:"kW",prevBatterySOC:"%",prevBatteryEnergyContent:"kWh",newApplianceLoad:"kW",availableCapacity:"kW",availableCapacityAfterNewLoad:"kW",additionalUnmetLoad:"kW",newApplianceBatteryConsumption:"kW",originalBatteryEnergyContentDelta:"kWh",newApplianceBatteryEnergyContent:"kWh",originalUnmetLoad:"kW",newUnmetLoad:"kW"},{"Global Solar":"kW/m2","PV Solar Altitude":"\xc2\xb0","PV Solar Azimuth":"\xc2\xb0","PV Angle of Incidence":"\xc2\xb0","PV Incident Solar":"kW/m2","PV Power Output":"kW","AC Primary Load":"kW","AC Primary Load Served":"kW","Total Electrical Load Served":"kW","Renewable Penetration":"%","Excess Electrical Production":"kW","Unmet Electrical Load":"kW","Capacity Shortage":"kW","Total Renewable Power Output":"kW","Inverter Power Input":"kW","Inverter Power Output":"kW","Rectifier Power Input":"kW","Rectifier Power Output":"kW","Battery Maximum Charge Power":"kW","Battery Maximum Discharge Power":"kW","Battery Charge Power":"kW","Battery Discharge Power":"kW","Battery Input Power":"kW","Battery Energy Content":"kW","Battery State of Charge":"%","Battery Energy Cost":"$/kWh","Battery Temperature":"C","Battery Degradation - Time and Temperature":"%","Battery Degradation - Cycling":"%","Battery Equivalent Cycles":"cycles","AC Required Operating Capacity":"kW","DC Required Operating Capacity":"kW","AC Operating Capacity":"kW","DC Operating Capacity":"kW"},{kw_factor:"-"});var it,ot=function(e,t,a){var n=P.a.reduce(e,function(e,t){return e[t]="calculatedColumns",e},{}),r=P.a.reduce(t,function(e,t){return e[t]="homer",e},{}),l=P.a.reduce(a,function(e,t){return e[t]="appliance",e},{});return Object(p.a)({},n,r,l)}(tt,at,nt),ct=F.types.model({activeGrid:F.types.maybeNull(Ye),activeGridIsLoading:F.types.boolean,stagedGrid:F.types.maybeNull(Ye),availableGrids:F.types.optional(F.types.array(Ye),[]),activeAppliance:F.types.maybeNull(_e),appliancesAreLoading:F.types.boolean,stagedAppliance:F.types.maybeNull(_e),availableAppliances:F.types.optional(F.types.array(_e),[]),excludedTableColumns:F.types.optional(F.types.array(F.types.string),[]),modelInputs:W,ancillaryEquipment:re,router:z.RouterModel}).actions(function(e){return{afterCreate:function(){e.loadAvailableGrids(),e.loadAvailableAppliances()},fetchActiveGrid:Object(F.flow)(R.a.mark(function t(a){return R.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("running fetchActiveGrid"),e.activeGridIsLoading=!0,t.next=4,e.activeGrid.loadFile(a);case 4:e.activeGridIsLoading=!1;case 5:case"end":return t.stop()}},t,this)})),fetchActiveAppliance:Object(F.flow)(R.a.mark(function t(a){return R.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.appliancesAreLoading=!0,t.next=3,e.activeAppliance.loadFile(a);case 3:e.appliancesAreLoading=!1;case 4:case"end":return t.stop()}},t,this)})),loadAvailableGrids:Object(F.flow)(R.a.mark(function t(){var a,n,r,l,i,o;return R.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a=!0,n=!1,r=void 0,t.prev=3,l=e.availableGrids[Symbol.iterator]();case 5:if(a=(i=l.next()).done){t.next=12;break}return o=i.value,t.next=9,o.loadFile(o.fileInfo);case 9:a=!0,t.next=5;break;case 12:t.next=18;break;case 14:t.prev=14,t.t0=t.catch(3),n=!0,r=t.t0;case 18:t.prev=18,t.prev=19,a||null==l.return||l.return();case 21:if(t.prev=21,!n){t.next=24;break}throw r;case 24:return t.finish(21);case 25:return t.finish(18);case 26:case"end":return t.stop()}},t,this,[[3,14,18,26],[19,,21,25]])})),loadAvailableAppliances:Object(F.flow)(R.a.mark(function t(){var a,n,r,l,i,o;return R.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a=!0,n=!1,r=void 0,t.prev=3,l=e.availableAppliances[Symbol.iterator]();case 5:if(a=(i=l.next()).done){t.next=12;break}return o=i.value,t.next=9,o.loadFile(o.fileInfo);case 9:a=!0,t.next=5;break;case 12:t.next=18;break;case 14:t.prev=14,t.t0=t.catch(3),n=!0,r=t.t0;case 18:t.prev=18,t.prev=19,a||null==l.return||l.return();case 21:if(t.prev=21,!n){t.next=24;break}throw r;case 24:return t.finish(21);case 25:return t.finish(18);case 26:case"end":return t.stop()}},t,this,[[3,14,18,26],[19,,21,25]])})),setActiveGridFile:function(t,a){var n=P.a.findIndex(e.availableGrids,function(e){return e.fileInfo.id===a.value});Object(U.runInAction)(function(){var t=Object(F.getSnapshot)(e.activeGrid),a=Object(F.getSnapshot)(e.availableGrids[n]);Object(F.applySnapshot)(e.availableGrids[n],t),Object(F.applySnapshot)(e.activeGrid,a)})},setActiveApplianceFile:function(t,a){var n=P.a.findIndex(e.availableAppliances,function(e){return e.fileInfo.id===a.value});Object(U.runInAction)(function(){var t=Object(F.getSnapshot)(e.activeAppliance),a=Object(F.getSnapshot)(e.availableAppliances[n]);Object(F.applySnapshot)(e.availableAppliances[n],t),Object(F.applySnapshot)(e.activeAppliance,a)})},setExcludedTableColumns:function(t){P.a.includes(e.excludedTableColumns,t)?e.excludedTableColumns=P.a.without(e.excludedTableColumns,t):e.excludedTableColumns.push(t)},saveSnapshot:function(){var t=P.a.omit(Object(F.getSnapshot)(e),["grid"]);console.log("snapshot: ",t),B.a.setItem("microgridAppliances_testing",t).then(function(){console.log("value set")})}}}).views(function(e){return{get calculatedColumns(){return function(e){var t=e.grid,a=e.appliance,n=e.modelInputs;if(P.a.isEmpty(t)||P.a.isEmpty(a))return null;if(P.a.isEmpty(t.fileData)||P.a.isEmpty(a.fileData))return null;var r=a.fileData,l=performance.now(),i=t.batteryMinEnergyContent,o=t.batteryMinSoC,c=P.a.reduce(t.fileData,function(e,t,a,l){var c=0===a?{}:l[a-1],u=r[a],s=0===a?{}:e[a-1],m=t["Excess Electrical Production"],p=t["Battery Energy Content"],d=t["Battery State of Charge"],y=0===a?t["Battery Energy Content"]:c["Battery Energy Content"],f=P.a.round(t["Unmet Electrical Load"],6),h=u.kw_factor*n.applianceNominalPower*n.dutyCycleDerateFactor;if(!P.a.isFinite(h))throw new Error("newApplianceLoad did not calculate properly. Check your file has all required columns and that all values are finite. Row: ".concat(JSON.stringify(u),". Also make sure modelInputs are numbers and not strings or undefined: ").concat(JSON.stringify(n)));var E=m+(d<=o?0:p-i)-h,b=E>0?0:-E,g=f+b,C=h>m?h-m:0,v=0===a?0:p-y,A=0===a?0:s.newApplianceBatteryEnergyContent,w=0===a?p-C:A+v-C;return e.push({hour:t.hour,datetime:t.Time,hour_of_day:u.hour_of_day,day:u.day,day_hour:u.day_hour,newApplianceLoad:P.a.round(h,4),availableCapacityAfterNewLoad:P.a.round(E,4),originalUnmetLoad:P.a.round(f,1),additionalUnmetLoad:P.a.round(b,1),newUnmetLoad:P.a.round(g,1),newApplianceBatteryConsumption:P.a.round(C,4),newApplianceBatteryEnergyContent:P.a.round(w,4)}),e},[]),u=performance.now();return console.log("calculateNewColumns took "+P.a.round(u-l)+" milliseconds."),c}({grid:e.activeGrid,appliance:e.activeAppliance,modelInputs:e.modelInputs})},get combinedTable(){return function(e,t,a){if(P.a.isEmpty(e)||P.a.isEmpty(t)||P.a.isEmpty(a))return[];var n=performance.now(),r=t?Ie("hour",e,t,a):[],l=performance.now();return console.log("combinedTable took "+P.a.round(l-n)+" milliseconds."),r}(e.activeGrid.fileData,e.calculatedColumns,e.activeAppliance.fileData)},get summaryStats(){return P.a.isEmpty(e.calculatedColumns)?null:function(e,t){var a=Ce(e,"originalUnmetLoad"),n=Te(a),r=ve(e,"originalUnmetLoad"),l=we(e,"hour_of_day","originalUnmetLoad"),i=Ce(e,"additionalUnmetLoad"),o=Te(i),c=ve(e,"additionalUnmetLoad"),u=we(e,"hour_of_day","additionalUnmetLoad"),s=Ce(e,"newUnmetLoad"),m=Te(s),p=ve(e,"newUnmetLoad"),d=we(e,"hour_of_day","newUnmetLoad"),y=Ie("hour_of_day",l,u,d),f=ve(e,"newApplianceLoad"),h=f*t.retailElectricityPrice,E=f*t.wholesaleElectricityCost,b=c*t.unmetLoadCostPerKwh,g=h-E-b,C=f*t.productionUnitsPerKwh,v=C*t.revenuePerProductionUnits,A=v-h;return{originalUnmetLoadCount:a,originalUnmetLoadCountPercent:n,originalUnmetLoadSum:P.a.round(r),originalUnmetLoadHist:l,additionalUnmetLoadCount:i,additionalUnmetLoadCountPercent:o,additionalUnmetLoadSum:P.a.round(c),additionalUnmetLoadHist:u,newUnmetLoadCount:s,newUnmetLoadCountPercent:m,newUnmetLoadSum:P.a.round(p),newUnmetLoadHist:d,allUnmetLoadHist:y,newAppliancesYearlyKwh:P.a.round(f),newAppliancesGridRevenue:P.a.round(h),newApplianceElectricityCost:P.a.round(E),newApplianceUnmetLoadCost:P.a.round(b),newApplianceNetGridRevenue:P.a.round(g),yearlyProductionUnits:C,yearlyProductionUnitsRevenue:P.a.round(v),netApplianceOwnerRevenue:P.a.round(A)}}(e.calculatedColumns,e.modelInputs)},get filteredCombinedTableHeaders(){return P.a.filter(rt,function(t){return!P.a.includes(e.excludedTableColumns,t)})},get percentTableColumnsShowing(){return P.a.round(P.a.size(e.filteredCombinedTableHeaders)/P.a.size(rt)*100)}}}),ut=z.RouterModel.create(),st=Object(z.syncHistoryWithStore)(q()(),ut),mt=[{id:"12-50 Baseline_2019-02-16T20:33:55.583-07:00",timestamp:"2019-02-16T20:33:55.583-07:00",fileType:"homer",name:"12-50 Baseline",size:2097646,isSample:!0,label:"12-50 Baseline",description:"Baseline: Fill in HOMER file description."},{id:"12-50 Oversize 20_2019-02-16T20:34:25.937-07:00",timestamp:"2019-02-16T20:34:25.937-07:00",fileType:"homer",name:"12-50 Oversize 20",size:2084662,isSample:!0,label:"12-50 Oversize 20",description:"Oversized: Fill in HOMER file description."},{id:"12-50 Undersize 20_2019-02-16T20:34:53.869-07:00",timestamp:"2019-02-16T20:34:53.869-07:00",fileType:"homer",name:"12-50 Undersize 20",size:2108574,isSample:!0,label:"12-50 Undersize 20",description:"Undersized: Fill in HOMER file description."}].concat([]),pt=P.a.find(mt,{id:"12-50 Oversize 20_2019-02-16T20:34:25.937-07:00"}),dt=P.a.filter(mt,function(e){return e.id!==pt.id}),yt=[{id:"rice_mill_usage_profile_2019-02-16T20:33:55.583-07:00",fileType:"appliance",applianceType:"rice_mill",name:"rice_mill_usage_profile",size:465709,isSample:!0,label:"Rice Mill (Tanzania)",description:"Rice mill usage profile from downloaded UTC file usage (Tanzania)",attributes:{powerType:"DC",phase:3,hasMotor:!0,powerFactor:.8}},{id:"maize_mill_usage_profile_1_20_2019-02-16T20:34:25.937-07:00",fileType:"appliance",applianceType:"maize_mill",name:"maize_mill_usage_profile_1",size:438101,isSample:!0,label:"Maize Mill 1 (Tanzania)",description:"Maize mill usage profile (1) from downloaded UTC file (Tanzania)",attributes:{powerType:"AC",phase:3,hasMotor:!0,powerFactor:.8}},{id:"maize_mill_usage_profile_2_20_2019-02-16T20:34:53.869-07:00",fileType:"appliance",applianceType:"maize_mill",name:"maize_mill_usage_profile_2",size:465121,isSample:!0,label:"Maize Mill 2 (Tanzania)",description:"Maize mill usage profile (2) from downloaded UTC sensor file (Tanzania)",attributes:{powerType:"AC",phase:3,hasMotor:!0,powerFactor:.8}},{id:"welder_usage_profile_20_2019-02-16T20:34:25.947-07:00",fileType:"appliance",applianceType:"welder",name:"welder_usage_profile",size:429487,isSample:!0,label:"Welder (Tanzania)",description:"Welder usage profile from downloaded UTC sensor file (Tanzania)",defaults:{dutyCycleDerateFactor:.2},attributes:{powerType:"AC",phase:3,hasMotor:!1,powerFactor:1}}].concat([]),ft=P.a.find(yt,{id:"rice_mill_usage_profile_2019-02-16T20:33:55.583-07:00"}),ht=P.a.filter(yt,function(e){return e.id!==ft.id}),Et={applianceNominalPower:et.applianceNominalPower.defaultValue,dutyCycleDerateFactor:P.a.get(ft,"defaults.dutyCycleDerateFactor",1),seasonalDerateFactor:null,wholesaleElectricityCost:5,unmetLoadCostPerKwh:6,retailElectricityPrice:8,productionUnitsPerKwh:5,revenuePerProductionUnits:2,revenuePerProductionUnitsUnits:"$ / kg"},bt={enabledStates:(it=ne,P.a.reduce(it,function(e,t){return e[t.equipmentType]=!1,e},{}))},gt={activeGrid:Ye.create(Object(p.a)({},Xe,{fileInfo:pt},{fileLabel:pt.label,fileDescription:pt.description})),activeGridIsLoading:!0,stagedGrid:Ye.create(Xe),availableGrids:P.a.map(dt,function(e){return Ye.create(Object(p.a)({},Xe,{fileInfo:e},{fileLabel:e.label,fileDescription:e.description}))}),activeAppliance:_e.create(Object(p.a)({},Je,{fileInfo:ft},{fileLabel:ft.label,fileDescription:ft.description,powerType:ft.attributes.powerType,phase:ft.attributes.phase,hasMotor:ft.attributes.hasMotor,powerFactor:ft.attributes.powerFactor})),appliancesAreLoading:!0,availableAppliances:P.a.map(ht,function(e){return _e.create(Object(p.a)({},Je,{fileInfo:e},{fileLabel:e.label,fileDescription:e.description,powerType:e.attributes.powerType,phase:e.attributes.phase,hasMotor:e.attributes.hasMotor,powerFactor:e.attributes.powerFactor}))}),modelInputs:W.create(Et),ancillaryEquipment:re.create(bt),excludedTableColumns:[],router:ut};if(localStorage.getItem("microgridAppliances_excludedTableColumns")){var Ct=JSON.parse(localStorage.getItem("microgridAppliances_excludedTableColumns"));gt=Object(p.a)({},gt,{excludedTableColumns:Ct})}var vt=ct.create(gt);window.mainStore=vt,Object(F.onSnapshot)(vt,function(e){localStorage.setItem("microgridAppliances_excludedTableColumns",JSON.stringify(e.excludedTableColumns))}),Object(U.autorun)(function(){return vt.fetchActiveGrid(vt.activeGrid.fileInfo)}),Object(U.autorun)(function(){return vt.fetchActiveAppliance(vt.activeAppliance.fileInfo)}),Object(U.autorun)(function(){return vt.ancillaryEquipment.setEquipmentEnabledFromStatus(vt.ancillaryEquipment.equipmentStatus)}),Object(U.autorun)(function(){if(P.a.isEmpty(vt.activeGrid))return null;var e=vt.activeGrid,t=e.batteryFeatureCount,a=e.batteryTensors,n=e.batteryLearningRate,r=e.batteryBatchSize,l=e.batteryMaxEpochCount;vt.activeGrid.trainBatteryModel({batteryFeatureCount:t,batteryTensors:a,batteryLearningRate:n,batteryBatchSize:r,batteryMaxEpochCount:l})}),Object(U.autorun)(function(){if(P.a.isEmpty(vt.stagedGrid))return null;var e=vt.stagedGrid,t=e.batteryFeatureCount,a=e.batteryTensors,n=e.batteryLearningRate,r=e.batteryBatchSize,l=e.batteryMaxEpochCount;vt.stagedGrid.trainBatteryModel({batteryFeatureCount:t,batteryTensors:a,batteryLearningRate:n,batteryBatchSize:r,batteryMaxEpochCount:l})});var At=a(984),wt=a(96),Tt=a(978),Ot=function(e){return n.createElement(Tt.a,Object.assign({exact:!0},e,{activeClassName:"active"}))},St=a(487),It=a.n(St),jt=a(39),Dt=a(40),kt=a(42),xt=a(41),Lt=a(43),Rt=a(985),Mt=a(986),Pt=a(979),Ut=function(e){function t(){return Object(jt.a)(this,t),Object(kt.a)(this,Object(xt.a)(t).apply(this,arguments))}return Object(Lt.a)(t,e),Object(Dt.a)(t,[{key:"render",value:function(){var e=this.props.store,t=e.activeGrid,a=e.availableGrids,n=e.activeGridIsLoading,l=e.setActiveGridFile,i=e.activeAppliance,o=e.availableAppliances,c=e.appliancesAreLoading,u=e.setActiveApplianceFile,s=e.ancillaryEquipment.enabledEquipmentList;return console.log("activeGrid.fileLabel: ",t.fileLabel),r.a.createElement(Rt.a,{columns:"equal",padded:!0},r.a.createElement(Rt.a.Row,null,r.a.createElement(Rt.a.Column,null,r.a.createElement(Mt.a,{as:"h5",style:{marginBottom:4}},"Select Grid File:"),r.a.createElement(Pt.a,{text:t.fileLabel,loading:n},r.a.createElement(Pt.a.Menu,null,P.a.map(a,function(e){return r.a.createElement(Pt.a.Item,{text:e.fileLabel,key:e.fileInfo.id,description:e.fileDescription,value:e.fileInfo.id,active:e.fileInfo.id===t.fileInfo.id,onClick:l})})))),r.a.createElement(Rt.a.Column,null,r.a.createElement(Mt.a,{as:"h5",style:{marginBottom:4}},"Select Appliance Usage Profile:"),r.a.createElement(Pt.a,{text:i.fileLabel,loading:c},r.a.createElement(Pt.a.Menu,null,P.a.map(o,function(e){return r.a.createElement(Pt.a.Item,{text:e.fileLabel,key:e.fileInfo.id,description:e.fileDescription,value:e.fileInfo.id,active:e.fileInfo.id===i.fileInfo.id,onClick:u})})))),r.a.createElement(Rt.a.Column,null,r.a.createElement(Mt.a,{as:"h5",style:{marginBottom:4}},"Selected Ancillary Equipment"),!P.a.isEmpty(s)&&s.join(", "))))}}]),t}(n.Component),Ft=Object(m.b)("store")(Object(m.c)(Ut)),zt=a(989),Gt=a(980),qt=a(977),Nt=function(e){return n.createElement(qt.a,{trigger:n.createElement(wt.a,{name:"question circle outline",size:"small",color:"grey",style:{cursor:"pointer"}}),closeIcon:!0},n.createElement(qt.a.Header,null,"Count of unmet load hours per year"),n.createElement(qt.a.Content,null,n.createElement("p",null,"This is the estimated number of hours that the grid can't support the load. This may be, for example, how many times per year the backup generator has to turn on."),n.createElement("p",null,n.createElement("strong",null,"Q:")," What determines the threshold of unmet load vs met load?"),n.createElement("p",null,n.createElement("strong",null,"A:")," It depends on how we round it. HOMER generates files with an unmet load of 1x10^-16, which is extremely small and due to errors on how computers calculate numbers. So clearly some rounding needs to happen. But how much do we round it? The load units are kW and the time interval is 1 hour."),n.createElement("ul",null,n.createElement("li",null,"3 decimals: 1 watt\u2022hour"),n.createElement("li",null,"2 decimals: 10 watt\u2022hour"),n.createElement("li",null,n.createElement("strong",null,"1 decimals: 100 watt\u2022hour")),n.createElement("li",null,"0 decimals: 1 kilowatt\u2022hour")),n.createElement("p",null,"We chose to call anything above 100 watt\u2022hours as an unmet load."),n.createElement("p",null,n.createElement("strong",null,"Q:")," Why don't original and additional counts add up to total?"),n.createElement("p",null,n.createElement("strong",null,"A:")," These are counts of hours that the load is unmet. For a single hour, both the original and the additional load can be unmet. If we add these up, that's 2. But in reality, for that same hour, it's only unmet once. If we added up the kW (sum column) for that hour of both original and unmet, then it will equal the total (within rounding errors). Below is a table that shows how original and additional unmet load counts don't need to equal the total."),n.createElement(Gt.a,{compact:!0,celled:!0,collapsing:!0},n.createElement(Gt.a.Header,null,n.createElement(Gt.a.Row,null,n.createElement(Gt.a.HeaderCell,null),n.createElement(Gt.a.HeaderCell,null,"Original Unmet Load"),n.createElement(Gt.a.HeaderCell,null,"Additional Unmet Load"),n.createElement(Gt.a.HeaderCell,null,"Total Unmet Load"))),n.createElement(Gt.a.Body,null,n.createElement(Gt.a.Row,null,n.createElement(Gt.a.Cell,null),n.createElement(Gt.a.Cell,null,"0"),n.createElement(Gt.a.Cell,null,"0"),n.createElement(Gt.a.Cell,null,"0")),n.createElement(Gt.a.Row,null,n.createElement(Gt.a.Cell,null),n.createElement(Gt.a.Cell,null,"0"),n.createElement(Gt.a.Cell,null,"1"),n.createElement(Gt.a.Cell,null,"1")),n.createElement(Gt.a.Row,null,n.createElement(Gt.a.Cell,null),n.createElement(Gt.a.Cell,null,"1"),n.createElement(Gt.a.Cell,null,"2"),n.createElement(Gt.a.Cell,null,"3")),n.createElement(Gt.a.Row,null,n.createElement(Gt.a.Cell,null),n.createElement(Gt.a.Cell,null,"2"),n.createElement(Gt.a.Cell,null,"0"),n.createElement(Gt.a.Cell,null,"2")),n.createElement(Gt.a.Row,null,n.createElement(Gt.a.Cell,null),n.createElement(Gt.a.Cell,null,"4"),n.createElement(Gt.a.Cell,null,"0"),n.createElement(Gt.a.Cell,null,"4"))),n.createElement(Gt.a.Footer,{fullWidth:!0},n.createElement(Gt.a.Row,null,n.createElement(Gt.a.HeaderCell,null,"Count of values above zero"),n.createElement(Gt.a.HeaderCell,null,"3"),n.createElement(Gt.a.HeaderCell,null,"2"),n.createElement(Gt.a.HeaderCell,null,"4")),n.createElement(Gt.a.Row,null,n.createElement(Gt.a.HeaderCell,null,"Sum"),n.createElement(Gt.a.HeaderCell,{colSpan:2},"Original + Additional: 5"),n.createElement(Gt.a.HeaderCell,null,"Total: 4")),n.createElement(Gt.a.Row,null,n.createElement(Gt.a.HeaderCell,null),n.createElement(Gt.a.HeaderCell,{colSpan:3},"Original + Additional (5) > Total (4)"))))))},Bt=Object(m.b)("store")(Object(m.c)(function(e){var t=e.store.summaryStats,a=Object(M.get)(t,"newAppliancesGridRevenue"),r=Object(M.get)(t,"newApplianceElectricityCost"),l=Object(M.get)(t,"newApplianceUnmetLoadCost","-"),i=Object(M.get)(t,"newApplianceNetGridRevenue","-");return n.createElement("div",null,n.createElement(Mt.a,{as:"h4"},"Economic Outputs"),n.createElement(Gt.a,{basic:"very",celled:!0,collapsing:!0,compact:!0},n.createElement(Gt.a.Body,null,n.createElement(Gt.a.Row,null,n.createElement(Gt.a.Cell,null,"Electricity Sales (from new appliance)"),n.createElement(Gt.a.Cell,null,"$",a)),n.createElement(Gt.a.Row,null,n.createElement(Gt.a.Cell,null,"OPEX costs (due to new appliance)"),n.createElement(Gt.a.Cell,null,"$",r)),n.createElement(Gt.a.Row,null,n.createElement(Gt.a.Cell,null,"Grid ROI"),n.createElement(Gt.a.Cell,null)),n.createElement(Gt.a.Row,null,n.createElement(Gt.a.Cell,null,"Simple Payback"),n.createElement(Gt.a.Cell,null)),n.createElement(Gt.a.Row,null,n.createElement(Gt.a.Cell,null,"New appliance unmet load cost"),n.createElement(Gt.a.Cell,null,"$",l)),n.createElement(Gt.a.Row,null,n.createElement(Gt.a.Cell,null,"New appliance net revenue"),n.createElement(Gt.a.Cell,null,"$",i)))))})),Wt=Object(m.b)("store")(Object(m.c)(function(e){var t=e.store.summaryStats,a=Object(M.get)(t,"newAppliancesYearlyKwh","-"),r=Object(M.get)(t,"originalUnmetLoadCount","-"),l=Object(M.get)(t,"originalUnmetLoadCountPercent","-"),i=Object(M.get)(t,"originalUnmetLoadSum","-"),o=Object(M.get)(t,"additionalUnmetLoadCount","-"),c=Object(M.get)(t,"additionalUnmetLoadCountPercent","-"),u=Object(M.get)(t,"additionalUnmetLoadSum","-"),s=Object(M.get)(t,"newUnmetLoadCount","-"),m=Object(M.get)(t,"newUnmetLoadCountPercent","-"),p=Object(M.get)(t,"newUnmetLoadSum","-");return n.createElement("div",null,n.createElement(Mt.a,{as:"h4"},"Technical Outputs"),n.createElement(Gt.a,{basic:"very",celled:!0,collapsing:!0,compact:!0},n.createElement(Gt.a.Body,null,n.createElement(Gt.a.Row,null,n.createElement(Gt.a.Cell,null,"Appliance Energy Consumption"),n.createElement(Gt.a.Cell,null,a," kWh")))),n.createElement(Gt.a,{definition:!0,basic:!0,compact:!0},n.createElement(Gt.a.Header,null,n.createElement(Gt.a.Row,null,n.createElement(Gt.a.HeaderCell,null),n.createElement(Gt.a.HeaderCell,null,"Count ",n.createElement("em",null,"hrs/year")," ",n.createElement(Nt,null)),n.createElement(Gt.a.HeaderCell,null,"Sum ",n.createElement("em",null,"kWh")),n.createElement(Gt.a.HeaderCell,null,"Percent of Year"))),n.createElement(Gt.a.Body,null,n.createElement(Gt.a.Row,null,n.createElement(Gt.a.Cell,null,"Original unmet load"),n.createElement(Gt.a.Cell,null,r),n.createElement(Gt.a.Cell,null,i),n.createElement(Gt.a.Cell,null,l,"%")),n.createElement(Gt.a.Row,null,n.createElement(Gt.a.Cell,null,"Additional unmet load"),n.createElement(Gt.a.Cell,null,o),n.createElement(Gt.a.Cell,null,u),n.createElement(Gt.a.Cell,null,c,"%")),n.createElement(Gt.a.Row,null,n.createElement(Gt.a.Cell,null,"Total unmet load"),n.createElement(Gt.a.Cell,null,s),n.createElement(Gt.a.Cell,null,p),n.createElement(Gt.a.Cell,null,m,"%")))))})),Vt=Object(m.b)("store")(Object(m.c)(function(e){var t=e.store.summaryStats,a=Object(M.get)(t,"newAppliancesGridRevenue","-"),r=Object(M.get)(t,"yearlyProductionUnitsRevenue","-"),l=Object(M.get)(t,"netApplianceOwnerRevenue","-");return n.createElement("div",null,n.createElement(Mt.a,{as:"h4"},"Economic Outputs"),n.createElement(Gt.a,{basic:"very",celled:!0,collapsing:!0,compact:!0},n.createElement(Gt.a.Body,null,n.createElement(Gt.a.Row,null,n.createElement(Gt.a.Cell,null,"Appliance Electricity Cost"),n.createElement(Gt.a.Cell,null,"$",a)),n.createElement(Gt.a.Row,null,n.createElement(Gt.a.Cell,null,"Appliance-Related Revenue"),n.createElement(Gt.a.Cell,null,"$",r)),n.createElement(Gt.a.Row,null,n.createElement(Gt.a.Cell,null,"Net Revenue"),n.createElement(Gt.a.Cell,null,"$",l)),n.createElement(Gt.a.Row,null,n.createElement(Gt.a.Cell,null,"Appliance ROI"),n.createElement(Gt.a.Cell,null)),n.createElement(Gt.a.Row,null,n.createElement(Gt.a.Cell,null,"Appliance Simple Payback"),n.createElement(Gt.a.Cell,null)))))})),Ht=Object(m.b)("store")(Object(m.c)(function(e){var t=e.store.summaryStats,a=Object(M.get)(t,"newAppliancesYearlyKwh","-"),r=Object(M.get)(t,"yearlyProductionUnits","-");return n.createElement("div",null,n.createElement(Mt.a,{as:"h4"},"Technical Outputs"),n.createElement(Gt.a,{basic:"very",celled:!0,collapsing:!0,compact:!0},n.createElement(Gt.a.Body,null,n.createElement(Gt.a.Row,null,n.createElement(Gt.a.Cell,null,"Appliance Electricity Consumption"),n.createElement(Gt.a.Cell,null,a," kWh")),n.createElement(Gt.a.Row,null,n.createElement(Gt.a.Cell,null,"Units of Productivity"),n.createElement(Gt.a.Cell,null,r," units")))))})),Kt=a(973),Zt=(a(804),function(e,t){var a,n=!1;return"float"===t.type&&(n=!(null!=(a=e)&&""!==(""+a).trim()&&!isNaN(+a))&&"Field is not a float"),"integer"===t.type&&(n=!function(e){return null!=e&&""!==(""+e).trim()&&~~e===+e}(e)&&"Field is not an integer"),n}),Qt=function(e){function t(e){var a;Object(jt.a)(this,t),(a=Object(kt.a)(this,Object(xt.a)(t).call(this,e))).handleBlur=function(e){var t=a.state.value,n=a.props,r=n.fieldKey,l=n.store,i=et[r],o=l.modelInputs.onModelInputChange;if(!Zt(t,i))switch(i.type){case"integer":o(r,parseInt(t,10));break;case"float":o(r,parseFloat(t));break;default:o(r,t)}},a.handleChange=function(e,t){var n=t.value,r=a.props.fieldKey,l=et[r],i=Zt(n,l);a.setState({value:n,error:i})};var n=a.props.fieldKey,r=et[n].defaultValue;return a.state={value:r,error:""},a}return Object(Lt.a)(t,e),Object(Dt.a)(t,[{key:"render",value:function(){var e=this.props.fieldKey,t=this.state,a=t.value,r=t.error;if(P.a.isNil(e))return n.createElement(Kt.a,{disabled:!0,loading:!0});if(P.a.isNil(et[e]))throw new Error("fieldKey passed in isn't found in fieldDefinitions: ".concat(e));return n.createElement("div",null,n.createElement("div",{className:"InputFieldWrapper"},n.createElement(Kt.a,{value:a,onChange:this.handleChange,onBlur:this.handleBlur,error:Boolean(r),size:"small"})))}}]),t}(n.Component),Xt=Object(m.b)("store")(Object(m.c)(Qt)),Yt=a(988),Jt={position:"relative",zIndex:"1000"},_t=function(e){var t=e.content,a=e.wide,r=e.inverted,l=void 0===r||r,i=e.position,o=void 0===i?"bottom left":i;return n.createElement(Yt.a,{trigger:n.createElement(wt.a,{name:"question circle outline",size:"small",color:"grey",style:Jt}),position:o,inverted:l,wide:a},n.createElement(Yt.a.Content,null,t))},$t=a(179),ea=a.n($t),ta=Object(m.b)("store")(Object(m.c)(function(e){e.store;return n.createElement(Gt.a,{basic:"very",celled:!0,collapsing:!0,compact:!0,className:ea.a.borderless},n.createElement(Gt.a.Body,null,n.createElement(Gt.a.Row,null,n.createElement(Gt.a.Cell,null,et.wholesaleElectricityCost.title," ",n.createElement(_t,{content:et.wholesaleElectricityCost.description})),n.createElement(Gt.a.Cell,null,n.createElement(Xt,{fieldKey:"wholesaleElectricityCost"}))),n.createElement(Gt.a.Row,null,n.createElement(Gt.a.Cell,null,et.unmetLoadCostPerKwh.title," ",n.createElement(_t,{content:et.unmetLoadCostPerKwh.description})),n.createElement(Gt.a.Cell,null,n.createElement(Xt,{fieldKey:"unmetLoadCostPerKwh"}))),n.createElement(Gt.a.Row,null,n.createElement(Gt.a.Cell,null,et.retailElectricityPrice.title," ",n.createElement(_t,{content:et.retailElectricityPrice.description})),n.createElement(Gt.a.Cell,null,n.createElement(Xt,{fieldKey:"retailElectricityPrice"}))),n.createElement(Gt.a.Row,null,n.createElement(Gt.a.Cell,null,et.revenuePerProductionUnits.title," ",n.createElement(_t,{content:et.revenuePerProductionUnits.description})),n.createElement(Gt.a.Cell,null,n.createElement(Xt,{fieldKey:"revenuePerProductionUnits"})))))})),aa=Object(m.b)("store")(Object(m.c)(function(e){e.store;return n.createElement(Gt.a,{basic:"very",celled:!0,collapsing:!0,compact:!0,className:ea.a.borderless},n.createElement(Gt.a.Body,null,n.createElement(Gt.a.Row,null,n.createElement(Gt.a.Cell,null,et.applianceNominalPower.title," ",n.createElement(_t,{content:et.applianceNominalPower.description})),n.createElement(Gt.a.Cell,null,n.createElement(Xt,{fieldKey:"applianceNominalPower"}))),n.createElement(Gt.a.Row,null,n.createElement(Gt.a.Cell,null,et.dutyCycleDerateFactor.title," ",n.createElement(_t,{content:et.dutyCycleDerateFactor.description})),n.createElement(Gt.a.Cell,null,n.createElement(Xt,{fieldKey:"dutyCycleDerateFactor"}))),n.createElement(Gt.a.Row,null,n.createElement(Gt.a.Cell,null,"Usage Factor Seasonal Derate Curve"),n.createElement(Gt.a.Cell,null,n.createElement(Kt.a,{value:"TBD",disabled:!0}))),n.createElement(Gt.a.Row,null,n.createElement(Gt.a.Cell,null,et.productionUnitsPerKwh.title," ",n.createElement(_t,{content:et.productionUnitsPerKwh.description})),n.createElement(Gt.a.Cell,null,n.createElement(Xt,{fieldKey:"productionUnitsPerKwh"})))))})),na=function(e){function t(){return Object(jt.a)(this,t),Object(kt.a)(this,Object(xt.a)(t).apply(this,arguments))}return Object(Lt.a)(t,e),Object(Dt.a)(t,[{key:"render",value:function(){return r.a.createElement(Rt.a,{columns:"equal",padded:!0},r.a.createElement(Rt.a.Row,null,r.a.createElement(Rt.a.Column,null,r.a.createElement("h3",null,"Calculation Inputs"),r.a.createElement(zt.a,null,r.a.createElement(Mt.a,{as:"h4"},"Economic Inputs"),r.a.createElement(ta,null)),r.a.createElement(zt.a,null,r.a.createElement(Mt.a,{as:"h4"},"Technical Inputs"),r.a.createElement(aa,null))),r.a.createElement(Rt.a.Column,null,r.a.createElement("h3",null,"Grid Operator Annual Summary"),r.a.createElement(zt.a,null,r.a.createElement(Bt,null)),r.a.createElement(zt.a,null,r.a.createElement(Wt,null))),r.a.createElement(Rt.a.Column,null,r.a.createElement("h3",null,"Appliance Operator Annual Summary"),r.a.createElement(zt.a,null,r.a.createElement(Vt,null)),r.a.createElement(zt.a,null,r.a.createElement(Ht,null)))))}}]),t}(n.Component),ra=Object(m.b)("store")(Object(m.c)(na)),la=a(982),ia=a(974),oa=a(976),ca=a(182),ua={border:"1px solid #2185d0"},sa=function(e){function t(){var e,a;Object(jt.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(kt.a)(this,(e=Object(xt.a)(t)).call.apply(e,[this].concat(r)))).handleToggleChange=function(e,t,n){return t.preventDefault(),a.props.store.ancillaryEquipment.setEnabledFromCheckbox(e,n.checked),null},a}return Object(Lt.a)(t,e),Object(Dt.a)(t,[{key:"render",value:function(){if(P.a.isEmpty(this.props.equipmentInfo))return null;var e=this.props.equipmentInfo,t=e.equipmentType,a=e.label,n=e.description,l=e.message,i=e.status,o=this.props.store.ancillaryEquipment.enabledStates[t],c="required"===i,u=c?"Required":o?"Enabled":"Enable";return r.a.createElement(la.a,{fluid:!0,style:o?ua:{}},r.a.createElement("div",{style:{float:"left",marginLeft:10,marginTop:10,width:250}},r.a.createElement(ia.a,{toggle:!0,label:u,checked:o,disabled:!!c||null,onChange:this.handleToggleChange.bind(null,t)})),function(e){switch(e){case"powerConverter":return r.a.createElement(Q,null);case"inverter":return r.a.createElement(J,null);default:return r.a.createElement(ee,null)}}(t),r.a.createElement(la.a.Content,{style:{borderTop:"none"}},r.a.createElement(la.a.Header,null,a," ",r.a.createElement(_t,{content:n,position:"right center"})),r.a.createElement(la.a.Description,null,l)),o&&r.a.createElement(la.a.Content,{extra:!0},r.a.createElement(oa.a,null,r.a.createElement(oa.a.Field,null,r.a.createElement(Kt.a,{labelPosition:"right",type:"text",size:"mini",fluid:!0},r.a.createElement(ca.a,{basic:!0},"Cost"),r.a.createElement("input",null),r.a.createElement(ca.a,null,"USD"))),r.a.createElement(oa.a.Field,null,r.a.createElement(Kt.a,{labelPosition:"right",type:"text",size:"mini",fluid:!0},r.a.createElement(ca.a,{basic:!0},"Size"),r.a.createElement("input",null),r.a.createElement(ca.a,null,"kW"))))))}}]),t}(n.Component),ma=Object(m.b)("store")(Object(m.c)(sa)),pa=function(e){var t=e.status,a=e.header;return r.a.createElement("div",null,r.a.createElement(Mt.a,{as:"h3",dividing:!0},a),r.a.createElement(Rt.a,{columns:"equal"},P.a.map(P.a.range(0,9,3),function(e){return r.a.createElement(Rt.a.Row,{key:e},r.a.createElement(Rt.a.Column,null,r.a.createElement(ma,{equipmentInfo:t[e]||{}})),r.a.createElement(Rt.a.Column,null,r.a.createElement(ma,{equipmentInfo:t[e+1]||{}})),r.a.createElement(Rt.a.Column,null,r.a.createElement(ma,{equipmentInfo:t[e+2]||{}})))})))},da=function(e){function t(){return Object(jt.a)(this,t),Object(kt.a)(this,Object(xt.a)(t).apply(this,arguments))}return Object(Lt.a)(t,e),Object(Dt.a)(t,[{key:"render",value:function(){var e=P.a.get(this.props.store,"ancillaryEquipment.equipmentStatus.required"),t=P.a.get(this.props.store,"ancillaryEquipment.equipmentStatus.useful"),a=P.a.get(this.props.store,"ancillaryEquipment.equipmentStatus.notuseful");return P.a.isArray(e)&&P.a.isArray(t)&&P.a.isArray(a)?r.a.createElement("div",null,r.a.createElement(pa,{status:e,header:"Required Equipment"}),r.a.createElement(pa,{status:t,header:"Equipment that may be useful"}),r.a.createElement(pa,{status:a,header:"Incompatible Equipment"})):r.a.createElement("h4",null,"Calculating AncillaryEquipment ")}}]),t}(n.Component),ya=Object(m.b)("store")(Object(m.c)(da)),fa=a(336),ha=a(987),Ea=a(975),ba=a(522),ga=function(){return n.createElement(zt.a,null,n.createElement(ha.a,{active:!0},n.createElement(Ea.a,null,"Loading")),n.createElement(ba.a,{src:"https://react.semantic-ui.com/src/images/wireframe/short-paragraph.png"}))},Ca=function(e,t,a){var n=e;return 0!==t&&1!==t||(n=Object(p.a)({},n,{fontStyle:"italic",backgroundColor:"#f9fafb"})),0===t&&(n=Object(p.a)({},n,{borderTop:"1px solid rgba(34,36,38,.1)",borderLeft:"1px solid rgba(34,36,38,.1)",paddingLeft:"0.2rem",paddingRight:"0.2rem",overflowWrap:"break-word"})),1===t&&(n=Object(p.a)({},n,{borderBottom:"4px solid ".concat(ye[a]),borderLeft:"1px solid rgba(34,36,38,.1)",paddingLeft:"0.2rem",paddingRight:"0.2rem"})),n},va=a(246),Aa=a(981),wa=a(509),Ta=a.n(wa),Oa={cursor:"pointer",marginRight:"2%",marginTop:"4px",width:"100%",verticalAlign:"top"},Sa=Object(m.b)("store")(Object(m.c)(function(e){var t=e.store,a=e.column,r=e.excludedColumns,l=e.columnWidth,i=Object(va.a)(e,["store","column","excludedColumns","columnWidth"]),o=P.a.includes(r,a)?"excluded":ot[a];return n.createElement("div",Object.assign({},i,{className:Ta.a.columnIndicator,onClick:function(){return t.setExcludedTableColumns(a)},style:{display:"inline-block",width:l,height:"12px",backgroundColor:ye[o]}}))})),Ia=function(e){var t=e.columns,a=e.excludedColumns,r=Object(va.a)(e,["columns","excludedColumns"]),l="".concat(1/P.a.size(t)*100,"%");return n.createElement("div",Object.assign({},r,{style:Oa}),n.createElement("div",null,P.a.map(t,function(e){return n.createElement(Yt.a,{trigger:n.createElement(Sa,{column:e,excludedColumns:a,columnWidth:l}),key:e,size:"tiny",position:"bottom center"},n.createElement("span",null,e))})))},ja=function(e){var t=e.percentTableColumnsShowing,a=Object(va.a)(e,["percentTableColumnsShowing"]);return n.createElement("div",Object.assign({},a,{style:Oa}),n.createElement("div",null,n.createElement("em",null,"Select Columns (",t,"% columns showing)")," ",n.createElement(wt.a,{name:"pencil alternate"})))},Da=function(e){function t(){var e,a;Object(jt.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(kt.a)(this,(e=Object(xt.a)(t)).call.apply(e,[this].concat(r)))).state={searchString:""},a.handleSearchChange=function(e,t){var n=t.value;e.preventDefault(),a.setState({searchString:n})},a.handleSearchClear=function(e,t){e.preventDefault(),a.setState({searchString:""})},a.handleCheckChange=function(e,t){e.preventDefault();var n=t.label.props.children;a.props.store.setExcludedTableColumns(n)},a}return Object(Lt.a)(t,e),Object(Dt.a)(t,[{key:"render",value:function(){var e=this,t=this.state.searchString,a=this.props,r=a.headers,l=a.store,i=l.excludedTableColumns,o=l.percentTableColumnsShowing,c=P.a.filter(r,function(e){return P.a.includes(e.toLowerCase(),t)});return n.createElement("div",null,n.createElement(Yt.a,{trigger:n.createElement(ja,{percentTableColumnsShowing:o}),basic:!0,flowing:!0,position:"bottom left",verticalOffset:14,on:"click"},n.createElement(Yt.a.Header,null,n.createElement(Kt.a,{icon:n.createElement(wt.a,{name:"times",onClick:this.handleSearchClear,circular:!0,link:!0}),placeholder:"Search header titles",value:t,onChange:this.handleSearchChange})),n.createElement(Aa.a,{selection:!0,verticalAlign:"middle"},P.a.map(c,function(t){return n.createElement(Aa.a.Item,{key:t},n.createElement(ia.a,{label:n.createElement("label",null,t),onChange:e.handleCheckChange,checked:!P.a.includes(i,t)}))}))),n.createElement(Ia,{columns:r,excludedColumns:i}))}}]),t}(n.Component),ka=Object(m.b)("store")(Object(m.c)(Da)),xa=function(e){return{display:"inline-block",paddingRight:"4px",marginRight:"6px",marginTop:"20px",fontStyle:"italic",fontSize:"14px",lineHeight:1.8,borderBottom:"2px solid ".concat(ye[e])}},La=Object(m.b)("store")(Object(m.c)(function(e){e.store;return n.createElement("div",null,n.createElement("div",{style:xa("calculatedColumns")},"Calculated Columns"),n.createElement("div",{style:xa("homer")},"HOMER Columns"),n.createElement("div",{style:xa("appliance")},"Appliance Columns"))})),Ra=function(e){function t(){var e,a;Object(jt.a)(this,t);for(var r=arguments.length,l=new Array(r),i=0;i<r;i++)l[i]=arguments[i];return(a=Object(kt.a)(this,(e=Object(xt.a)(t)).call.apply(e,[this].concat(l))))._cellRenderer=function(e,t){var r=t.columnIndex,l=t.key,i=t.rowIndex,o=t.style,c=a.props.store.combinedTable;if(P.a.isEmpty(c))return null;var u=e[r],s=ot[u];return 0===i?n.createElement("div",{key:l,style:Ca(o,i,s)},u):1===i?n.createElement("div",{key:l,style:Ca(o,i,s)},lt[u]||"missing"):"datetime"===u?n.createElement("div",{key:l,style:Ca(o,i,s)},Ae(c[i-2][u])):n.createElement("div",{key:l,style:Ca(o,i,s)},c[i-2][u])},a._rowHeight=function(e){return 0===e.index?76:26},a}return Object(Lt.a)(t,e),Object(Dt.a)(t,[{key:"componentDidUpdate",value:function(e){this.multigrid&&this.multigrid.forceUpdateGrids()}},{key:"render",value:function(){var e=this,t=this.props.store,a=t.combinedTable,r=t.filteredCombinedTableHeaders;if(P.a.isEmpty(a))return n.createElement(ga,null);var l=P.a.size(a),i=P.a.size(r);return n.createElement(Rt.a,null,n.createElement(Rt.a.Row,null,n.createElement(Rt.a.Column,{width:6},n.createElement(La,null)),n.createElement(Rt.a.Column,{width:10},n.createElement(ka,{headers:rt}))),n.createElement(Rt.a.Row,null,n.createElement(Rt.a.Column,{width:16},n.createElement(fa.a,null,function(t){t.height;var a=t.width;return n.createElement(fa.b,{ref:function(t){return e.multigrid=t},cellRenderer:e._cellRenderer.bind(null,r),columnCount:i,columnWidth:100,fixedColumnCount:2,fixedRowCount:2,height:1200,rowCount:l,rowHeight:e._rowHeight,estimatedRowSize:26,width:a})}))))}}]),t}(n.Component),Ma=Object(m.b)("store")(Object(m.c)(Ra)),Pa=a(21),Ua=function(e){function t(){return Object(jt.a)(this,t),Object(kt.a)(this,Object(xt.a)(t).apply(this,arguments))}return Object(Lt.a)(t,e),Object(Dt.a)(t,[{key:"render",value:function(){var e=this.props.store.calculatedColumns;return P.a.isEmpty(e)?n.createElement(ga,null):n.createElement("div",null,n.createElement("h3",null,"Loads by hour of year ",n.createElement("small",{style:{color:de[1]}},"kW for 1 hour")),n.createElement(Pa.i,{minWidth:1e3,minHeight:400,height:"90%"},n.createElement(Pa.h,{data:e,syncId:"anyId",margin:{top:10,right:30,left:0,bottom:0}},n.createElement(Pa.m,{dataKey:"hour"}),n.createElement(Pa.n,null),n.createElement(Pa.l,null),n.createElement(Pa.g,{type:"monotone",dataKey:"newApplianceLoad",dot:!1,stroke:he("newApplianceLoad")}),n.createElement(Pa.g,{type:"monotone",dataKey:"availableCapacity",dot:!1,stroke:he("availableCapacity")}),n.createElement(Pa.g,{type:"monotone",dataKey:"availableCapacityAfterNewLoad",dot:!1,stroke:he("availableCapacityAfterNewLoad")}),n.createElement(Pa.g,{type:"monotone",dataKey:"newApplianceBatteryConsumption",dot:!1,stroke:he("newApplianceBatteryConsumption")}),n.createElement(Pa.f,null),n.createElement(Pa.c,{startIndex:0,endIndex:200}))))}}]),t}(n.Component),Fa=Object(m.b)("store")(Object(m.c)(Ua)),za={color:de[1],fontWeight:"200",fontSize:"16px"},Ga=function(e){function t(){return Object(jt.a)(this,t),Object(kt.a)(this,Object(xt.a)(t).apply(this,arguments))}return Object(Lt.a)(t,e),Object(Dt.a)(t,[{key:"render",value:function(){var e=this.props.store.summaryStats;if(P.a.isEmpty(e))return n.createElement(ga,null);var t=e.allUnmetLoadHist;return n.createElement("div",null,n.createElement("h3",null,"Unmet Loads by Hour of Day ",n.createElement("small",{style:za},"kW for 1 hour")),n.createElement(Pa.i,{minWidth:1e3,minHeight:400,height:"90%"},n.createElement(Pa.b,{data:t,margin:{top:5,right:30,left:20,bottom:5}},n.createElement(Pa.m,{dataKey:"hour_of_day"}),n.createElement(Pa.n,null),n.createElement(Pa.l,null),n.createElement(Pa.f,null),n.createElement(Pa.a,{stackId:"a",dataKey:"originalUnmetLoad",fill:he("originalUnmetLoad")}),n.createElement(Pa.a,{stackId:"a",dataKey:"additionalUnmetLoad",fill:he("additionalUnmetLoad")}),n.createElement(Pa.a,{dataKey:"newUnmetLoad",fill:he("newUnmetLoad")}))))}}]),t}(n.Component),qa=Object(m.b)("store")(Object(m.c)(Ga)),Na=a(983),Ba=Object(m.b)("store")(Object(m.c)(function(e){var t=e.store[e.gridStoreName],a=t.batteryMaxSoC,r=t.batteryMinSoC,l=t.batteryMaxEnergyContent,i=t.batteryMinEnergyContent;return n.createElement(Gt.a,{basic:"very",celled:!0},n.createElement(Gt.a.Body,null,n.createElement(Gt.a.Row,null,n.createElement(Gt.a.Cell,{width:9},"Battery Max State of Charge"),n.createElement(Gt.a.Cell,{width:7},a,a&&" %")),n.createElement(Gt.a.Row,null,n.createElement(Gt.a.Cell,null,"Battery Min State of Charge"),n.createElement(Gt.a.Cell,null,r,r&&" %")),n.createElement(Gt.a.Row,null,n.createElement(Gt.a.Cell,null,"Battery Max Energy Content"),n.createElement(Gt.a.Cell,null,l,l&&" kWh")),n.createElement(Gt.a.Row,null,n.createElement(Gt.a.Cell,null,"Battery Min Energy Content"),n.createElement(Gt.a.Cell,null,i,i&&" kWh"))))})),Wa=function(e){function t(){return Object(jt.a)(this,t),Object(kt.a)(this,Object(xt.a)(t).apply(this,arguments))}return Object(Lt.a)(t,e),Object(Dt.a)(t,[{key:"render",value:function(){var e=this.props.store.calculatedColumns;return P.a.isEmpty(e)?n.createElement(ga,null):n.createElement("div",null,n.createElement("h3",null,"Battery Energy Content by hour of year ",n.createElement("small",{style:{color:de[1]}},"kWh")),n.createElement(Na.a,{warning:!0},"This chart isn't useful yet. I need to calculate the charge characteristics of the battery first."),n.createElement(Ba,{gridStoreName:"activeGrid"}),n.createElement(Pa.i,{minWidth:1e3,minHeight:400,height:"90%"},n.createElement(Pa.h,{width:1400,height:400,data:e,syncId:"anyId",margin:{top:10,right:30,left:0,bottom:0}},n.createElement(Pa.m,{dataKey:"hour"}),n.createElement(Pa.n,null),n.createElement(Pa.l,null),n.createElement(Pa.g,{type:"monotone",dataKey:"energyContentAboveMin",dot:!1,stroke:he("energyContentAboveMin")}),n.createElement(Pa.g,{type:"monotone",dataKey:"newApplianceBatteryEnergyContent",dot:!1,stroke:he("newApplianceBatteryEnergyContent")}),n.createElement(Pa.f,null),n.createElement(Pa.c,{startIndex:0,endIndex:200}))))}}]),t}(n.Component),Va=Object(m.b)("store")(Object(m.c)(Wa)),Ha=function(e){e.match;return n.createElement("div",null,n.createElement(Ft,null),n.createElement(At.a,{secondary:!0,pointing:!0},n.createElement(At.a.Item,{as:Ot,to:"/",name:"Summary"}),n.createElement(At.a.Item,{as:Ot,to:"/tool/ancillary",name:"Ancillary Equipment"}),n.createElement(At.a.Item,{as:Ot,to:"/tool/datatable",name:"Data"}),n.createElement(At.a.Item,{as:Ot,to:"/tool/loads",name:"Loads"}),n.createElement(At.a.Item,{as:Ot,to:"/tool/unmet-loads",name:"Unmet Loads"}),n.createElement(At.a.Item,{as:Ot,to:"/tool/battery-charge",name:"Battery Charge"})),n.createElement("div",{className:"mainContent"},n.createElement(u.a,{exact:!0,path:"/",component:ra}),n.createElement(u.a,{exact:!0,path:"/tool",component:ra}),n.createElement(u.a,{path:"/tool/summary",component:ra}),n.createElement(u.a,{path:"/tool/ancillary",component:ya}),n.createElement(u.a,{path:"/tool/datatable",component:Ma}),n.createElement(u.a,{path:"/tool/loads",component:Fa}),n.createElement(u.a,{path:"/tool/unmet-loads",component:qa}),n.createElement(u.a,{path:"/tool/battery-charge",component:Va})))},Ka=a(515),Za=a.n(Ka),Qa=a(516),Xa=a.n(Qa),Ya=a(517),Ja=a.n(Ya),_a=function(){return n.createElement(Rt.a,{padded:!0},n.createElement(Rt.a.Row,null,n.createElement(Rt.a.Column,{width:10},n.createElement(Mt.a,{as:"h2"},"About this Software"),n.createElement("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."),n.createElement(ba.a,{src:Ja.a,bordered:!0})),n.createElement(Rt.a.Column,{width:6},n.createElement(zt.a,null,n.createElement(Mt.a,{as:"h3"},"Contact"),n.createElement(Rt.a,null,n.createElement(Rt.a.Row,null,n.createElement(Rt.a.Column,{width:3},n.createElement(ba.a,{src:"https://react.semantic-ui.com/src/images/avatar/large/jenny.jpg"})),n.createElement(Rt.a.Column,{width:13},"For general questions and comments about this app, contact"," ",n.createElement("a",{href:"http://#.com"},"Amanda DelCore")," at"," ",n.createElement("a",{href:"http://www.factore.com"},"Factor[e]"))),n.createElement(Rt.a.Row,null,n.createElement(Rt.a.Column,{width:3},n.createElement(ba.a,{src:"https://react.semantic-ui.com/src/images/avatar/large/justen.jpg"})),n.createElement(Rt.a.Column,{width:13},"For technical problems with this app, contact"," ",n.createElement("a",{href:"http://#.com"},"Jeff Friesen")," at"," ",n.createElement("a",{href:"http://www.radiantlabs.co"},"Radiant Labs"))))))),n.createElement(Rt.a.Row,null,n.createElement(Rt.a.Column,null,n.createElement(zt.a,null,n.createElement(ba.a,{src:Za.a,size:"small",floated:"left",href:"http://www.factore.com"}),n.createElement("p",null,"Our mission is to improve lives in the developing world through increased access to sustainable energy and related services. We believe that technology can be a profound driver of positive impact, and we work closely with early stage entrepreneurs to transform their ideas into market-based solutions."),n.createElement("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."),n.createElement("p",null,"Gumbo beet greens corn soko endive gumbo gourd. Parsley shallot courgette tatsoi pea sprouts fava bean collard greens dandelion okra wakame tomato. Dandelion cucumber earthnut pea peanut soko zucchini.")))),n.createElement(Rt.a.Row,null,n.createElement(Rt.a.Column,null,n.createElement(Mt.a,{as:"h5"},"In partnership with:"),n.createElement(zt.a,null,n.createElement(ba.a,{src:Xa.a,size:"small",floated:"left",href:"http://www.radiantlabs.co"}),n.createElement("p",null,"Radiant Labs builds tools that drive carbon reduction solutions for cities, states and utilities. We partner with organizations leading the field and driving the coming decades most important innovations."),n.createElement("p",null)))))},$a=a(963),en=a(236),tn=a(518),an=function(e){function t(e){var a;return Object(jt.a)(this,t),(a=Object(kt.a)(this,Object(xt.a)(t).call(this,e))).id=tn.v1(),a.onChangeFile=a.onChangeFile.bind(Object(en.a)(a)),a}return Object(Lt.a)(t,e),Object(Dt.a)(t,[{key:"render",value:function(){return n.createElement("div",null,n.createElement($a.a,Object.assign({},this.props,{as:"label",htmlFor:this.id})),n.createElement("input",{hidden:!0,id:this.id,multiple:!0,type:"file",onChange:this.onChangeFile}))}},{key:"onChangeFile",value:function(){var e=document.getElementById(this.id).files[0];e?this.props.onSelect(e):console.log("no file found")}}]),t}(n.Component),nn=Object(m.b)("store")(Object(m.c)(function(e){var t=e.store;return n.createElement(Gt.a,{basic:"very",celled:!0,collapsing:!0,compact:!0,className:ea.a.borderless},n.createElement(Gt.a.Body,null,n.createElement(Gt.a.Row,null,n.createElement(Gt.a.Cell,null,"File Label"," ",n.createElement(_t,{content:"By default, this is the name of the uploaded file, but you can name it whatever you want.",position:"right center"})),n.createElement(Gt.a.Cell,null,n.createElement(Kt.a,{onChange:t.stagedGrid.handleLabelChange,value:t.stagedGrid.fileLabel,size:"small"}))),n.createElement(Gt.a.Row,null,n.createElement(Gt.a.Cell,null,"Description"," ",n.createElement(_t,{content:"Description is to help you remember what's unique about this file.",position:"right center"})),n.createElement(Gt.a.Cell,null,n.createElement(Kt.a,{onChange:t.stagedGrid.handleDescriptionChange,value:t.stagedGrid.fileDescription,size:"small"}))),n.createElement(Gt.a.Row,null,n.createElement(Gt.a.Cell,null,"Power Type ",n.createElement(_t,{content:"AC \u26a1 DC",position:"right center"})),n.createElement(Gt.a.Cell,null,t.stagedGrid.powerType)),n.createElement(Gt.a.Row,null,n.createElement(Gt.a.Cell,null,"Battery Type"," ",n.createElement(_t,{position:"right center",content:"This is determined by reading the headers of the HOMER file. This is the battery you chose when you created the HOMER file."})),n.createElement(Gt.a.Cell,null,t.stagedGrid.batteryType)),n.createElement(Gt.a.Row,null,n.createElement(Gt.a.Cell,null,"PV Type"," ",n.createElement(_t,{position:"right center",content:"This is determined by reading the headers of the HOMER file. This is the PV system you chose when you created the HOMER file."})),n.createElement(Gt.a.Cell,null,t.stagedGrid.pvType)),n.createElement(Gt.a.Row,null,n.createElement(Gt.a.Cell,null,"Generator Type"," ",n.createElement(_t,{position:"right center",content:"This is determined by reading the headers of the HOMER file. This is the generator you chose when you created the HOMER file."})),n.createElement(Gt.a.Cell,null,t.stagedGrid.generatorType))))})),rn=Object(m.b)("store")(Object(m.c)(function(e){var t=e.store[e.gridStoreName].batteryTrainLogs;return r.a.createElement(Pa.i,{height:400},r.a.createElement(Pa.h,{key:Math.random(),data:t,margin:{top:20,right:10,left:10,bottom:20}},r.a.createElement(Pa.m,{dataKey:"epoch",label:{value:"Iteration (Epoch)",offset:-10,position:"insideBottom"}}),r.a.createElement(Pa.n,{label:{value:"Value",angle:-90,position:"insideLeft"}}),r.a.createElement(Pa.d,{strokeDasharray:"3 3"}),r.a.createElement(Pa.l,null),r.a.createElement(Pa.f,{verticalAlign:"top",align:"right",iconType:"line"}),r.a.createElement(Pa.g,{type:"monotone",dataKey:"loss",dot:!1,stroke:"#8884d8",activeDot:{r:8},isAnimationActive:!1}),r.a.createElement(Pa.g,{type:"monotone",dataKey:"val_loss",dot:!1,stroke:"#82ca9d",isAnimationActive:!1})))})),ln=Object(m.b)("store")(Object(m.c)(function(e){var t=e.store[e.gridStoreName],a=t.batteryIsTraining,r=t.batteryPlottablePredictionVsActualData,l=t.referenceLineData,i=t.xAccessor,o=void 0===i?"actual":i,c=t.yAccessor,u=void 0===c?"predicted":c;return n.createElement("div",null,n.createElement(Ea.a,{active:a,inline:"centered",style:{position:"absolute",top:"40%",left:"50%"}}),n.createElement(Pa.i,{height:400},n.createElement(Pa.k,{margin:{top:20,right:20,bottom:20,left:20}},n.createElement(Pa.m,{type:"number",dataKey:o,domain:["dataMin","dataMax"],label:{value:o,offset:-10,position:"insideBottom"}}),n.createElement(Pa.n,{type:"number",dataKey:u,domain:["dataMin","dataMax"],label:{value:u,angle:-90}}),n.createElement(Pa.d,null),n.createElement(Pa.l,{cursor:{strokeDasharray:"3 3"}}),n.createElement(Pa.f,{verticalAlign:"top",align:"right"}),n.createElement(Pa.j,{name:"Training data",data:r,fill:"#83A1C3",shape:n.createElement(Pa.e,{r:1})}),n.createElement(Pa.j,{name:"Reference Line",data:l,fill:"#E20000",line:{strokeDasharray:"5 5"},legendType:"line",shape:n.createElement(Pa.e,{r:0})}))))})),on=Object(m.b)("store")(Object(m.c)(function(e){var t=e.store[e.gridStoreName],a=t.batteryIsTrained,n=t.batteryFinalTrainSetLoss,l=t.batteryValidationSetLoss,i=t.batteryTestSetLoss;return r.a.createElement(Gt.a,{compact:"very",celled:!0,size:"small",basic:"very"},r.a.createElement(Gt.a.Body,null,r.a.createElement(Gt.a.Row,null,r.a.createElement(Gt.a.Cell,null,"Final train-set loss"),r.a.createElement(Gt.a.Cell,null,a?n:r.a.createElement(Ea.a,{active:!0,inline:!0,size:"mini"}))),r.a.createElement(Gt.a.Row,null,r.a.createElement(Gt.a.Cell,null,"Final validation-set loss"),r.a.createElement(Gt.a.Cell,null,a?l:r.a.createElement(Ea.a,{active:!0,inline:!0,size:"mini"}))),r.a.createElement(Gt.a.Row,null,r.a.createElement(Gt.a.Cell,null,"Test-set loss"),r.a.createElement(Gt.a.Cell,null,a?i:r.a.createElement(Ea.a,{active:!0,inline:!0,size:"mini"})))))})),cn=Object(m.b)("store")(Object(m.c)(function(e){var t=e.store,a=e.gridStoreName;return r.a.createElement(Gt.a,{compact:"very",celled:!0,size:"small",basic:"very"},r.a.createElement(Gt.a.Body,null,r.a.createElement(Gt.a.Row,null,r.a.createElement(Gt.a.Cell,null,"Model Name"),r.a.createElement(Gt.a.Cell,null,t[a].batteryModelName)),r.a.createElement(Gt.a.Row,null,r.a.createElement(Gt.a.Cell,null,"Training Target"),r.a.createElement(Gt.a.Cell,null,r.a.createElement("em",null,t[a].batteryTargetColumn))),r.a.createElement(Gt.a.Row,null,r.a.createElement(Gt.a.Cell,null,"Training Features"),r.a.createElement(Gt.a.Cell,null,r.a.createElement("em",null,t[a].batteryTrainingColumns.join(", ")))),r.a.createElement(Gt.a.Row,null,r.a.createElement(Gt.a.Cell,null,"Epoch"),r.a.createElement(Gt.a.Cell,null,t[a].batteryCurrentEpoch+1,":"," ",t[a].batteryMaxEpochCount," epoch max or validation loss of"," ",t[a].batteryModelStopLoss)),r.a.createElement(Gt.a.Row,null,r.a.createElement(Gt.a.Cell,null,"Training Time"),r.a.createElement(Gt.a.Cell,null,t[a].batteryTrainingTimeDisplay))))})),un={color:de[1],fontWeight:"200",fontSize:"16px"},sn=function(e){function t(){var e,a;Object(jt.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(kt.a)(this,(e=Object(xt.a)(t)).call.apply(e,[this].concat(r)))).retrainModelClick=function(e){e.preventDefault(),console.log("TODO")},a}return Object(Lt.a)(t,e),Object(Dt.a)(t,[{key:"render",value:function(){var e=this.props.store,t=e.fileErrors,a=e.gridStoreName;return console.log("TODO: set gridStoreName dynamically: ",a),P.a.isEmpty(t)?n.createElement("div",{style:{marginTop:"2rem"}},n.createElement(Rt.a,null,n.createElement(Rt.a.Row,null,n.createElement(Rt.a.Column,null,n.createElement(Mt.a,{as:"h3",style:{display:"inline-block",marginBottom:"8px"}},"Battery Charge & Discharge Model"),n.createElement($a.a,{basic:!0,compact:!0,size:"tiny",color:"blue",onClick:this.retrainModelClick,style:{marginTop:"-5px"},floated:"right"},"Re-Train Battery Model"),n.createElement("p",{style:un},"Use machine learning to recreate the kinetic battery model based on the HOMER file.")))),n.createElement(Rt.a,{columns:2},n.createElement(Rt.a.Row,null,n.createElement(Rt.a.Column,null,n.createElement(cn,{gridStoreName:"stagedGrid"})),n.createElement(Rt.a.Column,null,n.createElement(on,{gridStoreName:"stagedGrid"})))),n.createElement(Rt.a,{columns:2},n.createElement(Rt.a.Row,null,n.createElement(Rt.a.Column,null,n.createElement("h3",null,"Training Progress"),n.createElement(rn,{gridStoreName:"stagedGrid"})),n.createElement(Rt.a.Column,null,n.createElement("h3",null,"Predicted vs. Actual"),n.createElement(ln,{gridStoreName:"stagedGrid"}))))):null}}]),t}(n.Component),mn=Object(m.b)("store")(Object(m.c)(sn)),pn=function(e){var t=e.fileErrors;return P.a.isEmpty(t)?"None Found":n.createElement("div",null,P.a.map(t,function(e){return n.createElement("div",{key:e},e)}))},dn=function(e){function t(){return Object(jt.a)(this,t),Object(kt.a)(this,Object(xt.a)(t).apply(this,arguments))}return Object(Lt.a)(t,e),Object(Dt.a)(t,[{key:"render",value:function(){var e=this.props.store.stagedGrid;if(P.a.isEmpty(e))return null;var t=e.fileIsSelected,a=e.isAnalyzingFile,r=e.batteryIsTrained,l=e.showAnalyzedResults,i=e.fileErrors,o=e.fileWarnings,c=e.handleCancelUpload,u=e.handleFileSave,s=e.handleGridFileUpload;return n.createElement("div",null,n.createElement(Mt.a,{as:"h2",attached:"top"},!r&&n.createElement(an,{content:"Upload & Analyze HOMER File",icon:"upload",size:"small",color:"blue",floated:"right",onSelect:s,basic:!0}),r&&n.createElement($a.a,{content:"Save HOMER File",icon:"save",size:"small",color:"blue",floated:"right",onClick:u,basic:!0}),t&&n.createElement($a.a,{floated:"right",basic:!0,size:"small",onClick:c},n.createElement(wt.a,{name:"cancel"}),"Cancel"),"Add HOMER File",a&&n.createElement(Mt.a.Subheader,{style:{display:"inline-block",marginLeft:"1rem"}},"Analyzing File ",n.createElement(Ea.a,{active:!0,inline:!0,size:"tiny"}))),l&&n.createElement(zt.a,{attached:!0},n.createElement(Rt.a,null,n.createElement(Rt.a.Row,null,n.createElement(Rt.a.Column,{width:8},n.createElement(nn,null)),n.createElement(Rt.a.Column,{width:8},n.createElement(Ba,{gridStoreName:"stagedGrid"}))),n.createElement(Rt.a.Row,null,n.createElement(Rt.a.Column,{width:4},n.createElement(ca.a,{color:P.a.isEmpty(i)?"grey":"red",basic:!0},"File Upload Errors")),n.createElement(Rt.a.Column,{width:12},n.createElement(pn,{fileErrors:i}))),n.createElement(Rt.a.Row,null,n.createElement(Rt.a.Column,{width:4},n.createElement(ca.a,{color:P.a.isEmpty(o)?"grey":"orange",basic:!0},"File Upload Warnings")),n.createElement(Rt.a.Column,{width:12},n.createElement(pn,{fileErrors:o}))),n.createElement(Rt.a.Row,null,n.createElement(Rt.a.Column,null,n.createElement(mn,null))))))}}]),t}(n.Component),yn=Object(m.b)("store")(Object(m.c)(dn)),fn=function(e){var t=e.file;return n.createElement(Gt.a,{basic:"very",celled:!0,inverted:!0},n.createElement(Gt.a.Body,null,n.createElement(Gt.a.Row,null,n.createElement(Gt.a.Cell,{width:7},"File Size"),n.createElement(Gt.a.Cell,{width:9},t.fileSize)),n.createElement(Gt.a.Row,null,n.createElement(Gt.a.Cell,null,"File Warnings"),n.createElement(Gt.a.Cell,null,P.a.isEmpty(t.fileWarnings)?"None":t.fileWarnings.join(", "))),n.createElement(Gt.a.Row,null,n.createElement(Gt.a.Cell,null,"PV Type"),n.createElement(Gt.a.Cell,null,t.pvType)),n.createElement(Gt.a.Row,null,n.createElement(Gt.a.Cell,null,"Battery Type"),n.createElement(Gt.a.Cell,null,t.batteryType)),n.createElement(Gt.a.Row,null,n.createElement(Gt.a.Cell,null,"Generator Type"),n.createElement(Gt.a.Cell,null,t.generatorType))))},hn={background:"none #fff",border:"1px solid rgba(34,36,38,.15)",color:"rgba(0,0,0,.87)",boxShadow:"none",marginTop:"1px"},En=[{fileName:"12-50 Oversize 20",fileDescription:"The original file, default",fileIsSample:!0,fileSize:"4.2 MB",fileData:[{},{},{}],fileErrors:[],fileWarnings:[],pvType:"Generic flat plate PV",powerType:"AC",batteryType:"Generic 1kWh Lead Acid [ASM]",generatorType:"Not Found"},{fileName:"2-2-13 Optimized AC LA-gen Output",fileDescription:"This is the one we really want",fileIsSample:!1,fileSize:"3.9 MB",fileData:[{},{},{}],fileErrors:[],fileWarnings:[],pvType:"Generic flat plate PV",powerType:"DC",batteryType:"Li-Ion Generic",generatorType:"Not Found"},{fileName:"12-50 Undersize 10",fileDescription:"This is not useful",fileIsSample:!0,fileSize:"3.9 MB",fileData:[{},{},{}],fileErrors:[],fileWarnings:[],pvType:"Sunerg",powerType:"AC",batteryType:"Generic 1kWh Li-Ion [ASM]",generatorType:"Not Found"}],bn=function(e){function t(){var e,a;Object(jt.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(kt.a)(this,(e=Object(xt.a)(t)).call.apply(e,[this].concat(r)))).state={activeNavId:null,isAddingFile:!0,isAnalyzing:!1,isSaving:!1},a.handleAddFileClick=function(e,t){e.preventDefault(),a.setState({isAddingFile:!0,activeNavId:null})},a.handleFileNavClick=function(e,t,n){t.preventDefault(),a.setState({isAddingFile:!1,activeNavId:e})},a}return Object(Lt.a)(t,e),Object(Dt.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.activeNavId,r=t.isAddingFile,l=t.isAnalyzing,i=t.isSaving,o=this.props.store.stagedGrid,c=!P.a.some([P.a.isFinite(a),r,l,i])&&!P.a.isEmpty(o);return n.createElement(Rt.a,{padded:!0},n.createElement(Rt.a.Row,null,n.createElement(Rt.a.Column,{width:4},n.createElement(At.a,{vertical:!0,fluid:!0},n.createElement(At.a.Item,{name:"Add New HOMER File",active:r,onClick:this.handleAddFileClick},"Add New HOMER File",n.createElement($a.a,{icon:!0,floated:"right",basic:!0,compact:!0,size:"small",style:{marginTop:"-7px",marginRight:"-9px"}},n.createElement(wt.a,{name:"plus",color:"blue"}))),P.a.map(En,function(t,r){return n.createElement(At.a.Item,{key:t.fileName,name:t.fileName,active:a===r,onClick:e.handleFileNavClick.bind(null,r)},n.createElement(Mt.a,{sub:!0},t.fileName),n.createElement(_t,{content:n.createElement(fn,{file:t}),position:"right center",wide:!0}),n.createElement("span",null,t.fileDescription),t.fileIsSample&&n.createElement(ca.a,{basic:!0,attached:"top right",size:"mini",style:hn},"Sample"))}))),n.createElement(Rt.a.Column,{width:12},c?n.createElement(Cn,null):n.createElement(yn,null))))}}]),t}(n.Component),gn=Object(m.b)("store")(Object(m.c)(bn)),Cn=function(){return n.createElement("div",null,n.createElement(Mt.a,{as:"h3"},"HOMER File Management"),n.createElement(Aa.a,{size:"large",bulleted:!0},n.createElement(Aa.a.Item,null,"Add a new HOMER file"),n.createElement(Aa.a.Item,null,"View, edit or delete your existing HOMER files")),n.createElement("p",null,"Click on the menu on the left to do any of these tasks"))},vn=function(){return n.createElement(Rt.a,{padded:!0},n.createElement(Rt.a.Row,null,n.createElement(Rt.a.Column,null,n.createElement(zt.a,null,n.createElement("h2",null,"Appliance Usage Files"),n.createElement("p",null,"TODO")))))},An=function(){return n.createElement("div",null,n.createElement(At.a,{secondary:!0,pointing:!0},n.createElement(At.a.Item,{as:Ot,to:"/files/homer",name:"HOMER Grid Files"}),n.createElement(At.a.Item,{as:Ot,to:"/files/appliance-usage",name:"Appliance Usage Files"})),n.createElement("div",null,n.createElement(u.a,{exact:!0,path:"/files/",component:gn}),n.createElement(u.a,{exact:!0,path:"/files/homer",component:gn}),n.createElement(u.a,{exact:!0,path:"/files/appliance-usage",component:vn})))},wn=Object(m.b)("store")(Object(m.c)(function(e){var t=e.store.saveSnapshot;return n.createElement(Rt.a,{padded:!0},n.createElement(Rt.a.Row,null,n.createElement(Rt.a.Column,{width:12},n.createElement(Mt.a,{as:"h2",image:!0},n.createElement(Mt.a.Content,null,"Save a Snapshot",n.createElement(Mt.a.Subheader,null,"Save the current state of the application, including selector HOMER and appliance files, ancillary equipment and model inputs (we save everything).")))),n.createElement(Rt.a.Column,{width:4},n.createElement($a.a,{basic:!0,compact:!0,floated:"right",color:"blue",onClick:t,style:{verticalAlign:"top",marginLeft:"1rem",marginTop:"4px"}},n.createElement(wt.a,{name:"camera"}),"Save Snapshot"))),n.createElement(Mt.a,{as:"h2",image:!0},n.createElement(Mt.a.Content,null,"Revert to a Snapshot",n.createElement(Mt.a.Subheader,null,"If your current state is important, save a snapshot before reverting to an older snapshot."))),n.createElement(Gt.a,{basic:"very",celled:!0,collapsing:!0,selectable:!0},n.createElement(Gt.a.Header,null,n.createElement(Gt.a.Row,null,n.createElement(Gt.a.HeaderCell,null),n.createElement(Gt.a.HeaderCell,null,"Name"),n.createElement(Gt.a.HeaderCell,null,"Description"),n.createElement(Gt.a.HeaderCell,null,"Date"),n.createElement(Gt.a.HeaderCell,null,"Time"),n.createElement(Gt.a.HeaderCell,null,"HOMER File"),n.createElement(Gt.a.HeaderCell,null,"Appliance File"),n.createElement(Gt.a.HeaderCell,null,"Ancillary Equipment"),n.createElement(Gt.a.HeaderCell,null))),n.createElement(Gt.a.Body,null,n.createElement(Gt.a.Row,null,n.createElement(Gt.a.Cell,null,n.createElement($a.a,{icon:!0,basic:!0,size:"small",color:"blue"},"Revert")),n.createElement(Gt.a.Cell,null,"Final Snapshot"),n.createElement(Gt.a.Cell,null,"This contains the best settings"),n.createElement(Gt.a.Cell,null,"Jan 15, 2019"),n.createElement(Gt.a.Cell,null,"8:03am (MST)"),n.createElement(Gt.a.Cell,null,"12-50 Oversize 20"),n.createElement(Gt.a.Cell,null,"Rice Mill (Tanzania)"),n.createElement(Gt.a.Cell,null,"AC to DC Power Converter, Direct On-line Starter"),n.createElement(Gt.a.Cell,null,n.createElement($a.a,{icon:!0,basic:!0,size:"small",color:"red"},"Delete"))))))})),Tn=function(e){var t=e.match;return console.log("match: ",t),n.createElement(zt.a,null,n.createElement("h2",null,"Page Not Found"))},On=(a(956),function(){return n.createElement(m.a,{store:vt},n.createElement(o.a,{history:st},n.createElement(s.ApolloProvider,{client:k},n.createElement(At.a,null,n.createElement(At.a.Item,{header:!0,as:Ot,to:"/"},n.createElement("img",{src:It.a,style:{width:"20px",marginRight:"5px"},alt:"Factor[e] Microgrid Appliance Tool"}),"Microgrid Appliance Analysis Tool"),n.createElement(At.a.Menu,{position:"right"},n.createElement(At.a.Item,{as:Ot,to:"/snapshots"},n.createElement(wt.a,{name:"photo"}),"Snapshots"),n.createElement(At.a.Item,{as:Ot,to:"/files/homer"},n.createElement(wt.a,{name:"file"}),"Files"),n.createElement(At.a.Item,{as:Ot,to:"/about"},n.createElement(wt.a,{name:"info circle"}),"About"))),n.createElement("div",{className:"main-wrapper"},n.createElement(c.a,null,n.createElement(u.a,{path:"/",exact:!0,component:Ha}),n.createElement(u.a,{path:"/tool",component:Ha}),n.createElement(u.a,{path:"/snapshots",component:wn}),n.createElement(u.a,{path:"/files",component:An}),n.createElement(u.a,{path:"/about",component:_a}),n.createElement(u.a,{component:Tn}))))))});a(957),a(958),a(959);i.a.render(r.a.createElement(On,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[550,1,2]]]);
//# sourceMappingURL=main.dcb371dd.chunk.js.map