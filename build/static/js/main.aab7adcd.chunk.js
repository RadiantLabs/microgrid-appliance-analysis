(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{176:function(e,t,a){e.exports={borderless:"borderlessTableStyles_borderless__1aRvi"}},428:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAUCAYAAACTQC2+AAAAAXNSR0IArs4c6QAAAAlwSFlzAAALEwAACxMBAJqcGAAABCJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIgogICAgICAgICAgICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyI+CiAgICAgICAgIDx0aWZmOlJlc29sdXRpb25Vbml0PjI8L3RpZmY6UmVzb2x1dGlvblVuaXQ+CiAgICAgICAgIDx0aWZmOkNvbXByZXNzaW9uPjU8L3RpZmY6Q29tcHJlc3Npb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjcyPC90aWZmOlhSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICAgICA8dGlmZjpZUmVzb2x1dGlvbj43MjwvdGlmZjpZUmVzb2x1dGlvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjI2PC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6Q29sb3JTcGFjZT4xPC9leGlmOkNvbG9yU3BhY2U+CiAgICAgICAgIDxleGlmOlBpeGVsWURpbWVuc2lvbj4yMDwvZXhpZjpQaXhlbFlEaW1lbnNpb24+CiAgICAgICAgIDxkYzpzdWJqZWN0PgogICAgICAgICAgICA8cmRmOkJhZy8+CiAgICAgICAgIDwvZGM6c3ViamVjdD4KICAgICAgICAgPHhtcDpNb2RpZnlEYXRlPjIwMTktMDItMDdUMTI6MDI6OTY8L3htcDpNb2RpZnlEYXRlPgogICAgICAgICA8eG1wOkNyZWF0b3JUb29sPlBpeGVsbWF0b3IgMy4zPC94bXA6Q3JlYXRvclRvb2w+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgotwlGDAAAEUElEQVRIDb1VTWxUVRQ+9+fNtEOZ0plEB2sjwdb+EWlCgsaEuENXLmrqotafpguCxh0Y3cB01QUiUYSkJBipEBPrQrZoqjEQXZg0VSuhljRaqNR0GigZZua9d+/1O286Q6bTLvXkvXlvzr3n++53zrn3Ef1PJpjn1CfnJqUUvc46R4QLJoSUxrr5hbmlV0+fzq5Fzi1+Tp4506aEN0GWMoi35WmChJJKkhl/5/ChU5qdYNsthOh2wpGUipRSJHGXCkUvnW6WW+BX3U3GxAraezrWEE85aykMQ3JYs5KgIfcIT4yIQAUtDioEGWv+ttbMUCCVIPcnPdFX5Im/Dj/ZJpzXR0q0aYf5ob1lSf3SOzH7V6mpfY0eLF4JSqUUy0HcPhIyzZhQGKVonYihiDzPI2PMN7k7i8P8P3v8uLsx2Jl+baTnGAn3cmCpXRFJVh4q4RqlnZ8b6blc+O69E3snZgazo6MilUp5Lpb4Wiv9ojWGYSKrIao4s9lslOeFu5/tKCYaxpGB/hAeLqGC6rI5EZLoiCk64nSwOzfUMZy+NL+GWNeSSXA5aqwu/5AbzfmSSJXubcvGhOzPQwoutInAw/0AvqtIUMjkeR8JVKJ/OeYdjZB7erg+G3mojqiyjL1DT+0Rwg4FFg0CJzJVQMbeXbpZfGHm/v2D6Kn3taQiI6I7Weng9Jtdu7I08DBfFTA864jQEFHxXFzsA1CKQTTaAnLmjLVTO9uTOzubUxk/cFNQtsBjBi9SuMcT0nbTJLRyETfYpjXiOca4trjHrI58E8V1KSm+NaEvoyCPXOCoWa5DYixGIbVuwK/+3ZJoE6msK4HWrQ6hFD6qnsdqPGx2BV2KBoC9UsWvvmxJpKW6xSnhGnB6rHVLAD4spfunZKXWLNaGTmq5w4byXuCMjvn+fPb3SUXRFq1yRC/V1VXclY6xvvkZmzyHlFCI1OGIekwK8ZKzYiWxPZhOSvEHDpj9IBxV2mS6Lty4tvuLheVU6g6XiNdXY3VEldGZi3O/oXs/9zhhuEDGIg4JKa5S3pvKO/cT3B+D/Fkt5cT14a4jKJdczWTqGoEx64gQDHyiV9APtHL9mG/spQYtiO/ozCVqxXqfQxt2oENheMM+kC58wLGzHMcdtMFqalQ+m0Rs7OzZlngxJi43i+D5qXNvpRrXZiSJARzF3ej2JkZB+QhqlwNrp0OKfXThwNi1sf23W3Qu55HwVBnrIVsNURAEjHCwUXhXKEG6oWRuftX39hsfHH39xOxI73npbKdvaJckl1DKrfqhnNfbw7mLBz5Mtq4s4TDxHoUWCDcdWED0FahQRUSQr/nTYDGIXKTxiUjDQYVCManD2zFMzveen13F88f1uxIfPcf3LCaLJJ6JxxtasKmJD1NWpJQmZ8rbISKSSn+K7dzKRef0GhPiDiQquNyZyRRqUDf5kwuCu9uUdzII/STwy/XhgqHvnVbfbxLy37n+BbVQ5TcXmagWAAAAAElFTkSuQmCC"},442:function(e,t,a){e.exports={columnIndicator:"styles_columnIndicator__3LE4S"}},449:function(e,t){e.exports="data:image/png;base64,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"},450:function(e,t,a){e.exports=a.p+"static/media/radiant-labs-logo@256w.bf1c8a50.png"},451:function(e,t,a){e.exports=a.p+"static/media/minigrid-software-diagram.313d5ff4.png"},489:function(e,t,a){e.exports=a(865)},661:function(e,t,a){},861:function(e,t,a){},863:function(e,t,a){},865:function(e,t,a){"use strict";a.r(t);a(490),a(547);var n=a(0),l=a.n(n),r=a(45),i=a.n(r);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o=a(131),c=a(10),s=a(40),u=a.n(s),m=a(2),p=a.n(m),d=a(11),E=a(9),y=a(227),f=a(151),h=a(112),g=a.n(h),b=a(136),C=a(34),v=a(64),w=[{id:"12-50 Baseline_2019-02-16T20:33:55.583-07:00",timestamp:"2019-02-16T20:33:55.583-07:00",fileType:"homer",name:"12-50 Baseline",size:2097646,isSample:!0,attributes:{label:"12-50 Baseline",description:"Baseline: Fill in HOMER file description.",wholesaleElectricityCost:.1,retailElectricityPrice:.45,unmetLoadCostPerKwh:.35}},{id:"12-50 Oversize 20_2019-02-16T20:34:25.937-07:00",timestamp:"2019-02-16T20:34:25.937-07:00",fileType:"homer",name:"12-50 Oversize 20",size:2084662,isSample:!0,attributes:{label:"12-50 Oversize 20",description:"Oversized: Fill in HOMER file description.",wholesaleElectricityCost:.2,retailElectricityPrice:.45,unmetLoadCostPerKwh:.35}},{id:"12-50 Undersize 20_2019-02-16T20:34:53.869-07:00",timestamp:"2019-02-16T20:34:53.869-07:00",fileType:"homer",name:"12-50 Undersize 20",size:2108574,isSample:!0,attributes:{label:"12-50 Undersize 20",description:"Undersized: Fill in HOMER file description.",wholesaleElectricityCost:.3,retailElectricityPrice:.45,unmetLoadCostPerKwh:.35}}],A=[{id:"rice_mill_usage_profile_2019-02-16T20:33:55.583-07:00",fileType:"appliance",applianceType:"rice_mill",name:"rice_mill_usage_profile",size:465709,isSample:!0,attributes:{label:"Rice Mill (Tanzania)",description:"Rice mill usage profile from downloaded UTC file usage (Tanzania)",capex:1200,capexAssignment:"appliance",powerType:"DC",phase:3,hasMotor:!0,powerFactor:.8,nominalPower:2.3,dutyCycleDerateFactor:.2,productionUnitType:"kg",productionUnitsPerKwh:136,revenuePerProductionUnits:.021}},{id:"maize_mill_usage_profile_1_20_2019-02-16T20:34:25.937-07:00",fileType:"appliance",applianceType:"maize_mill",name:"maize_mill_usage_profile_1",size:438101,isSample:!0,attributes:{label:"Maize Mill 1 (Tanzania)",description:"Maize mill usage profile (1) from downloaded UTC file (Tanzania)",capex:1e3,capexAssignment:"appliance",powerType:"AC",phase:3,hasMotor:!0,powerFactor:.8,nominalPower:2.2,dutyCycleDerateFactor:.2,productionUnitType:"kg",productionUnitsPerKwh:136,revenuePerProductionUnits:.021}},{id:"maize_mill_usage_profile_2_20_2019-02-16T20:34:53.869-07:00",fileType:"appliance",applianceType:"maize_mill",name:"maize_mill_usage_profile_2",size:465121,isSample:!0,attributes:{label:"Maize Mill 2 (Tanzania)",description:"Maize mill usage profile (2) from downloaded UTC sensor file (Tanzania)",capex:1e3,capexAssignment:"appliance",powerType:"AC",phase:3,hasMotor:!0,powerFactor:.8,nominalPower:2.2,dutyCycleDerateFactor:.2,productionUnitType:"kg",productionUnitsPerKwh:136,revenuePerProductionUnits:.021}},{id:"welder_usage_profile_20_2019-02-16T20:34:25.947-07:00",fileType:"appliance",applianceType:"welder",name:"welder_usage_profile",size:429487,isSample:!0,attributes:{label:"Welder (Tanzania)",description:"Welder usage profile from downloaded UTC sensor file (Tanzania)",capex:500,capexAssignment:"grid",powerType:"AC",phase:3,hasMotor:!1,powerFactor:1,nominalPower:2.2,dutyCycleDerateFactor:.2,productionUnitType:"hr",productionUnitsPerKwh:136,revenuePerProductionUnits:.022}}],x=[{equipmentType:"powerConverter",label:"AC to DC Power Converter",description:"A power converter converts AC power to DC power. An example may be converting AC grid electricity to power a fan driven by a DC motor"},{equipmentType:"inverter",label:"DC to AC Inverter",description:"An inverter converts DC power to AC power. An example may be converting DC power from a battery to electrify an AC powered printer."},{equipmentType:"vfd",label:"Variable Frequency Drive",description:"A variable frequency drive provides AC three phase frequency variation for motor speed control, reduction of starting torque, and inrush current relief. An example may be a VFD upstream of an industrial blower to control flow rates depending on operational conditions."},{equipmentType:"softStarter",label:"Soft Starter",description:"A softstarter slowly ramps up AC voltage when starting a motor to reduce starting torque and provide inrush current relief. An example may be a softstarter upstream of a pump to limit inrush current and water hammer throughout a system."},{equipmentType:"directOnlineStarter",label:"Direct On-line Starter",description:"A direct on line starter is a power shut off switch upstream of an AC motor that prevents overloading and short circuits."},{equipmentType:"starDeltaStarter",label:"Star Delta Starter",description:"A star delta starter raises AC voltage in fixed increments when starting a motor to reduce starting torque and provide inrush current relief. An example may be a star delta starter upstream of a motor powered mill to reduce inrush current.  Star delta starters need to be assembled from multiple contactors, thermal overload relay, timer, and connection set."},{equipmentType:"capacitorBank",label:"Capacitor Bank",description:"A capacitor bank stores energy to support a motor's 'parasitic' power consumption, or reactive power. By reducing the amount of reactive power required from the grid, power factor approaches 1 and fees from a utility can be avoided. An example is a welder with a power factor of 0.6 can be equipped with a capacitor bank to boost power factor to 0.95."},{equipmentType:"threeFourPointDcMotorStarter",label:"Three/Four Point DC Motor Starter",description:"A three or four point DC motor starter reduces starting current and stabilizes starting motor voltage. An example is a 48V DC shunt motor driven lathe in which a motor starter brings down inrush current and stabilizes voltage to extend the motor's useful life."}],O=a(108),k=a.n(O),I=a(109),S=a.n(I),T=a(462),M=window.MLR;function j(e){var t=function(e){return p.a.reduce(e,function(e,t,a,n){var l=0===a?t.originalBatteryEnergyContent:n[a-1].originalBatteryEnergyContent,r=[l,t.originalElectricalProductionLoadDiff];return e.push(r),e},[])}(e),a=function(e){return p.a.map(e,function(e){return[e.originalBatteryEnergyContent]})}(e),n=new M(t,a,{intercept:!1});return{trainedBatteryModel:n,batteryModelStdError:n.stdError}}function P(e,t,a){if(p.a.isEmpty(e)||!t||!a)return[];var n=j(e).trainedBatteryModel;return console.log("running calcBatteryDebugData"),p.a.reduce(e,function(e,l,r,i){var o=l.originalElectricalProductionLoadDiff,c=l.originalBatteryEnergyContent,s=function(e,t,a,n){var l=.99*(e+t);return p.a.clamp(l,a,n)}(0===r?l.originalBatteryEnergyContent:e[r-1].naiveClamped,o,t,a),u=0===r?l.originalBatteryEnergyContent:e[r-1].mlr,m=function(e,t,a,n,l){var r=[t,a],i=e.predict(r),o=Object(T.a)(i,1)[0];return p.a.clamp(o,n,l)}(n,u,o,t,a),d={hour:r,homerOriginal:p.a.round(c,2),naiveClamped:p.a.round(s,2),mlr:p.a.round(m,2)};return e.push(d),e},[])}var R=a(152);function L(e){var t=e.rowIndex,a=e.prevBatteryEnergyContent,n=e.electricalProductionLoadDiff,l=e.batteryMinEnergyContent,r=e.batteryMaxEnergyContent,i=e.roundTripLosses;if(0===t)return{batteryEnergyContent:a,totalExcessProduction:0,totalUnmetLoad:0};var o=function(e,t,a){return(t+e)*(1-a)}(n,a,void 0===i?.01:i),c=p.a.clamp(o,l,r),s=o-c>0?o-c:0,u=o-c<0?c-o:0;return{batteryEnergyContent:c,totalExcessProduction:p.a.round(s,4),totalUnmetLoad:p.a.round(u,4)}}var D=a(120);function F(e,t){D.c(function(a){console.log("Logging new error: ",e,a),t&&a.setLevel(t),D.a(new Error(e))})}var U=a(69),W=a(92),G=a(425),z=a.n(G),B=a(114),q=a.n(B),N=1,H=1,V=["#212934","#5F6B7A","#8795A7","#B8C4CE","#CFD6DE","#E1E7EC","#F8F9FA"],K={appliance:"#DD5182",homer:"#FFA601",hybridColumns:"#444e86",excluded:V[5],default:"#f9fafb"},Y={"Original Electrical Load Served":"#444e86",originalElectricLoadServed:"#444e86",newAppliancesLoad:"#955196",newAppliancesAncillaryLoad:"#FF6E54",originalUnmetLoad:"#444e86",additionalUnmetLoad:"#FF6E54",totalExcessProduction:"#FFA601",batteryEnergyContent:"#444e86",totalUnmetLoad:"#DD5182"},Z={originalElectricLoadServed:"#444e86",originalModeledUnmetLoad:"#444e86",originalModeledExcessProduction:"#444e86",newAppliancesLoad:"#955196",newAppliancesUnmetLoad:"#955196",newAppliancesExcessProduction:"#955196",newAppliancesAncillaryLoad:"#FF6E54"},Q={"0mon":"Mon","1tue":"Tue","2wed":"Wed","3thu":"Thu","4fri":"Fri","5sat":"Sat","6sun":"Sun"},X={"0mon":"Monday","1tue":"Tuesday","2wed":"Wednesday","3thu":"Thursday","4fri":"Friday","5sat":"Saturday","6sun":"Sunday"},J=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],_={load:"Load",unmetLoad:"Unmet Load",excessProduction:"Excess Production",average:"Average",sum:"Sum of",count:"Count of",hourOfDay:"Hour of Day",dayOfWeek:"Day of Week",month:"Month",hourOfWeek:"Hour of Week"},$=["YYYY-MM-DD hh:mm:ss"],ee={header:!0,delimiter:",",dynamicTyping:!0,skipEmptyLines:!0,comments:"sep="};function te(e){return"text/csv"===e}function ae(e){var t=parseFloat(e[3]),a=parseFloat(e[4]);return!p.a.isFinite(t)&&!p.a.isFinite(a)}function ne(e){var t=q()(e);return t.isValid()?"Last Saved: ".concat(t.fromNow()):"No found versions"}function le(e){return String(e).replace(/\s{2,}/g," ")}function re(e){switch(!0){case p.a.isNull(e):return"";case!0===e:return"Yes";case!1===e:return"No";default:return""}}function ie(e,t){return 100*e/t}function oe(e,t){return t/e}var ce=function(e,t){p.a.has(p.a.first(e),t)||F("Can't find key: ".concat(t,": Check calling function"))},se=function(){return R.DateTime.local().toISO()};var ue=function(e){return z.a.parse(e).name},me=function(e,t){return ce(e,t),p.a.chain(e).map(t).filter(p.a.isNumber).value()},pe=function(e,t){return ce(e,t),p.a.chain(e).map(t).filter(p.a.isNumber).filter(function(e){return e>0}).sum().round(2).value()},de=function(e){return p.a.get(e,"isValid",!1)},Ee=function(e){var t=R.DateTime.fromISO(e);return de(t)?t.toFormat("MMM dd H:mm"):e},ye=function(e){var t=R.DateTime.fromFormat(e,"yyyy-LL-dd HH:mm:ss");return de(t)?t.toFormat("MMM dd H:mm"):e},fe=function(e){return p.a.isFinite(e)?p.a.round(e/8760*100,1):"-"},he=function(e,t){return p.a.min(me(e,t))},ge=function(e,t){return p.a.max(me(e,t))};function be(e,t,a){return p.a.isEmpty(e)||p.a.isEmpty(t)||p.a.isEmpty(a)?[]:function(e,t){for(var a,n=arguments.length,l=new Array(n>2?n-2:0),r=2;r<n;r++)l[r-2]=arguments[r];return(a=p()(p.a.cloneDeep(t))).concat.apply(a,l).groupBy(e).map(p.a.spread(p.a.merge)).value()}("hour",e,t,a)}var Ce=["Time","Original Battery Energy Content","Total Renewable Power Output","Original Unmet Electrical Load","Original Excess Electrical Production","Original Electrical Load Served"],ve=[["AC Primary Load","DC Primary Load"]];function we(e,t){var a=t.isSample,n=t.fileType,l=t.size,r=t.mimeType,i=[],o=!!a||te(r),c=p.a.keys(p.a.first(e.data));ae(c)||i.push("This file appears to not have column header descriptions. The first row of the HOMER file should contain the column name and the second row contain the column units."),"homer"!==n&&i.push("File is not homer file. Current fileType: ".concat(n)),o||i.push("File is not a CSV. If you have an Excel file, export as CSV."),l>5242880&&i.push("Filesize too big. Your file is ".concat(S()(l)));var s=function(e){var t=p.a.some(e,function(e){return p.a.includes(e,"DC Primary Load")}),a=p.a.some(e,function(e){return p.a.includes(e,"AC Primary Load")});return t&&a&&F("Detecting both AC and DC Loads"),t||a||F("Detecting neither AC nor DC Loads"),{powerType:t?"DC":"AC",powerTypeErrors:t&&a?"This grid appears to have both AC and DC power types, which we don't currently support. Please contact support.":null}}(c),u=s.powerType,m=s.powerTypeErrors;i.push(m);var d=function(e){var t="Angle of Incidence",a=p.a.find(e,function(e){return p.a.includes(e,t)}),n=p.a.trim(a.split(t)[0]);return{pvType:n,pvTypeErrors:p.a.isString(n)?null:"Cannot determine PV type. Looking for a column called '___ ".concat(t,"'")}}(c),E=d.pvType,y=d.pvTypeErrors;i.push(y);var f=function(e){var t=p.a.find(e,function(e){return p.a.includes(e,"State of Charge")}),a=p.a.trim(t.split("State of Charge")[0]);return{batteryType:a,batteryTypeErrors:p.a.isString(a)?null:"Cannot determine battery type. Looking for a column called '___ ".concat("State of Charge","'")}}(c),h=f.batteryType,g=f.batteryTypeErrors;i.push(g);var b=function(e){var t=p.a.find(e,function(e){return p.a.includes(e.toLowerCase(),"genset")});return{generatorType:t?p.a.trim(t.split("Power Output")[0]):"Not Found",generatorTypeErrors:null}}(c),v=b.generatorType,w=b.generatorTypeErrors;i.push(w);var A=function(e){var t=e.parsedFile,a=e.pvType,n=e.batteryType,l=e.generatorType,r=p.a.map((i=t.data,p.a.drop(i,1)),function(e,t){return function(e){var t=e.row,a=e.pvType,n=e.batteryType,l=e.generatorType;return p.a.mapKeys(t,function(e,t){switch(!0){case p.a.includes(t,n):return le(p.a.replace(t,n,"Original Battery"));case p.a.includes(t,a):return le(p.a.replace(t,"".concat(a," "),"PV "));case p.a.includes(t,l):return le(p.a.replace(t,"".concat(l," "),"Generator"));case p.a.includes(t,"Unmet Electrical Load"):return"Original Unmet Electrical Load";case p.a.includes(t,"Excess Electrical Production"):return"Original Excess Electrical Production";case p.a.includes(t,"Total Electrical Load Served"):return"Original Electrical Load Served";default:return t}})}({row:e,pvType:a,batteryType:n,generatorType:l})});var i;return function(e){return p.a.map(e,function(e,t){return Object(C.a)({},e,{hour:t})})}(p.a.map(r,function(e,t){return p.a.mapValues(e,function(e,t){return"Time"===t?function(e){switch(!0){case p.a.includes(e,"am")||p.a.includes(e,"pm"):return q()(e,"M/D/YYYY H:mm a").format();case p.a.includes(e,"AM")||p.a.includes(e,"PM"):return q()(e,"M/D/YYYY H:mm A").format();default:return q()(e,"M/D/YY H:mm").format()}}(e):p.a.round(e,4)})}))}({parsedFile:e,pvType:E,batteryType:h,generatorType:v}),x=function(e){var t=p.a.keys(p.a.first(e)),a=p.a.map(Ce,function(e){return p.a.includes(t,e)?null:e}),n=p.a.map(ve,function(e){var a=p.a.includes(t,e[0])||p.a.includes(t,e[1]);return a?null:"One of ".concat(e[0]," or ").concat(e[1])}),l=p.a.concat([],p.a.compact(a),p.a.compact(n));return p.a.isEmpty(l)?null:"Missing required columns: ".concat(l.join(", "),". These columns in your HOMER file may be called something else. For example, a HOMER column may be called 'Generic 1kWh Lead Acid Energy Content' but the app will rename it to 'Battery Energy Contnet'. Either way, we need a column that contains the battery energy content and cannot do calculations without it.")}(A);i.push(x);var O=he(A,"Original Battery Energy Content"),k=ge(A,"Original Battery Energy Content"),I=ge(A,"Original Battery State of Charge"),T=he(A,"Original Battery State of Charge");return{fileInfo:t,fileData:function(e,t,a){if(p.a.isEmpty(e)||!t||!a)return[];return p.a.reduce(e,function(e,n,l,r){var i=e[l-1],o=0===l?n.originalBatteryEnergyContent:i.originalModeledBatteryEnergyContent,c=L({rowIndex:l,prevBatteryEnergyContent:o,electricalProductionLoadDiff:n.originalElectricalProductionLoadDiff,batteryMinEnergyContent:t,batteryMaxEnergyContent:a}),s=c.batteryEnergyContent,u=c.totalExcessProduction,m=c.totalUnmetLoad;return e.push(Object(C.a)({},n,{originalModeledBatteryEnergyContent:p.a.round(s,4),originalModeledExcessProduction:p.a.round(u,4),originalModeledUnmetLoad:p.a.round(m,1)})),e},[])}(function(e){var t=e.fileData;e.batteryMinEnergyContent,e.batteryMaxEnergyContent;return p.a.map(t,function(e,t,a){var n=e["Original Battery Energy Content"],l=e["Total Renewable Power Output"],r=l-e["Original Electrical Load Served"],i=e.Time,o=R.DateTime.fromISO(i);return Object(C.a)({datetime:i,hourOfDay:o.hour,originalBatteryEnergyContent:p.a.round(n,4),totalElectricalProduction:p.a.round(l,4),originalElectricalProductionLoadDiff:p.a.round(r,4)},p.a.omit(e,["Unmet Electrical Load","Original Battery Energy Content"]))})}({fileData:A,batteryMinEnergyContent:O,batteryMaxEnergyContent:k}),O,k),fileImportErrors:p.a.compact(i),fileImportWarnings:e.errors,powerType:u,pvType:E,batteryType:h,generatorType:v,batteryMaxSoC:p.a.round(I,2),batteryMinSoC:p.a.round(T,2),batteryEstimatedMaxEnergyContent:p.a.round(k,4),batteryEstimatedMinEnergyContent:p.a.round(O,4)}}var Ae=["datetime","hour","dayOfWeek","hourOfDay","hourOfWeek","month","kwFactor"],xe=["datetime","hour","day","hour_of_day","hour_of_week","kw_factor"];function Oe(e,t){var a=t.isSample,n=t.fileType,l=t.size,r=t.mimeType,i=[],o=!!a||te(r);"appliance"!==n&&i.push("File is not applliance file. Current fileType: ".concat(n)),o||i.push("File is not a CSV. If you have an Excel file, export as CSV."),ae(p.a.keys(p.a.first(e.data)))||i.push("This file appears to not have column header descriptions. The first row of the HOMER file should contain the column name and the second row contain the column units."),l>5242880&&i.push("Filesize too big. Your file is ".concat(S()(l)));var c=e.data[0].datetime;q()(c,$).isValid()||i.push("Appliance date format is incorrect. It should be of the format 'YYYY-MM-DD hh:mm:ss'. For exmaple, 2018-01-01 00:00:00");var s=function(e){var t=p.a.keys(p.a.first(e)),a=p.a.includes(t.join(""),"_")?p.a.compact(p.a.map(xe,function(e){return p.a.includes(t,e)?null:e})):p.a.compact(p.a.map(Ae,function(e){return p.a.includes(t,e)?null:e}));return p.a.isEmpty(a)?null:"Missing required columns: ".concat(a.join(", "))}(e.data);return i.push(s),{fileInfo:t,fileData:p.a.map(e.data,function(e){var t,a=Object(C.a)({},e,{kwFactor:ke(e,"kw_factor","kwFactor",5)},{hourOfDay:ke(e,"hour_of_day","hourOfDay")},{hourOfWeek:ke(e,"hour_of_week","hourOfWeek")},{dayOfWeek:ke(e,"day","dayOfWeek")},{month:(t=e.datetime,parseInt(q()(t).format("M"),10))});return p.a.omit(a,["production_factor","kw_factor","hour_of_day","hour_of_week","day"])}),fileImportErrors:p.a.compact(i),fileImportWarnings:p.a.compact([]),fileType:n}}function ke(e,t,a,n){p.a.has(e,t)||p.a.has(e,a)||F("Did not find camel or snake case version of ".concat(t," for appliance import "));var l=p.a.has(e,t)?e[t]:e[a];return n?p.a.round(l,n):l}function Ie(e,t,a){var n=a.pathname.split("/").length,l=p.a.repeat("../",n-1);switch(t){case"homer":return l+"data/homer/"+e+".csv";case"appliance":return l+"data/appliances/"+e+".csv";default:F("Need to pass fileType (homer, appliance) to filePathLookup")}}function Se(e){return Te.apply(this,arguments)}function Te(){return(Te=Object(b.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return F("Hitting fetchSnapshotGridFile which isn't currently used for fileInfo: ".concat(JSON.stringify(t))),e.abrupt("return",[]);case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Me(e){return je.apply(this,arguments)}function je(){return(je=Object(b.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return F("Hitting fetchSnapshotApplianceFile which isn't currently used for fileInfo: ".concat(JSON.stringify(t))),e.abrupt("return",[]);case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Pe(e,t){return Re.apply(this,arguments)}function Re(){return(Re=Object(b.a)(u.a.mark(function e(t,a){var n,l,r,i;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ie(t.name,t.fileType,a),e.prev=1,e.next=4,fetch(n);case 4:return l=e.sent,e.next=7,l.text();case 7:r=e.sent,i=k.a.parse(r,ee),p.a.isEmpty(i.errors)||F("Problem parsing grid CSV: ".concat(JSON.stringify(i.errors))),e.t0=t.fileType,e.next="homer"===e.t0?13:"appliance"===e.t0?14:15;break;case 13:return e.abrupt("return",we(i,t));case 14:return e.abrupt("return",Oe(i,t));case 15:F("Expected either a 'homer' for 'appliance' file in fetchSampleFile. Got ".concat(t.fileType));case 16:e.next=21;break;case 18:e.prev=18,e.t1=e.catch(1),console.error("File load fail for : ".concat(n,". Make sure appliance CSV has all headers."),e.t1);case 21:case"end":return e.stop()}},e,null,[[1,18]])}))).apply(this,arguments)}var Le=E.types.model({isActive:E.types.boolean,fileInfo:E.types.frozen(),fileData:E.types.frozen(),label:E.types.string,description:E.types.string,fileImportErrors:E.types.array(E.types.string),fileImportWarnings:E.types.array(E.types.string),pvType:E.types.string,powerType:E.types.enumeration("powerType",["AC","DC",""]),batteryType:E.types.string,generatorType:E.types.string,wholesaleElectricityCost:E.types.maybeNull(E.types.number),retailElectricityPrice:E.types.maybeNull(E.types.number),unmetLoadCostPerKwh:E.types.maybeNull(E.types.number),batteryMinSoC:E.types.maybeNull(E.types.number),batteryMaxSoC:E.types.maybeNull(E.types.number),batteryMinEnergyContent:E.types.maybeNull(E.types.number),batteryMaxEnergyContent:E.types.maybeNull(E.types.number),batteryEstimatedMinEnergyContent:E.types.maybeNull(E.types.number),batteryEstimatedMaxEnergyContent:E.types.maybeNull(E.types.number),cardIsOpen:E.types.maybeNull(E.types.boolean),fileIsSelected:E.types.boolean,isAnalyzingFile:E.types.boolean,gridSaved:E.types.boolean,batteryModelSaved:E.types.boolean,modelInputValues:E.types.frozen(),modelInputErrors:E.types.frozen()}).volatile(function(e){return{}}).actions(function(e){return{runInAction:function(e){return e()},onModelInputChange:function(t,a,n){var l=p.a.clone(e.modelInputValues),r=p.a.clone(e.modelInputErrors);l[t]=a,r[t]=n,e.modelInputValues=l,e.modelInputErrors=r},onModelInputBlur:function(t,a,n){Boolean(n)?console.log("Value not saved to store"):e[t]=0===a?0:a||""},handleGridFileUpload:function(t){e.fileIsSelected=!0,e.isAnalyzingFile=!0;var a=t.name,n=t.size,l=t.type,r=se(),i={id:"".concat(a,"_").concat(r),timeStamp:r,fileType:"homer",name:a,size:n,isSample:!1,mimeType:l};k.a.parse(t,Object(C.a)({},ee,{complete:function(t){var n=we(t,i),l=ue(a);e.runInAction(function(){e.label=l,e.modelInputValues=Object(C.a)({},e.modelInputValues,{label:l}),e.updateModel(n)})},error:function(e){return console.log("error: ",e)}}))},loadFile:Object(E.flow)(u.a.mark(function t(a){var n;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.isAnalyzingFile=!0,!e.fileInfo.isSample){t.next=7;break}return t.next=4,Pe(a,window.location);case 4:t.t0=t.sent,t.next=10;break;case 7:return t.next=9,Se(a);case 9:t.t0=t.sent;case 10:n=t.t0,e.updateModel(n),e.isAnalyzingFile=!1;case 13:case"end":return t.stop()}},t)})),updateModel:function(t){e.runInAction(function(){e.fileInfo=t.fileInfo,e.fileData=t.fileData,e.fileImportErrors=t.fileImportErrors,e.fileImportWarnings=t.fileImportWarnings,e.powerType=t.powerType,e.pvType=t.pvType,e.batteryType=t.batteryType,e.generatorType=t.generatorType,e.batteryMinSoC=t.batteryMinSoC,e.batteryMaxSoC=t.batteryMaxSoC,e.batteryEstimatedMinEnergyContent=t.batteryEstimatedMinEnergyContent,e.batteryEstimatedMaxEnergyContent=t.batteryEstimatedMaxEnergyContent,e.batteryMinEnergyContent=t.batteryEstimatedMinEnergyContent,e.batteryMaxEnergyContent=t.batteryEstimatedMaxEnergyContent,e.modelInputValues=Object(C.a)({},e.modelInputValues,{batteryMinEnergyContent:t.batteryEstimatedMinEnergyContent,batteryMaxEnergyContent:t.batteryEstimatedMaxEnergyContent}),e.isAnalyzingFile=!1})},toggleCard:function(t){p.a.isBoolean(t)?e.cardIsOpen=t:e.cardIsOpen=!Boolean(e.cardIsOpen)}}}).views(function(e){return{get showAnalyzedResults(){return!Object(E.getParent)(e).viewedGridIsStaged||e.fileIsSelected&&!e.isAnalyzingFile},get batteryAvgErrorPct(){return function(e,t){if(p.a.isEmpty(e))return null;var a=p.a.size(e),n=p.a.sumBy(e,t);return 0===a?1/0:p.a.round(100*n/a,2)}(e.predictedVsActualBatteryValues,"error")},get batteryMaxErrorPct(){return t=e.predictedVsActualBatteryValues,a="error",p.a.isEmpty(t)?null:p.a.round(100*p.a.maxBy(t,a)[a],2);var t,a},get prettyFileSize(){return S()(e.fileInfo.size)},get inputErrorList(){return p.a.compact(p.a.values(e.modelInputErrors))},get fileReadyToSave(){var t=0===p.a.size(e.inputErrorList);return p.a.every([e.label,e.description,p.a.isFinite(e.wholesaleElectricityCost),p.a.isFinite(e.retailElectricityPrice),p.a.isFinite(e.batteryMinEnergyContent),p.a.isFinite(e.batteryMaxEnergyContent),p.a.isEmpty(e.fileImportErrors),t])},get batteryDebugData(){return P(e.fileData,e.batteryMinEnergyContent,e.batteryMaxEnergyContent)}}}),De={isActive:!1,fileInfo:{},fileData:[],label:"",description:"",fileImportErrors:[],fileImportWarnings:[],pvType:"",powerType:"",batteryType:"",generatorType:"",wholesaleElectricityCost:null,retailElectricityPrice:null,unmetLoadCostPerKwh:null,batteryMinSoC:null,batteryMaxSoC:null,batteryMinEnergyContent:null,batteryMaxEnergyContent:null,batteryEstimatedMinEnergyContent:null,batteryEstimatedMaxEnergyContent:null,batteryModelSaved:!1,cardIsOpen:!1,fileIsSelected:!1,isAnalyzingFile:!1,gridSaved:!1,modelInputValues:{},modelInputErrors:{}},Fe="http://json-schema.org/draft-04/schema#",Ue={label:{$schema:Fe,title:"File Label",description:"By default, this is the name of the uploaded file, but you can name it whatever you want.",type:"string"},description:{$schema:Fe,title:"File Description",description:"This is a description for your records",type:"string"},capex:{$schema:Fe,title:"CapEx",description:"Capital expenditure for the appliance",type:"integer",units:"$"},capexAssignment:{$schema:Fe,title:"CapEx Assignment",description:"This determines who (grid owner or appliance owner) pays for the up-front CapEx investment.",type:"enumeration",enumerations:["grid","appliance"],units:"-"},estimatedCapex:{$schema:Fe,title:"Estimated CapEx",description:"Estimated cost of equipment based on appliance size and other attributes. This is overridable by the user.",type:"integer",units:"$"},nominalPower:{$schema:Fe,title:"Appliance Nominal Power",description:"Apply the appliance nominal power (in kW) to determine the load profile for this appliance",type:"float",minimum:0,maximum:100,step:.1,units:"kW"},powerFactor:{$schema:Fe,title:"Power Factor",description:"The power factor of the appliance, between 0 and 1. A purely resistive circuit is 1. A purely inductive current is 0.",type:"float",minimum:0,maximum:1,units:"-"},powerType:{$schema:Fe,title:"Power Type",description:"Options are alternating current (AC) or direct current (DC)",type:"enumeration",enumerations:["AC","DC"],units:"-"},phase:{$schema:Fe,title:"Phase",description:"Options are 1-phase, 2-phase or 3-phase system",type:"enumeration",enumerations:[1,2,3],units:"-"},hasMotor:{$schema:Fe,title:"Has Motor?",description:"Does the appliance have a motor?",type:"enumeration",enumerations:[!0,!1],units:"-"},dutyCycleDerateFactor:{$schema:Fe,title:"Appliance Duty Cycle Derate Factor",description:"A welder, for example, may only run 20% within a 2 minute measured interval. In that case, enter 0.2. Mills likely run for the entire 2 minute measured interval, so would have a value of 1",type:"float",minimum:0,maximum:2,step:.05,units:"-"},wholesaleElectricityCost:{$schema:Fe,title:"Wholesale Electricity Cost (if grid-tied)",description:"Cost to produce or purchase electricity for the grid operator, not including unmet load costs.",type:"float",units:"$/kWh"},unmetLoadCostPerKwh:{$schema:Fe,title:"Unmet Load Electricity Cost",description:"Cost to produce or purchase electricity for the grid operator, above what their system can handle. For example, this may be the cost of diesel for a generator",type:"float",units:"$/kWh"},retailElectricityPrice:{$schema:Fe,title:"Retail Electricity Price",description:"Price of electricity for the consumer (appliance operator). This is also the revenue for the grid operator.",type:"float",units:"$/kWh"},productionUnitType:{$schema:Fe,title:"Production Unit Type",description:'The type of "units" we are producing. Could be something like kg, hour, or liters.',type:"string"},productionUnitsPerKwh:{$schema:Fe,title:"Appliance Units of Production per kWh",description:"How many units can be produced for a single kwh. Multiply by yearly kWh to get number of units produced in a year. Units could be kg grain / kWh.",type:"float",units:"productionUnitType/kWh"},revenuePerProductionUnits:{$schema:Fe,title:"Appliance Revenue Per Production Units",description:"Revenue generated per unit of production. For example, multiply by yearly kg of grain to get yearly revenue: $ / kg of grain milled.",type:"float",units:"$/productionUnitType"},equipmentSize:{$schema:Fe,title:"Ancillary Equipment Size",description:"Size of ancillary equipment needs to more than cover the appliance's nominal appliance power.",type:"float",units:"kW"},efficiencyRating:{$schema:Fe,title:"Efficiency Rating",description:"Efficiency Rating of the Equipment, between 0 and 1.",minimum:0,maximum:1,type:"float",units:"kW"},estimatedEfficiency:{$schema:Fe,title:"Estimated Efficiency",description:"Estimated cost of equipment based on appliance size and other attributes. This is overridable by the user.",type:"integer",units:"$"},pvType:{$schema:Fe,title:"PV Type",type:"string"},generatorType:{$schema:Fe,title:"Generator Type",type:"string"},batteryType:{$schema:Fe,title:"Battery Type"},batteryMinEnergyContent:{$schema:Fe,title:"Battery Min Energy Content",type:"float",units:"kWh"},batteryEstimatedMinEnergyContent:{$schema:Fe,title:"Estimated Battery Min Energy Content",description:"Calculated by looking at average mininum values in the HOMER file.",type:"float",units:"kWh"},batteryMaxEnergyContent:{$schema:Fe,title:"Battery Max Energy Content",type:"float",units:"kWh"},batteryEstimatedMaxEnergyContent:{$schema:Fe,title:"Estimated Battery Max Energy Content",description:"Calculated by looking at average maximum values in the HOMER file.",type:"float",units:"kWh"},applianceType:{$schema:Fe,title:"Appliance Type",description:"Simple, broad classification of the type of appliance this is. Use existing classifications or add your own.",type:"enumeration",enumerations:["rice_mill","maize_mill","water_pump","welder","other",""]},equipmentType:{$schema:Fe,title:"Ancillary Equipment Type",description:"Short description of the ancillary equipment, used internally in the code",type:"enumeration",enumerations:["powerConverter","inverter","vfd","softStarter","directOnlineStarter","starDeltaStarter","capacitorBank","threeFourPointDcMotorStarter"]},compatibility:{$schema:Fe,title:"Ancillary Equipment Compatibility",description:"Code that deterimines if ancillary equipment is compatible with a paired appliance",type:"enumeration",enumerations:["required","useful","notuseful"]},compatibilityMessage:{$schema:Fe,title:"Ancillary Equipment Compatibility Message",description:"A message that is generated by a rule system, based on a paired ancillary equipment and appliance.",type:"string"},originalExcessProduction:{$schema:Fe,title:"Original Excess Production",description:"Excess production from the original HOMER file",type:"float",units:"kWh"},originalModeledExcessProduction:{$schema:Fe,title:"Original Modeled Excess Production",description:"Excess production calculated from the battery prediction model.",type:"float",units:"kWh"},newAppliancesExcessProduction:{$schema:Fe,title:"Excess Production Reduction From New Appliances",description:"Excess production after adding new appliances to the grid",type:"float",units:"kWh"},totalExcessProduction:{$schema:Fe,title:"New Excess Production",description:"Excess production that includes the original HOMER production minus new appliance loads",type:"float",units:"kWh"},batteryEnergyContent:{$schema:Fe,title:"Battery Energy Content",description:"Energy content of the battery including new appliance loads",type:"float",units:"kWh"},originalUnmetLoad:{$schema:Fe,title:"Original Unmet Load",description:"Unmet load from the original HOMER.",type:"float",units:"kWh"},originalModeledUnmetLoad:{$schema:Fe,title:"Original Modeled Unmet Load",description:"Unmet load calculated from the battery prediction model.",type:"float",units:"kWh"},newAppliancesUnmetLoad:{$schema:Fe,title:"Unmet Load Due to New Appliances",description:"Unmet load from the original HOMER.",type:"float",units:"kWh"},totalUnmetLoad:{$schema:Fe,title:"Total Unmet Load",description:"Unmet load, which includes the original HOMER unmet loads and additional unmet loads due to new appliances and ancillary equipment.",type:"float",units:"kWh"},"Original Electrical Load Served":{$schema:Fe,title:"Original Electrical Load Served",description:"Original electrical load served without new appliances based on the HOMER file",type:"float",units:"kWh"},originalElectricLoadServed:{$schema:Fe,title:"Original Electrical Load Served",description:"Original electrical load served without new appliances based on the HOMER file",type:"float",units:"kWh"},newAppliancesLoad:{$schema:Fe,title:"New Appliances Load",description:"Load from all new enabled appliances.",type:"float",units:"kWh"},newAppliancesAncillaryLoad:{$schema:Fe,title:"New Ancillary Equipment Load",description:"Additional lodas from enabled ancillary equipment.",type:"float",units:"kWh"},totalElectricalLoadServed:{$schema:Fe,title:"Total Electrical Load Served",description:"Load served based on original appliances in HOMER file and all new enabled appliances.",type:"float",units:"kWh"},hourOfDay:{$schema:Fe,title:"Hour of Day",description:"The hour of the day, from 0 (midnight) to 23 (11pm)",type:"integer"},dayOfWeek:{$schema:Fe,title:"Day of the Week",description:"The number of the day of the week, from 0 (Monday) to 6 (Sunday)",type:"integer"},month:{$schema:Fe,title:"Month of the Year",description:"The number of the month of the year, from 1 (January) to 12 (December)",type:"integer"},hourOfWeek:{$schema:Fe,title:"Hour Of Week",description:"A combination of the day of the week and the hour of the day. This uniquely identifies an hour within a week.",type:"string"}};function We(e){var t=e.equipmentType,a=e.gridPowerType,n=e.applPowerType,l=e.applHasMotor,r=e.applPhase,i=e.applPowerFactor,o=e.applSize;e.ancillaryEquipmentList;if(!t||!a||!n)return{};switch(t){case"powerConverter":return function(e,t,a){var n="DC"===t&&"AC"===e,l=n?"A power converter is required hardware for successful appliance operation.":"A power converter may not be useful. A power converter may be useful if the supply power is AC and the appliance is designed to receive DC power.",r=p.a.ceil(a,1);return{compatibility:n?"required":"notuseful",compatibilityMessage:l,equipmentSize:r,estimatedCapex:Ge(r),estimatedEfficiency:ze(r)}}(a,n,o);case"inverter":return function(e,t,a){var n="AC"===t&&"DC"===e,l=n?"An inverter is required hardware for successful appliance operation.":"An inverter may not be useful. An inverter may be useful if the supply power is DC and the appliance is designed to receive AC power.",r=p.a.ceil(a,1);return{compatibility:n?"required":"notuseful",compatibilityMessage:l,equipmentSize:r,estimatedCapex:Be(r),estimatedEfficiency:qe(r)}}(a,n,o);case"vfd":return function(e,t,a,n,l){var r="AC"===e&&"AC"===t&&a&&3===n,i=r?"A variable frequency drive may be useful to reduce in-rush current and provide speed control.":"A variable frequency drive may not be useful or available for this appliance. VFDs are most common for three phase AC motor applications to reduce in-rush current and motor speed control.",o=p.a.ceil(l,1);return{compatibility:r?"useful":"notuseful",compatibilityMessage:i,equipmentSize:o,estimatedCapex:Ne(o),estimatedEfficiency:He(o)}}(a,n,l,r,o);case"softStarter":return function(e,t,a,n){var l="AC"===e&&"AC"===t&&a,r=l?"A soft starter may be useful to reduce in-rush current and starting torque and to provide motor protection.":"A soft starter may not be useful for this appliance. Soft starters may be useful for AC motor applications to reduce in-rush current and starting torque.",i=p.a.ceil(n,1);return{compatibility:l?"useful":"notuseful",compatibilityMessage:r,equipmentSize:i,estimatedCapex:Ve(i),estimatedEfficiency:Ke(i)}}(a,n,l,o);case"directOnlineStarter":return function(e,t){var a=e,n=a?"A direct on-line starter may be useful to start a motor and provide overloading and short-circuit protection.":"A direct on-line starter may not be useful for appliances without motors.",l=p.a.ceil(t,1);return{compatibility:a?"useful":"notuseful",compatibilityMessage:n,equipmentSize:l,estimatedCapex:Ye(l),estimatedEfficiency:Ze(l)}}(l,o);case"starDeltaStarter":return function(e,t,a,n,l){var r="AC"===e&&"AC"===t&&a&&3===n,i=r?"A star delta starter may be useful to reduce in-rush current and starting torque.":"A star delta starter may not be useful or available for this appliance. Star Delta Starters are most common for three phase AC motor applications to reduce in-rush current and starting torque.",o=p.a.ceil(l,1);return{compatibility:r?"useful":"notuseful",compatibilityMessage:i,equipmentSize:o,estimatedCapex:Qe(o),estimatedEfficiency:Xe(o)}}(a,n,l,r,o);case"capacitorBank":return function(e,t,a,n){var l="AC"===e&&"AC"===t&&a<.9,r=l?"An appropriately sized capacitor bank may raise power factor of the appliance.":"A capacitor bank may not be useful.",i=p.a.ceil(n,1);return{compatibility:l?"useful":"notuseful",compatibilityMessage:r,equipmentSize:i,estimatedCapex:Je(i),estimatedEfficiency:_e(i)}}(a,n,i,o);case"threeFourPointDcMotorStarter":return function(e,t,a){var n="DC"===e&&"DC"===t,l=n?"A Three or Four Point Motor Starter may reduce starting current and improve power system voltage stability upon starting the appliance.":"A Three or Four Point Motor Starter may not be useful.",r=p.a.ceil(a,1);return{compatibility:n?"useful":"notuseful",compatibilityMessage:l,equipmentSize:r,estimatedCapex:$e(r),estimatedEfficiency:et(r)}}(a,n,o);default:F("Ancillary Equipment Rules: There is no rule for equipment type: ".concat(t))}}var Ge=function(e){return p.a.round(66.156*Math.pow(e,3)-560.06*Math.pow(e,2)+1588.3*e-1080.6)},ze=function(e){switch(!0){case e>=5:return.89;case e>=3:return.9;case e>=2:return.905;case e>=1.5:default:return.87}},Be=function(e){return p.a.round(1.5623*Math.pow(e,3)-48.062*Math.pow(e,2)+409.07*e+15.42)},qe=function(e){switch(!0){case e>.35:return.975;default:return.96}},Ne=function(e){return p.a.round(-.0497*Math.pow(e,3)+2.6451*Math.pow(e,2)+70.373*e+547.77)},He=function(e){return.965},Ve=function(e){return p.a.round(3.4533*Math.pow(e,3)-40.075*Math.pow(e,2)+166.22*e+148.25)},Ke=function(e){return.99},Ye=function(e){return p.a.round(.8516*Math.pow(e,3)-9.5437*Math.pow(e,2)+37.417*e+75.889)},Ze=function(e){return 1},Qe=function(e){return p.a.round(8.3978*Math.pow(e,3)-96.274*Math.pow(e,2)+347.15*e-130.59)},Xe=function(e){return 1},Je=function(e){return p.a.round(-.505*Math.pow(e,3)+6.7948*Math.pow(e,2)+14.093*e+266.85)},_e=function(e){return 1},$e=function(e){return 0},et=function(e){return 1},tt=E.types.model({equipmentType:E.types.enumeration("equipmentType",["powerConverter","inverter","vfd","softStarter","directOnlineStarter","starDeltaStarter","capacitorBank","threeFourPointDcMotorStarter"]),label:E.types.maybeNull(E.types.string),description:E.types.maybeNull(E.types.string),enabled:E.types.boolean,compatibility:E.types.maybeNull(E.types.enumeration("compatibility",["required","useful","notuseful"])),compatibilityMessage:E.types.maybeNull(E.types.string),equipmentSize:E.types.maybeNull(E.types.number),capex:E.types.maybeNull(E.types.number),estimatedCapex:E.types.maybeNull(E.types.number),capexAssignment:E.types.enumeration("capexAssignment",["grid","appliance"]),efficiencyRating:E.types.maybeNull(E.types.number),estimatedEfficiency:E.types.maybeNull(E.types.number),defaultsAreSet:E.types.boolean,cardIsOpen:E.types.maybeNull(E.types.boolean),modelInputValues:E.types.frozen(),modelInputErrors:E.types.frozen()}).actions(function(e){return{onModelInputChange:function(t,a,n){var l=p.a.clone(e.modelInputValues),r=p.a.clone(e.modelInputErrors);l[t]=a,r[t]=n,e.modelInputValues=l,e.modelInputErrors=r},onModelInputBlur:function(t,a,n){Boolean(n)?console.log("Value not saved to store"):e[t]=0===a?0:a||""},updateValues:function(t){var a=We(t);e.compatibility=a.compatibility,e.compatibilityMessage=a.compatibilityMessage,e.equipmentSize=a.equipmentSize,e.estimatedCapex=a.estimatedCapex,e.estimatedEfficiency=a.estimatedEfficiency,e.readyToSetDefaults&&(e.enabled="required"===e.compatibility,e.capex=e.estimatedCapex,e.efficiencyRating=e.estimatedEfficiency,e.modelInputValues={equipmentSize:t.applSize,capex:e.estimatedCapex,efficiencyRating:e.estimatedEfficiency},e.defaultsAreSet=!0)},handleEnabledToggle:function(){e.enabled=!e.enabled},handleCapexAssignmentChange:function(t,a){t.preventDefault(),e.capexAssignment=a.value},toggleCard:function(t){p.a.isBoolean(t)?e.cardIsOpen=t:e.cardIsOpen=!Boolean(e.cardIsOpen)}}}).views(function(e){return{get readyToSetDefaults(){return p.a.every([!e.defaultsAreSet,e.compatibility,p.a.isFinite(e.equipmentSize),p.a.isFinite(e.estimatedCapex),p.a.isFinite(e.estimatedEfficiency)])},get parentApplianceSize(){return Object(E.hasParent)(e,2)?Object(E.getParent)(e,2).nominalPower:null}}}),at={enabled:!1,compatibility:null,compatibilityMessage:"",equipmentSize:null,capex:null,estimatedCapex:null,capexAssignment:"appliance",efficiencyRating:null,estimatedEfficiency:null,defaultsAreSet:!1,cardIsOpen:!1,modelInputValues:{},modelInputErrors:{}};var nt=E.types.model({enabled:E.types.boolean,fileInfo:E.types.frozen(),fileData:E.types.frozen(),label:E.types.string,description:E.types.string,fileImportErrors:E.types.array(E.types.string),fileImportWarnings:E.types.array(E.types.string),applianceType:E.types.enumeration("applianceType",Ue.applianceType.enumerations),capex:E.types.number,capexAssignment:E.types.enumeration("capexAssignment",Ue.capexAssignment.enumerations),powerType:E.types.maybeNull(E.types.enumeration("powerType",Ue.powerType.enumerations)),phase:E.types.maybeNull(E.types.number),hasMotor:E.types.maybeNull(E.types.boolean),powerFactor:E.types.maybeNull(E.types.number),nominalPower:E.types.maybeNull(E.types.number),dutyCycleDerateFactor:E.types.maybeNull(E.types.number),seasonalDerateFactor:E.types.maybeNull(E.types.number),productionUnitType:E.types.maybeNull(E.types.string),productionUnitsPerKwh:E.types.maybeNull(E.types.number),revenuePerProductionUnits:E.types.maybeNull(E.types.number),ancillaryEquipment:E.types.array(tt),cardIsOpen:E.types.maybeNull(E.types.boolean),fileIsSelected:E.types.boolean,isAnalyzingFile:E.types.boolean,applianceSaved:E.types.boolean,modelInputValues:E.types.frozen(),modelInputErrors:E.types.frozen()}).actions(function(e){return{runInAction:function(e){return e()},onModelInputChange:function(t,a,n){var l=p.a.clone(e.modelInputValues),r=p.a.clone(e.modelInputErrors);l[t]=a,r[t]=n,e.modelInputValues=l,e.modelInputErrors=r},onModelInputBlur:function(t,a,n){Boolean(n)?console.log("Value not saved to store"):e[t]=0===a?0:a||""},handleApplianceFileUpload:function(t){e.fileIsSelected=!0,e.isAnalyzingFile=!0;var a=t.name,n=t.size,l=t.type,r=se(),i={id:"".concat(a,"_").concat(r),timeStamp:r,fileType:"appliance",name:a,size:n,isSample:!1,mimeType:l};k.a.parse(t,Object(C.a)({},ee,{complete:function(t){var n=Oe(t,i),l=ue(a);e.runInAction(function(){e.label=l,e.modelInputValues=Object(C.a)({},e.modelInputValues,{label:l}),e.updateModel(n),e.ancillaryEquipment=p.a.map(x,function(e){return tt.create(Object(C.a)({},e,at))})})},error:function(e){return console.log("error: ",e)}}))},loadFile:Object(E.flow)(u.a.mark(function t(a){var n;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.isAnalyzingFile=!0,!e.fileInfo.isSample){t.next=7;break}return t.next=4,Pe(a,window.location);case 4:t.t0=t.sent,t.next=10;break;case 7:return t.next=9,Me(a);case 9:t.t0=t.sent;case 10:n=t.t0,e.updateModel(n),e.isAnalyzingFile=!1;case 13:case"end":return t.stop()}},t)})),updateModel:function(t){e.runInAction(function(){e.fileInfo=t.fileInfo,e.fileData=t.fileData,e.fileImportErrors=t.fileImportErrors,e.fileImportWarnings=t.fileImportWarnings,e.isAnalyzingFile=!1})},toggleAppliance:function(t){t.preventDefault(),e.enabled=!e.enabled},handleCapexAssignmentChange:function(t,a){t.preventDefault(),e.capexAssignment=a.value},handlePowerTypeChange:function(t,a){t.preventDefault(),e.powerType=a.value},handlePhaseChange:function(t,a){t.preventDefault(),e.phase=a.value},handleHasMotorChange:function(t,a){t.preventDefault(),e.hasMotor=a.value},toggleCard:function(t){p.a.isBoolean(t)?e.cardIsOpen=t:e.cardIsOpen=!Boolean(e.cardIsOpen)}}}).views(function(e){return{get showAnalyzedResults(){return!Object(E.getParent)(e).viewedApplianceIsStaged||e.fileIsSelected&&!e.isAnalyzingFile},get calculatedApplianceColumns(){return function(e){if(p.a.isEmpty(e.fileData))return[];var t=e.nominalPower,a=e.dutyCycleDerateFactor,n=e.productionUnitsPerKwh,l=e.revenuePerProductionUnits,r=e.ancillaryEquipmentEfficiency;return p.a.map(e.fileData,function(e){var i=e.kwFactor*t*a,o=i/r-i,c=i*n,s=l*c;return Object(C.a)({},e,{newApplianceLoad:p.a.round(i,4),newApplianceAncillaryLoad:p.a.round(o,4),productionUnits:p.a.round(c,4),productionUnitsRevenue:p.a.round(s,4)})})}(e)},get applianceSummaryStats(){return function(e){if(p.a.isEmpty(e))return{};var t=p.a.sumBy(e,"newApplianceLoad"),a=p.a.sumBy(e,"productionUnits"),n=p.a.sumBy(e,"productionUnitsRevenue"),l=p.a.sumBy(e,"ancillaryEquipmentLoad");return{yearlyApplianceLoad:p.a.round(t,4),yearlyAncillaryEquipmentLoad:p.a.round(l,4),yearlyProductionUnits:p.a.round(a,4),yearlyProductionUnitsRevenue:p.a.round(n,4)}}(e.calculatedApplianceColumns)},get prettyFileSize(){return S()(e.fileInfo.size)},get enabledAncillaryEquipment(){return p.a.filter(e.ancillaryEquipment,function(e){return e.enabled})},get enabledAncillaryEquipmentLabels(){return p()(e.enabledAncillaryEquipment).map(function(e){return e.label}).compact().value()},get requiredAncillaryEquipment(){return p.a.filter(e.ancillaryEquipment,function(e){return"required"===e.compatibility})},get usefulAncillaryEquipment(){return p.a.filter(e.ancillaryEquipment,function(e){return"useful"===e.compatibility})},get notusefulAncillaryEquipment(){return p.a.filter(e.ancillaryEquipment,function(e){return"notuseful"===e.compatibility})},get ancillaryEquipmentEfficiency(){return function(e){if(p.a.isEmpty(e))return 1;var t=p()(e).map("efficiencyRating").compact().value();return p.a.multiply.apply(p.a,Object(W.a)(t))}(e.enabledAncillaryEquipment)},get inputErrorList(){return p.a.compact(p.a.values(e.modelInputErrors))},get fileReadyToSave(){var t=0===p.a.size(e.inputErrorList);return p.a.every([e.label,e.description,e.powerType,e.hasMotor,e.phase,e.productionUnitType,p.a.isFinite(e.nominalPower),p.a.isFinite(e.productionUnitsPerKwh),p.a.isFinite(e.revenuePerProductionUnits),p.a.isFinite(e.powerFactor),p.a.isFinite(e.dutyCycleDerateFactor),p.a.isEmpty(e.fileImportErrors),t])}}}),lt={enabled:!1,fileInfo:{},fileData:[],label:"",description:"",fileImportErrors:[],fileImportWarnings:[],applianceType:"",capex:0,capexTempValue:"",capexInputError:!1,capexAssignment:"appliance",powerType:null,phase:null,hasMotor:null,powerFactor:null,nominalPower:null,dutyCycleDerateFactor:1,seasonalDerateFactor:null,productionUnitType:null,productionUnitsPerKwh:null,revenuePerProductionUnits:null,cardIsOpen:!1,fileIsSelected:!1,isAnalyzingFile:!1,applianceSaved:!1,modelInputValues:{},modelInputErrors:{}},rt=f.RouterModel.create(),it=Object(f.syncHistoryWithStore)(Object(v.a)(),rt);function ot(){var e="12-50 Oversize 20_2019-02-16T20:34:25.937-07:00",t=w.concat([]),a=A.concat([]),n={availableGrids:p.a.map(t,function(t){return Le.create(Object(C.a)({},De,{isActive:t.id===e},Object(C.a)({},t.attributes),{modelInputValues:Object(C.a)({},t.attributes)},{fileInfo:p.a.omit(t,["attributes"])}))}),stagedGrid:null,viewedGridId:e,appliancesAreLoading:!0,appliances:p.a.map(a,function(e){return nt.create(Object(C.a)({},lt,{enabled:"rice_mill_usage_profile_2019-02-16T20:33:55.583-07:00"===e.id},{applianceType:e.applianceType},Object(C.a)({},e.attributes),{modelInputValues:Object(C.a)({},e.attributes)},{fileInfo:p.a.omit(e,["attributes"])},{ancillaryEquipment:p.a.map(x,function(e){return tt.create(Object(C.a)({},e,at))})}))}),viewedApplianceId:"rice_mill_usage_profile_2019-02-16T20:33:55.583-07:00",excludedTableColumns:[],router:rt,appIsSaved:!0,appIsSavedTimestamp:null};return Object(C.a)({},Ut,n)}function ct(){return st.apply(this,arguments)}function st(){return(st=Object(b.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",g.a.getItem("latest").then(function(e){var t=!Ft.is(e);return{initialState:t?ot():e,isFreshState:t}}).catch(function(e){return F(e)}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ut(){return mt.apply(this,arguments)}function mt(){return(mt=Object(b.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",g.a.getItem("user").then(function(e){return{userName:p.a.has(e,"userName")?e.userName:null,userEmail:p.a.has(e,"userEmail")?e.userEmail:null}}).catch(function(e){return F(e)}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function pt(e,t,a){if(p.a.isEmpty(e)||p.a.isEmpty(t)||p.a.isEmpty(a))return{};var n=p.a.sumBy(t,"originalModeledUnmetLoadCount"),l=fe(n),r=pe(t,"originalModeledUnmetLoad"),i=p.a.sumBy(t,"newAppliancesUnmetLoadCount"),o=fe(i),c=pe(t,"newAppliancesUnmetLoad"),s=p.a.sumBy(t,"totalUnmetLoadCount"),u=fe(s),m=pe(t,"totalUnmetLoad"),d=p.a.sumBy(t,"originalModeledExcessProductionCount"),E=fe(d),y=pe(t,"originalModeledExcessProduction"),f=p.a.sumBy(t,"newAppliancesExcessProductionCount"),h=fe(f),g=pe(t,"newAppliancesExcessProduction"),b=p.a.sumBy(t,"totalExcessProductionCount"),C=fe(b),v=pe(t,"totalExcessProduction"),w=r*e.unmetLoadCostPerKwh,A=m*e.unmetLoadCostPerKwh,x=c*e.unmetLoadCostPerKwh,O=pe(t,"originalElectricLoadServed"),k=pe(t,"newAppliancesLoad"),I=O+k,S=k*e.retailElectricityPrice,T=S,M=k*e.wholesaleElectricityCost,j=M+x,P=p.a.filter(a,function(e){return"grid"===e.capexAssignment}),R=p.a.filter(a,function(e){return"appliance"===e.capexAssignment}),L=p.a.sumBy(R,"capex"),D=p.a.sumBy(P,"capex"),F=function(e){var t=p.a.flatMap(e,function(e){return e.ancillaryEquipment}),a=p.a.filter(t,function(e){return e.enabled&&"grid"===e.capexAssignment}),n=p.a.filter(t,function(e){return e.enabled&&"appliance"===e.capexAssignment});return{ancillaryCapexAssignedToGrid:p.a.sumBy(a,"capex"),ancillaryCapexAssignedToAppliance:p.a.sumBy(n,"capex")}}(a),U=F.ancillaryCapexAssignedToAppliance,W=F.ancillaryCapexAssignedToGrid,G=L+U,z=D+W,B=function(e){if(p.a.isEmpty(e))return 0;if(p.a.size(e)>1)return"Multiple";return p.a.round(e[0].applianceSummaryStats.yearlyProductionUnits)}(a),q=function(e){if(p.a.isEmpty(e))return"-";if(p.a.size(e)>1)return"Multiple";return e[0].productionUnitType}(a),N=p.a.sumBy(t,"productionUnitsRevenue"),H=S-M-x,V=N-T,K=ie(H,z),Y=ie(V,G),Z=oe(H,z),Q=oe(V,G);return{originalUnmetLoadCount:n,originalUnmetLoadCountPercent:l,originalUnmetLoadSum:p.a.round(r),newAppliancesUnmetLoadCount:i,newAppliancesUnmetLoadCountPercent:o,newAppliancesUnmetLoadSum:p.a.round(c),totalUnmetLoadCount:s,totalUnmetLoadCountPercent:u,totalUnmetLoadSum:p.a.round(m),originalUnmetLoadCost:p.a.round(w),totalUnmetLoadCost:p.a.round(A),newAppliancesUnmetLoadCost:p.a.round(x),originalExcessProductionCount:d,originalExcessProductionCountPercent:E,originalExcessProductionSum:p.a.round(y),newAppliancesExcessProductionCount:f,newAppliancesExcessProductionCountPercent:h,newAppliancesExcessProductionSum:p.a.round(g),totalExcessProductionCount:b,totalExcessProductionCountPercent:C,totalExcessProductionSum:p.a.round(v),originalElectricLoadSum:p.a.round(O),newAppliancesLoadSum:p.a.round(k),totalElectricalLoadSum:p.a.round(I),newAppliancesGridRevenue:p.a.round(S),newAppliancesApplianceOwnerOpex:p.a.round(T),newAppliancesWholesaleElectricityCost:p.a.round(M),gridOperatorNewAppliancesOpex:p.a.round(j),yearlyProductionUnits:B,productionUnitType:q,yearlyProductionUnitsRevenue:p.a.round(N),applianceCapexAssignedToAppliance:p.a.round(L),applianceCapexAssignedToGrid:p.a.round(D),ancillaryCapexAssignedToAppliance:p.a.round(U),ancillaryCapexAssignedToGrid:p.a.round(W),totalCapexAssignedToAppliance:p.a.round(G),totalCapexAssignedToGrid:p.a.round(z),gridOperatorNewAppliancesNetIncome:p.a.round(H),applianceOperatorNewAppliancesNetIncome:p.a.round(V),gridOwnerRoi:p.a.round(K),applianceOwnerRoi:p.a.round(Y),gridOwnerPayback:p.a.isFinite(Z)?p.a.round(Z,1):Z,applianceOwnerPayback:p.a.isFinite(Q)?p.a.round(Q,1):Q}}var dt=["hourOfDay","dayOfWeek","month","hourOfWeek"],Et={load:["originalElectricLoadServed"],unmetLoad:["originalModeledUnmetLoad"],excessProduction:["originalModeledExcessProduction"]},yt={load:["newAppliancesLoad","newAppliancesAncillaryLoad"],unmetLoad:["newAppliancesUnmetLoad"],excessProduction:["newAppliancesExcessProduction"]},ft={load:["totalElectricalLoadServed"],unmetLoad:["totalUnmetLoad"],excessProduction:["totalExcessProduction"]};var ht=p.a.mergeWith(Et,yt,function(e,t){return p.a.isArray(e)?e.concat(t):null}),gt=p.a.flatten(p.a.concat(p.a.values(Et),p.a.values(yt),p.a.values(ft))),bt={newAppliancesLoad:"originalElectricLoadServed",newAppliancesUnmetLoad:"originalModeledUnmetLoad",newAppliancesExcessProduction:"originalModeledExcessProduction"};function Ct(e){if(p.a.isEmpty(e))return{};console.log("calculating calcTimeSegments");var t=function(e){if(p.a.isEmpty(e))return{};return{hourOfDay:p.a.groupBy(e,"hourOfDay"),dayOfWeek:p.a.groupBy(e,"dayOfWeek"),month:p.a.groupBy(e,"month"),hourOfWeek:p.a.groupBy(e,"hourOfWeek")}}(e),a=p.a.flatMap(dt,function(e){return[["average_".concat(e,"_hist"),(a=t[e],n=gt,l=e,p.a.map(a,function(e,t){var a=p.a.map(n,function(t){return[t,p.a.round(p.a.sumBy(e,t)/p.a.size(e),2)]});return Object(C.a)(Object(U.a)({},l,t),p.a.fromPairs(a))}))],["sum_".concat(e,"_hist"),vt(t[e],gt,e)],["count_".concat(e,"_hist"),wt(t[e],gt,e,bt)]];var a,n,l});return p.a.fromPairs(a)}function vt(e,t,a){return p.a.map(e,function(e,n){var l=p.a.map(t,function(t){return[t,p.a.round(p.a.sumBy(e,t))]});return Object(C.a)(Object(U.a)({},a,n),p.a.fromPairs(l))})}function wt(e,t,a,n){var l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;return p.a.map(e,function(e,r){var i=p.a.map(t,function(t){var a=p.a.filter(e,function(e){return p.a.has(n,t)?function(e,t,a,n){var l=p.a.round(e[a],n),r=p.a.round(e[t],n);return!(l>0)&&r>0}(e,t,n[t],l):p.a.round(e[t],l)>0});return[t,p.a.size(a)]});return Object(C.a)(Object(U.a)({},a,r),p.a.fromPairs(i))})}var At=p.a.map(p.a.range(0,8760),function(e){return{hour:e,hourOfDay:null,dayOfWeek:null,month:null,hourOfWeek:null,newAppliancesLoad:0,productionUnitsRevenue:0}});var xt=[["hour","-"],["datetime","-"],["hourOfDay","-"],["totalElectricalLoadServed","kW"],["electricalProductionLoadDiff","kW"],["batteryEnergyContent","kWh"],["originalUnmetLoad","kW"],["totalUnmetLoad","kW"],["newAppliancesUnmetLoad","kW"],["originalExcessProduction","kW"],["totalExcessProduction","kW"],["newAppliancesExcessProduction","kW"]],Ot=[["Global Solar","kW/m2"],["PV Solar Altitude","\xc2\xb0"],["PV Solar Azimuth","\xc2\xb0"],["PV Angle of Incidence","\xc2\xb0"],["PV Incident Solar","kW/m2"],["PV Power Output","kW"],["AC Primary Load","kW"],["AC Primary Load Served","kW"],["Original Electrical Load Served","kW"],["Renewable Penetration","%"],["Capacity Shortage","kW"],["Total Renewable Power Output","kW"],["totalElectricalProduction","kW"],["originalElectricalProductionLoadDiff","kW"],["originalBatteryEnergyContent","kWh"],["originalModeledBatteryEnergyContent","kWh"],["Inverter Power Input","kW"],["Inverter Power Output","kW"],["Rectifier Power Input","kW"],["Rectifier Power Output","kW"],["Original Battery Maximum Charge Power","kW"],["Original Battery Maximum Discharge Power","kW"],["Original Battery Charge Power","kW"],["Original Battery Discharge Power","kW"],["Original Battery Input Power","kW"],["Original Battery State of Charge","%"],["Original Battery Energy Cost","$/kWh"],["Original Battery Temperature","C"],["Original Battery Degradation - Time and Temperature","%"],["Original Battery Degradation - Cycling","%"],["Original Battery Equivalent Cycles","cycles"],["AC Required Operating Capacity","kW"],["DC Required Operating Capacity","kW"],["AC Operating Capacity","kW"],["DC Operating Capacity","kW"]],kt=[["newAppliancesLoad","kW"],["newAppliancesAncillaryLoad","kW"],["productionUnitsRevenue","$"],["hourOfWeek","-"],["kwFactor","-"]],It=xt.concat(Ot,kt),St=p.a.map(It,function(e){return p.a.first(e)}),Tt=p.a.fromPairs(It),Mt=p()(xt).fromPairs().mapValues(function(e){return"hybridColumns"}).value(),jt=p()(Ot).fromPairs().mapValues(function(e){return"homer"}).value(),Pt=p()(kt).fromPairs().mapValues(function(e){return"appliance"}).value(),Rt=Object(C.a)({},Mt,jt,Pt),Lt=a(885);function Dt(e,t){switch(e){case"init":return console.log("Initializing Sentry Error logging for ALL environments"),void Lt.a({dsn:"https://89977b0faa6a4d1aa58dd8dd1eb469ca@sentry.io/1325177"});case"user":return function(e){var t=e.userName,a=e.userEmail;D.b(function(e){e.setUser({username:t,email:a})}),p.a.isFunction(window.heap.identify)?window.heap.identify(function(e){var t=e.userName,a=e.userEmail;return"".concat(p.a.kebabCase(t),"|").concat(a)}(e)):D.a(new Error("heap.identify is not a function"))}(t);default:throw new Error("loggerConfig was passed an unknown command: ".concat(e))}}g.a.config({name:"factore_microgrid_analysis_tool",storeName:"savedState"});var Ft=E.types.model({availableGrids:E.types.optional(E.types.array(Le),[]),stagedGrid:E.types.maybeNull(Le),viewedGridId:E.types.maybeNull(E.types.string),appliancesAreLoading:E.types.boolean,appliances:E.types.optional(E.types.array(nt),[]),stagedAppliance:E.types.maybeNull(nt),viewedApplianceId:E.types.maybeNull(E.types.string),timeSegmentsMetric:E.types.enumeration("timeSegmentsMetric",["load","unmetLoad","excessProduction"]),timeSegmentsAggregation:E.types.maybeNull(E.types.enumeration("timeSegmentsAggregation",["average","sum","count"])),timeSegmentsBy:E.types.maybeNull(E.types.enumeration("timeSegmentsBy",dt)),excludedTableColumns:E.types.optional(E.types.array(E.types.string),[]),router:f.RouterModel,appIsSaved:E.types.boolean,appIsSavedTimestamp:E.types.maybeNull(E.types.Date),fileImportWarningIsActive:E.types.maybeNull(E.types.boolean),userName:E.types.maybeNull(E.types.string),userEmail:E.types.maybeNull(E.types.string)}).actions(function(e){return{afterCreate:function(){e.initializeMainStore()},initializeMainStore:Object(E.flow)(u.a.mark(function t(){var a,n,l,r,i,o;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ct();case 2:return a=t.sent,n=a.initialState,l=a.isFreshState,Object(E.applySnapshot)(e,n),l&&(e.loadAvailableGrids(),e.loadAppliances()),t.next=9,ut();case 9:r=t.sent,i=r.userName,o=r.userEmail,e.userName=i,e.userEmail=o,Dt("init"),Dt("user",{userName:e.userName,userEmail:e.userEmail});case 16:case"end":return t.stop()}},t)})),loadActiveGrid:Object(E.flow)(u.a.mark(function t(){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.activeGridIsLoading=!0,t.next=3,e.activeGrid.loadFile(e.activeGrid.fileInfo);case 3:e.activeGridIsLoading=!1,e.loadAvailableGrids();case 5:case"end":return t.stop()}},t)})),loadAvailableGrids:Object(E.flow)(u.a.mark(function t(){var a,n,l,r,i,o;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a=!0,n=!1,l=void 0,t.prev=3,r=e.availableGrids[Symbol.iterator]();case 5:if(a=(i=r.next()).done){t.next=12;break}return o=i.value,t.next=9,o.loadFile(o.fileInfo);case 9:a=!0,t.next=5;break;case 12:t.next=18;break;case 14:t.prev=14,t.t0=t.catch(3),n=!0,l=t.t0;case 18:t.prev=18,t.prev=19,a||null==r.return||r.return();case 21:if(t.prev=21,!n){t.next=24;break}throw l;case 24:return t.finish(21);case 25:return t.finish(18);case 26:case"end":return t.stop()}},t,null,[[3,14,18,26],[19,,21,25]])})),loadAppliances:Object(E.flow)(u.a.mark(function t(){var a,n,l,r,i,o;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.appliancesAreLoading=!0,a=!0,n=!1,l=void 0,t.prev=4,r=e.appliances[Symbol.iterator]();case 6:if(a=(i=r.next()).done){t.next=13;break}return o=i.value,t.next=10,o.loadFile(o.fileInfo);case 10:a=!0,t.next=6;break;case 13:t.next=19;break;case 15:t.prev=15,t.t0=t.catch(4),n=!0,l=t.t0;case 19:t.prev=19,t.prev=20,a||null==r.return||r.return();case 22:if(t.prev=22,!n){t.next=25;break}throw l;case 25:return t.finish(22);case 26:return t.finish(19);case 27:e.appliancesAreLoading=!1;case 28:case"end":return t.stop()}},t,null,[[4,15,19,27],[20,,22,26]])})),setActiveGridFile:function(t){Object(d.runInAction)(function(){e.availableGrids.forEach(function(e){e.isActive=e.fileInfo.id===t})})},setExcludedTableColumns:function(t){p.a.includes(e.excludedTableColumns,t)?e.excludedTableColumns=p.a.without(e.excludedTableColumns,t):e.excludedTableColumns.push(t),e.saveAppState()},handleTimeSegmentsMetricChange:function(t,a){var n=a.value;e.timeSegmentsMetric=n},handleTimeSegmentsAggregationChange:function(t,a){var n=a.value;e.timeSegmentsAggregation=n},handleTimeSegmentsByChange:function(t,a){var n=a.value;e.timeSegmentsBy=n},setViewedGridId:function(t){e.viewedGridId=t},createStagedGrid:function(){e.stagedGrid=Le.create(De)},cancelStagedGrid:function(){Object(E.destroy)(e.stagedGrid),e.viewedGridId=null},saveStagedGrid:function(){var t=e.stagedGrid.fileInfo.id,a=Object(E.getSnapshot)(e.stagedGrid);Object(E.destroy)(e.stagedGrid),e.availableGrids.push(Le.create(a)),e.viewedGridId=t,e.setActiveGridFile(t),e.saveAppState()},createStagedAppliance:function(){e.stagedAppliance=nt.create(lt)},cancelStagedAppliance:function(){Object(E.destroy)(e.stagedAppliance),e.viewedApplianceId=null},saveStagedAppliance:function(){var t=e.stagedAppliance.fileInfo.id,a=Object(E.getSnapshot)(e.stagedAppliance);Object(E.destroy)(e.stagedAppliance),e.appliances.push(nt.create(a)),e.viewedApplianceId=t,e.saveAppState()},deleteApplianceFile:function(t){var a=p.a.find(e.appliances,function(e){return e.fileInfo.id===t}),n=p.a.filter(e.appliances,function(e){return e.fileInfo.id!==t})[0].fileInfo.id;Object(d.runInAction)(function(){e.viewedApplianceId=n,Object(E.destroy)(a)}),e.saveAppState()},deleteGridFile:function(t){var a=p.a.find(e.availableGrids,function(e){return e.fileInfo.id===t}),n=p.a.filter(e.availableGrids,function(e){return e.fileInfo.id!==t})[0].fileInfo.id;Object(d.runInAction)(function(){e.setActiveGridFile(n),e.viewedGridId=n,Object(E.destroy)(a)}),e.saveAppState()},setViewedApplianceId:function(t){e.viewedApplianceId=t},openFileImportWarningModal:function(){e.fileImportWarningIsActive=!0},closeFileImportWarningModal:function(){e.fileImportWarningIsActive=!1},handleCardExpansion:function(t){e.activeGrid.toggleCard(t),p.a.forEach(e.enabledAppliances,function(e){e.toggleCard(t),p.a.forEach(e.enabledAncillaryEquipment,function(e){return e.toggleCard(t)})})},setAppSavedState:function(){e.appIsSaved=!0,e.appIsSavedTimestamp=Date.now(),console.log("app saved")},saveAppState:function(){g.a.setItem("latest",Object(E.getSnapshot)(e)).then(function(){return e.setAppSavedState(!0)}).catch(function(t){return e.openFileImportWarningModal()})},clearAppState:function(){g.a.clear().then(function(){e.closeFileImportWarningModal(),e.refreshApp()}).catch(function(e){return console.log(e)})},refreshApp:function(){it.push("/"),window.location.reload(!0)},handleUserInfoChange:function(t,a){var n=a.name,l=a.value;t.preventDefault(),e[n]=l},saveUserInfo:function(t){t.preventDefault(),g.a.setItem("user",{userName:e.userName,userEmail:e.userEmail}).then(function(){return console.log("saved user data")}).catch(function(t){return e.openFileImportWarningModal()}),Dt("user",{userName:e.userName,userEmail:e.userEmail})}}}).views(function(e){return{get activeGrid(){return p.a.find(e.availableGrids,function(e){return e.isActive})},get inActiveGrids(){return p.a.filter(e.availableGrids,function(e){return!e.isActive})},get summedApplianceColumns(){return function(e){if(p.a.isEmpty(e))return At;var t=p.a.zip.apply(p.a,Object(W.a)(p.a.map(e,"calculatedApplianceColumns")));return p.a.map(t,function(e){var t=p.a.sumBy(e,"newApplianceLoad"),a=p.a.sumBy(e,"newApplianceAncillaryLoad"),n=p.a.sumBy(e,"productionUnitsRevenue");return{hour:e[0].hour,hourOfDay:e[0].hourOfDay,dayOfWeek:e[0].dayOfWeek,month:e[0].month,hourOfWeek:e[0].hourOfWeek,newAppliancesLoad:p.a.round(t,4),newAppliancesAncillaryLoad:p.a.round(a,4),productionUnitsRevenue:p.a.round(n,4)}})}(e.enabledAppliances)},get hybridColumns(){return function(e,t){if(p.a.isEmpty(e)||p.a.isEmpty(e.fileData)||p.a.isEmpty(t))return[];var a=e.batteryMinEnergyContent,n=e.batteryMaxEnergyContent;return p.a.reduce(e.fileData,function(e,l,r,i){var o=t[r],c=0===r?{}:e[r-1],s=o.newAppliancesLoad,u=l.totalElectricalProduction,m=l["Original Electrical Load Served"],d=m+s+o.newAppliancesAncillaryLoad,E=u-d,y=L({rowIndex:r,prevBatteryEnergyContent:0===r?l.originalBatteryEnergyContent:c.batteryEnergyContent,electricalProductionLoadDiff:E,batteryMinEnergyContent:a,batteryMaxEnergyContent:n}),f=y.batteryEnergyContent,h=y.totalExcessProduction,g=y.totalUnmetLoad,b=l["Original Unmet Electrical Load"],C=l.originalModeledUnmetLoad,v=p.a.round(C,N)>0?1:0,w=g-C<0?0:g-C,A=p.a.round(g,N)>0?1:0,x=A-v,O=l["Original Excess Electrical Production"],k=l.originalModeledExcessProduction,I=p.a.round(k,H)>0?1:0,S=h-k>0?0:h-k,T=p.a.round(h,H)>0?1:0,M=T-I;return e.push({hour:l.hour,datetime:l.Time,hourOfDay:o.hourOfDay,dayOfWeek:o.dayOfWeek,hourOfWeek:o.hourOfWeek,newAppliancesLoad:p.a.round(s,4),batteryEnergyContent:p.a.round(f,4),totalElectricalProduction:p.a.round(u,4),totalElectricalLoadServed:p.a.round(d,4),originalElectricLoadServed:p.a.round(m,4),electricalProductionLoadDiff:p.a.round(E,4),originalUnmetLoad:p.a.round(b,1),originalModeledUnmetLoad:p.a.round(C,1),originalModeledUnmetLoadCount:v,newAppliancesUnmetLoad:p.a.round(w,1),newAppliancesUnmetLoadCount:x,totalUnmetLoad:p.a.round(g,1),totalUnmetLoadCount:A,originalExcessProduction:p.a.round(O,4),originalModeledExcessProductionCount:I,newAppliancesExcessProduction:p.a.round(S,4),newAppliancesExcessProductionCount:M,totalExcessProduction:p.a.round(h,4),totalExcessProductionCount:T}),e},[])}(e.activeGrid,e.summedApplianceColumns)},get combinedTable(){return be(e.activeGrid.fileData,e.summedApplianceColumns,e.hybridColumns)},get summaryStats(){return pt(e.activeGrid,e.combinedTable,e.enabledAppliances)},get timeSegments(){return Ct(e.combinedTable)},get filteredCombinedTableHeaders(){return function(e,t,a){if(p.a.isEmpty(e))return[];var n=p.a.keys(p.a.first(e));return p.a.filter(a,function(e){return!p.a.includes(t,e)&&p.a.includes(n,e)})}(e.combinedTable,e.excludedTableColumns,St)},get percentTableColumnsShowing(){return p.a.round(p.a.size(e.filteredCombinedTableHeaders)/p.a.size(St)*100)},get viewedGridIsStaged(){return"staged"===e.viewedGridId},get viewedGrid(){return p.a.isEmpty(e.availableGrids)?null:e.viewedGridIsStaged?e.stagedGrid:p.a.find(e.availableGrids,function(t){return t.fileInfo.id===e.viewedGridId})},get viewedApplianceIsStaged(){return"staged"===e.viewedApplianceId},get viewedAppliance(){return e.viewedApplianceIsStaged?e.stagedAppliance:p.a.find(e.appliances,function(t){return t.fileInfo.id===e.viewedApplianceId})},get enabledAppliances(){return p.a.filter(e.appliances,function(e){return e.enabled})},get multipleAppliancesEnabled(){return p.a.size(e.enabledAppliances)>1},get noAppliancesEnabled(){return 0===p.a.size(e.enabledAppliances)},get enabledApplianceLabels(){return function(e){var t=p.a.map(e,function(e){return e.label}),a=p.a.size(t);return 0===a?"No Appliances Selected":a>2?"".concat(a," Appliances Selected"):t.join(", ")}(e.enabledAppliances)},get ancillaryEquipmentLabels(){return function(e){var t=p.a.size(e);if(0===t)return"No equipment selected";if(1===t){var a=e[0].enabledAncillaryEquipmentLabels;return p.a.isEmpty(a)?"-":a.join(", ")}return"Multiple Appliances"}(e.enabledAppliances)},get maxApplianceLoad(){return function(e){var t=p.a.maxBy(e,"totalElectricalLoadServed");return{maxLoadValue:t.totalElectricalLoadServed,maxLoadFirstHour:t.hour}}(e.combinedTable)}}}),Ut={availableGrids:[],stagedGrid:null,viewedGridId:null,appliancesAreLoading:!0,appliances:[],viewedApplianceId:null,excludedTableColumns:[],timeSegmentsMetric:"load",timeSegmentsAggregation:"average",timeSegmentsBy:"hourOfDay",router:f.RouterModel.create(),appIsSaved:!0,appIsSavedTimestamp:null,fileImportWarningIsActive:!1,userName:"",userEmail:""},Wt=Ft.create(Ut);window.mainStore=Wt,Object(y.a)(Wt,"activeGrid"),p.a.forEach(Wt.appliances,function(e){Object(y.a)(e,"calculatedApplianceColumns"),Object(y.a)(e,"applianceSummaryStats")}),Object(d.autorun)(function(){if(p.a.isEmpty(Wt.activeGrid)||p.a.isEmpty(Wt.appliances))return null;Wt.appliances.forEach(function(e){e.ancillaryEquipment.forEach(function(t){t.updateValues({equipmentType:t.equipmentType,gridPowerType:Wt.activeGrid.powerType,applPowerType:e.powerType,applHasMotor:e.hasMotor,applPhase:e.phase,applPowerFactor:e.powerFactor,applSize:e.nominalPower,ancillaryEquipmentList:x})})})});var Gt=a(893),zt=a(894),Bt=a(870),qt=a(143),Nt=function(e){return n.createElement(qt.a,Object.assign({exact:!0},e,{activeClassName:"active"}))},Ht=a(428),Vt=a.n(Ht),Kt=Object(c.b)("store")(Object(c.c)(function(e){var t=e.store,a=t.saveAppState,l=t.appIsSavedTimestamp;return n.createElement(Gt.a,null,n.createElement(Gt.a.Item,{header:!0,as:Nt,to:"/"},n.createElement("img",{src:Vt.a,style:{width:"20px",marginRight:"5px"},alt:"Factor[e] Microgrid Appliance Tool"}),"Microgrid Appliance Analysis Tool"),n.createElement(Gt.a.Menu,{position:"right"},n.createElement("div",{style:{paddingTop:"8px",paddingRight:"8px"}},n.createElement(zt.a,{position:"bottom center",inverted:!0,content:function(){return ne(l)},trigger:n.createElement(Bt.a,{content:"Save",icon:"save",size:"tiny",color:"blue",compact:!0,onClick:a,basic:!0})})),n.createElement(Gt.a.Item,{as:Nt,to:"/files/homer"},"Files"),n.createElement(Gt.a.Item,{as:Nt,to:"/about"},"About"),n.createElement(Gt.a.Item,{as:Nt,to:"/profile"},"User")))})),Yt=a(28),Zt=a(29),Qt=a(32),Xt=a(30),Jt=a(33),_t=a(882),$t=a(95),ea=a(889),ta=a(869),aa=a(886),na=a(879),la=a(896),ra=a(897),ia=a(888),oa=a(881),ca=a(880),sa=a(178),ua=(a(661),function(e){function t(e){var a;Object(Yt.a)(this,t),(a=Object(Qt.a)(this,Object(Xt.a)(t).call(this,e))).handleBlur=function(e){var t=a.props,n=t.fieldKey,l=t.modelInstance,r=l.onModelInputBlur,i=l.modelInputValues[n],o=Ue[n],c=Ea(i,o);switch(o.type){case"integer":r(n,parseInt(i,10),c);break;case"float":r(n,parseFloat(i),c);break;default:r(n,i,c)}},a.handleChange=function(e,t){var n=t.value,l=a.props.fieldKey,r=Ue[l],i=Ea(n,r);a.props.modelInstance.onModelInputChange(l,n,i)};var n=a.props,l=n.fieldKey,r=n.modelInstance;return p.a.isEmpty(r)&&F("Must supply modelInstance to input field"),p.a.isEmpty(r.onModelInputChange)&&F("modelInstance must have an onModelInputChange as an action"),p.a.isNil(l)&&F("fieldKey in InputField is required"),p.a.isNil(Ue[l])&&F("fieldKey passed in InputField is not found in fieldDefinitions: ".concat(l)),p.a.has(r[l])&&F("fieldKey passed in InputField is not found in model instance: ".concat(l)),p.a.has(r["".concat(l,"Temp")])&&F("".concat(l,"Temp passed in InputField is not found in model instance: ").concat(l,"Temp")),p.a.has(r["".concat(l,"Error")])&&F("".concat(l,"Error passed in InputField is not found in model instance: ").concat(l,"Error")),a}return Object(Jt.a)(t,e),Object(Zt.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.fieldKey,l=t.modelInstance,r=t.disabled,i=t.labelLeft,o=t.labelRight,c=t.size,s=t.type;if(p.a.isEmpty(l))return n.createElement("span",null,"Missing Data");var u=l.modelInputValues,m=l.modelInputErrors,d=Ue[a].units,E=0===u[a]?0:u[a]||"",y=Boolean(m[a]);return"textarea"===s?n.createElement("div",{className:"InputFieldWrapper"},n.createElement(aa.a,null,n.createElement(oa.a,{value:E,onChange:function(t){return e.handleChange(t,{value:t.target.value})},onBlur:this.handleBlur,disabled:r,style:{minWidth:"60px"}}))):i?n.createElement("div",{className:"InputFieldWrapper"},n.createElement(aa.a.Field,{error:y},n.createElement(ca.a,{labelPosition:o?"right":"left",type:"text",size:c||"mini",fluid:!0},n.createElement(sa.a,{basic:!0},i),n.createElement("input",{value:E,onChange:function(t){return e.handleChange(t,{value:t.target.value})},onBlur:this.handleBlur,disabled:r,style:{minWidth:"60px"}}),o&&n.createElement(sa.a,null,o)))):n.createElement("div",{className:"InputFieldWrapper"},n.createElement(ca.a,{value:E,onChange:this.handleChange,onBlur:this.handleBlur,error:y,size:c||"small",fluid:!0,disabled:r,style:{minWidth:"120px"},label:da(d,l),labelPosition:pa(d)}))}}]),t}(n.Component)),ma=Object(c.b)("store")(Object(c.c)(ua));function pa(e){return e?"$"===e?"left":"right":null}function da(e,t){if(!e)return null;var a=t.productionUnitType;return{basic:!0,content:p.a.includes(e,"productionUnitType")?p.a.replace(e,"productionUnitType",a||"-"):e}}var Ea=function(e,t){var a,n=!1;return"float"===t.type&&(n=!(null!=(a=e)&&""!==(""+a).trim()&&!isNaN(+a))&&"Field is not a float"),"integer"===t.type&&(n=!function(e){return null!=e&&""!==(""+e).trim()&&~~e===+e}(e)&&"Field is not an integer"),n},ya=Object(c.b)("store")(Object(c.c)(function(e){var t=e.store,a=t.appliancesAreLoading,n=t.enabledApplianceLabels;return l.a.createElement("div",Object.assign({},p.a.omit(e,["loading"]),{style:{cursor:"pointer"}}),n,a?l.a.createElement(_t.a,{active:!0,inline:!0,size:"tiny",style:{paddingLeft:"26px"}}):l.a.createElement($t.a,{name:"dropdown",style:{paddingLeft:"12px"}}))})),fa=Object(c.b)("store")(Object(c.c)(function(e){var t=e.store.appliances;return l.a.createElement(ea.a,{basic:"very",compact:!0},l.a.createElement(ea.a.Header,null,l.a.createElement(ea.a.Row,null,l.a.createElement(ea.a.HeaderCell,null,"Enable"),l.a.createElement(ea.a.HeaderCell,{style:{width:"200px"}},"Label"),l.a.createElement(ea.a.HeaderCell,{style:{width:"300px"}},"Description"),l.a.createElement(ea.a.HeaderCell,{style:{width:"120px"}},"Cost"),l.a.createElement(ea.a.HeaderCell,{collapsing:!0},"Cost Assignment"))),l.a.createElement(ea.a.Body,null,p.a.map(t,function(e){var t=e.fileInfo,a=e.label,n=e.description,r=e.capexAssignment,i=e.enabled,o=e.toggleAppliance,c=e.handleCapexAssignmentChange;return l.a.createElement(ea.a.Row,{key:t.id},l.a.createElement(ea.a.Cell,{collapsing:!0},l.a.createElement(ta.a,{toggle:!0,checked:i,onChange:o})),l.a.createElement(ea.a.Cell,null,a),l.a.createElement(ea.a.Cell,null,n),l.a.createElement(ea.a.Cell,null,l.a.createElement(ma,{fieldKey:"capex",modelInstance:e})),l.a.createElement(ea.a.Cell,null,l.a.createElement(aa.a,{style:{marginTop:"7px",marginBottom:"7px"}},l.a.createElement(aa.a.Field,null,l.a.createElement(na.a,{label:"Appliance Owner",name:"radioGroup",value:"appliance",checked:"appliance"===r,onChange:c})),l.a.createElement(aa.a.Field,{style:{marginBottom:0}},l.a.createElement(na.a,{label:"Grid Owner",name:"radioGroup",value:"grid",checked:"grid"===r,style:{marginBottom:"3px"},onChange:c})))))})))})),ha=function(e){function t(){var e,a;Object(Yt.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(Qt.a)(this,(e=Object(Xt.a)(t)).call.apply(e,[this].concat(l)))).setActiveGridFile=function(e,t){e.preventDefault(),a.props.store.setActiveGridFile(t.value)},a}return Object(Jt.a)(t,e),Object(Zt.a)(t,[{key:"render",value:function(){var e=this,t=this.props.store,a=t.activeGrid,n=t.availableGrids,r=t.activeGridIsLoading,i=t.ancillaryEquipmentLabels,o=p.a.map(n,function(t,n){var r=t.fileInfo.id===a.fileInfo.id;return{key:t.fileInfo.id,text:t.label,value:t.fileInfo.id,selected:r,onClick:e.setActiveGridFile,content:l.a.createElement(la.a,{as:"h5",icon:r?"square outline check":"square outline",content:t.label,subheader:t.description})}});return l.a.createElement(ra.a,{columns:"equal",padded:!0},l.a.createElement(ra.a.Row,null,l.a.createElement(ra.a.Column,null,l.a.createElement(la.a,{as:"h5",style:{marginBottom:4}},"Select Grid File:"),l.a.createElement(ia.a,{text:a.label,loading:r,options:o})),l.a.createElement(ra.a.Column,null,l.a.createElement(la.a,{as:"h5",style:{marginBottom:4}},"Select Appliance Usage Profile:"),l.a.createElement(zt.a,{flowing:!0,trigger:l.a.createElement(ya,null),content:l.a.createElement(fa,null),on:"click",position:"bottom center"})),l.a.createElement(ra.a.Column,null,l.a.createElement(la.a,{as:"h5",style:{marginBottom:4}},"Selected Ancillary Equipment"),i)))}}]),t}(n.Component),ga=Object(c.b)("store")(Object(c.c)(ha)),ba=Object(c.b)("store")(Object(c.c)(function(e){e.store;return n.createElement("div",{className:"main-wrapper",style:{padding:"20px"}},n.createElement(ra.a,null,n.createElement(ra.a.Row,null,n.createElement(ra.a.Column,{width:16},n.createElement("h3",null,"Data is Loading ",n.createElement(_t.a,{active:!0,inline:!0,size:"tiny"})))),n.createElement(ra.a.Row,null)))})),Ca=a(898),va={position:"relative",zIndex:"1000"},wa=function(e){var t=e.content,a=e.wide,l=e.inverted,r=void 0===l||l,i=e.position,o=void 0===i?"bottom left":i;return n.createElement(zt.a,{trigger:n.createElement($t.a,{name:"question circle outline",size:"small",color:"grey",style:va}),position:o,inverted:r,wide:a},n.createElement(zt.a.Content,null,t))},Aa=Object(c.b)("store")(Object(c.c)(function(e){var t=e.store.summaryStats,a=p.a.get(t,"newAppliancesGridRevenue","-"),l=p.a.get(t,"totalCapexAssignedToGrid","-"),r=p.a.get(t,"applianceCapexAssignedToGrid","-"),i=p.a.get(t,"ancillaryCapexAssignedToGrid","-"),o=p.a.get(t,"newAppliancesWholesaleElectricityCost","-"),c=p.a.get(t,"gridOperatorNewAppliancesOpex","-"),s=p.a.get(t,"newAppliancesUnmetLoadCost","-"),u=p.a.get(t,"gridOperatorNewAppliancesNetIncome","-"),m=p.a.get(t,"gridOwnerRoi","-"),d=p.a.get(t,"gridOwnerPayback","-");return n.createElement("div",null,n.createElement(la.a,{as:"h4"},"Economic Outputs"),n.createElement(ea.a,{basic:"very",collapsing:!0,compact:!0},n.createElement(ea.a.Body,null,n.createElement(ea.a.Row,null,n.createElement(ea.a.Cell,null,"CapEx - New Appliances"," ",n.createElement(wa,{content:"Upfront investment for all enabled appliances assigned to the grid operator. This does not include appliances that were represented in the original HOMER file."})),n.createElement(ea.a.Cell,{textAlign:"right"},"$ ",r)),n.createElement(ea.a.Row,null,n.createElement(ea.a.Cell,null,"CapEx - Ancillary Equipment"," ",n.createElement(wa,{content:"Upfront investment for all ancillary equipment assigned to the grid operator. Only enabled ancillary equipment is counted."})),n.createElement(ea.a.Cell,{textAlign:"right"},"$ ",i)),n.createElement(ea.a.Row,null,n.createElement(ea.a.Cell,null,"CapEx - New Appliances & Ancillary"," ",n.createElement(wa,{content:"Upfront investment for all enabled appliances and ancillary equipment assigned to grid operator."})),n.createElement(ea.a.Cell,{textAlign:"right"},"$ ",l)),n.createElement(ea.a.Row,null,n.createElement(ea.a.Cell,null,"Electricity Revenue"," ",n.createElement(wa,{content:"Grid operator's electricity revenue from all enabled appliances and any enabled ancillary equipment. This does not take into account revenue from loads represented in the original HOMER file."})),n.createElement(ea.a.Cell,{textAlign:"right"},"$ ",a)),n.createElement(ea.a.Row,null,n.createElement(ea.a.Cell,null,"Wholesale Electricity Costs"," ",n.createElement(wa,{content:"Grid operator's wholesale electricity cost from all enabled appliances and any enabled ancillary equipment. This does not take into account costs from loads represented in the original HOMER file."})),n.createElement(ea.a.Cell,{textAlign:"right"},"$ ",o)),n.createElement(ea.a.Row,null,n.createElement(ea.a.Cell,null,"Unmet Load Cost"," ",n.createElement(wa,{content:"Grid operator's cost to cover the unmet load. This can happen when the battery is empty and production can't keep up with demand. Unmet load could be met by a generator, for example, and may have different costs than normal production."})),n.createElement(ea.a.Cell,{textAlign:"right"},"$ ",s)),n.createElement(ea.a.Row,null,n.createElement(ea.a.Cell,null,"OpEx"," ",n.createElement(wa,{content:"Grid operator's operating expenses to cover any new enabled appliances and ancillary equipment. It is calculated by adding up the wholesale electricity costs and the unmet load costs."})),n.createElement(ea.a.Cell,{textAlign:"right"},"$ ",c)),n.createElement(ea.a.Row,null,n.createElement(ea.a.Cell,null,"Net Income"," ",n.createElement(wa,{content:"Grid operator's net income from enabled appliances and ancillary equipment. It is calculated by subtracting the OpEx from the revenue from the new appliances."})),n.createElement(ea.a.Cell,{textAlign:"right"},"$ ",u)),n.createElement(ea.a.Row,null,n.createElement(ea.a.Cell,null,"ROI"," ",n.createElement(wa,{content:"Grid operator's return on investment from enabled appliances and ancillary equipment. It is calculated by dividing the net income by the total CapEx for the appliances and ancillary equipment."})),n.createElement(ea.a.Cell,{textAlign:"right"},m," ",p.a.isFinite(m)?"%":"")),n.createElement(ea.a.Row,null,n.createElement(ea.a.Cell,null,"Payback"," ",n.createElement(wa,{content:"Grid operator's payback, in years, from enabled appliances and ancillary equipment. It is calculated by dividing the CapEx by the net income."})),n.createElement(ea.a.Cell,{textAlign:"right"},d," yrs")))))})),xa=Object(c.b)("store")(Object(c.c)(function(e){var t=e.store.summaryStats,a=p.a.get(t,"newAppliancesLoadSum","-"),l=p.a.get(t,"originalUnmetLoadCount","-"),r=p.a.get(t,"originalUnmetLoadCountPercent","-"),i=p.a.get(t,"originalUnmetLoadSum","-"),o=p.a.get(t,"newAppliancesUnmetLoadCount","-"),c=p.a.get(t,"newAppliancesUnmetLoadSum","-"),s=p.a.get(t,"newAppliancesUnmetLoadCountPercent","-"),u=p.a.get(t,"totalUnmetLoadCount","-"),m=p.a.get(t,"totalUnmetLoadCountPercent","-"),d=p.a.get(t,"totalUnmetLoadSum","-"),E=p.a.get(t,"originalExcessProductionCount","-"),y=p.a.get(t,"originalExcessProductionCountPercent","-"),f=p.a.get(t,"originalExcessProductionSum","-"),h=p.a.get(t,"newAppliancesExcessProductionCount","-"),g=p.a.get(t,"newAppliancesExcessProductionSum","-"),b=p.a.get(t,"newAppliancesExcessProductionCountPercent","-"),C=p.a.get(t,"totalExcessProductionCount","-"),v=p.a.get(t,"totalExcessProductionCountPercent","-"),w=p.a.get(t,"totalExcessProductionSum","-");return n.createElement("div",null,n.createElement(la.a,{as:"h4"},"Technical Outputs"),n.createElement(ea.a,{basic:"very",celled:!0,collapsing:!0,compact:!0},n.createElement(ea.a.Body,null,n.createElement(ea.a.Row,null,n.createElement(ea.a.Cell,null,"New Appliances Energy Consumption"),n.createElement(ea.a.Cell,null,a," kWh")))),n.createElement(ea.a,{definition:!0,basic:!0,compact:!0},n.createElement(ea.a.Header,null,n.createElement(ea.a.Row,null,n.createElement(ea.a.HeaderCell,null),n.createElement(ea.a.HeaderCell,null,"Count ",n.createElement("em",null,"hrs/year")," "),n.createElement(ea.a.HeaderCell,null,"Count Percent of Year"),n.createElement(ea.a.HeaderCell,null,"Sum ",n.createElement("em",null,"kWh")))),n.createElement(ea.a.Body,null,n.createElement(ea.a.Row,null,n.createElement(ea.a.Cell,null,"Original Unmet Load"),n.createElement(ea.a.Cell,{textAlign:"right"},l),n.createElement(ea.a.Cell,{textAlign:"right"},r,"%"),n.createElement(ea.a.Cell,{textAlign:"right"},i)),n.createElement(ea.a.Row,null,n.createElement(ea.a.Cell,null,"New Appliances Unmet Load"),n.createElement(ea.a.Cell,{textAlign:"right"},o),n.createElement(ea.a.Cell,{textAlign:"right"},s,"%"),n.createElement(ea.a.Cell,{textAlign:"right"},c)),n.createElement(ea.a.Row,null,n.createElement(ea.a.Cell,null,"Total Unmet Load"),n.createElement(ea.a.Cell,{textAlign:"right"},u),n.createElement(ea.a.Cell,{textAlign:"right"},m,"%"),n.createElement(ea.a.Cell,{textAlign:"right"},d)))),n.createElement(ea.a,{definition:!0,basic:!0,compact:!0},n.createElement(ea.a.Header,null,n.createElement(ea.a.Row,null,n.createElement(ea.a.HeaderCell,null),n.createElement(ea.a.HeaderCell,null,"Count ",n.createElement("em",null,"hrs/year")," "),n.createElement(ea.a.HeaderCell,null,"Count Percent of Year"),n.createElement(ea.a.HeaderCell,null,"Sum ",n.createElement("em",null,"kWh")))),n.createElement(ea.a.Body,null,n.createElement(ea.a.Row,null,n.createElement(ea.a.Cell,null,"Original Excess Production"),n.createElement(ea.a.Cell,{textAlign:"right"},E),n.createElement(ea.a.Cell,{textAlign:"right"},y,"%"),n.createElement(ea.a.Cell,{textAlign:"right"},f)),n.createElement(ea.a.Row,null,n.createElement(ea.a.Cell,null,"Excess Production Reduction From New Appliances"),n.createElement(ea.a.Cell,{textAlign:"right"},h),n.createElement(ea.a.Cell,{textAlign:"right"},b,"%"),n.createElement(ea.a.Cell,{textAlign:"right"},g)),n.createElement(ea.a.Row,null,n.createElement(ea.a.Cell,null,"Total Excess Production"),n.createElement(ea.a.Cell,{textAlign:"right"},C),n.createElement(ea.a.Cell,{textAlign:"right"},v,"%"),n.createElement(ea.a.Cell,{textAlign:"right"},w)))))})),Oa=Object(c.b)("store")(Object(c.c)(function(e){var t=e.store.summaryStats,a=p.a.get(t,"newAppliancesApplianceOwnerOpex","-"),l=p.a.get(t,"yearlyProductionUnitsRevenue","-"),r=p.a.get(t,"applianceOperatorNewAppliancesNetIncome","-"),i=p.a.get(t,"totalCapexAssignedToAppliance","-"),o=p.a.get(t,"applianceCapexAssignedToAppliance","-"),c=p.a.get(t,"ancillaryCapexAssignedToAppliance","-"),s=p.a.get(t,"applianceOwnerRoi","-"),u=p.a.get(t,"applianceOwnerPayback","-");return n.createElement("div",null,n.createElement(la.a,{as:"h4"},"Economic Outputs"),n.createElement(ea.a,{basic:"very",collapsing:!0,compact:!0},n.createElement(ea.a.Body,null,n.createElement(ea.a.Row,null,n.createElement(ea.a.Cell,null,"CapEx - New Appliances"," ",n.createElement(wa,{content:"Upfront investment for all enabled appliances assigned to the appliance operator. This does not include appliances that were represented in the original HOMER file."})),n.createElement(ea.a.Cell,{textAlign:"right"},"$ ",o)),n.createElement(ea.a.Row,null,n.createElement(ea.a.Cell,null,"CapEx - Ancillary Equipment"," ",n.createElement(wa,{content:"Upfront investment for all ancillary equipment assigned to the appliance operator. Only enabled ancillary equipment is counted."})),n.createElement(ea.a.Cell,{textAlign:"right"},"$ ",c)),n.createElement(ea.a.Row,null,n.createElement(ea.a.Cell,null,"CapEx - New Appliances & Ancillary"," ",n.createElement(wa,{content:"Upfront investment for all enabled appliances and ancillary equipment assigned to the appliance operator."})),n.createElement(ea.a.Cell,{textAlign:"right"},"$ ",i)),n.createElement(ea.a.Row,null,n.createElement(ea.a.Cell,null,"Electricity Costs"," ",n.createElement(wa,{content:"Appliance operator's electricity cost from all enabled appliances and any enabled ancillary equipment. This does not take into account cost from loads represented in the original HOMER file."})),n.createElement(ea.a.Cell,{textAlign:"right"},"$ ",a)),n.createElement(ea.a.Row,null,n.createElement(ea.a.Cell,null,"Appliance-Related Revenue"," ",n.createElement(wa,{content:"Appliance operator's revenue from enabled appliances."})),n.createElement(ea.a.Cell,{textAlign:"right"},"$ ",l)),n.createElement(ea.a.Row,null,n.createElement(ea.a.Cell,null,"OpEx"," ",n.createElement(wa,{content:"Appliance operator's operating expenses to cover any new enabled appliances and ancillary equipment. This is the same as the electricity cost for the appliances."})),n.createElement(ea.a.Cell,{textAlign:"right"},"$ ",a)),n.createElement(ea.a.Row,null,n.createElement(ea.a.Cell,null,"Net Income"," ",n.createElement(wa,{content:"Appliance operator's net income from enabled appliances. It is calculated by subtracting the OpEx from the yearly revenue from the appliances."})),n.createElement(ea.a.Cell,{textAlign:"right"},"$ ",r)),n.createElement(ea.a.Row,null,n.createElement(ea.a.Cell,null,"ROI"," ",n.createElement(wa,{content:"Appliance operator's return on investment from enabled appliances and ancillary equipment. It is calculated by dividing the net income by the total CapEx."})),n.createElement(ea.a.Cell,{textAlign:"right"},s," ",p.a.isFinite(s)?"%":"")),n.createElement(ea.a.Row,null,n.createElement(ea.a.Cell,null,"Payback"," ",n.createElement(wa,{content:"Appliance operator's payback, in years, from enabled appliances and ancillary equipment. It is calculated by dividing the total CapEx by the net income."})),n.createElement(ea.a.Cell,{textAlign:"right"},u," yrs")))))})),ka=Object(c.b)("store")(Object(c.c)(function(e){var t=e.store.summaryStats,a=t.yearlyProductionUnits,l=t.productionUnitType,r=t.newAppliancesLoadSum;return n.createElement("div",null,n.createElement(la.a,{as:"h4"},"Technical Outputs"),n.createElement(ea.a,{basic:"very",collapsing:!0,compact:!0},n.createElement(ea.a.Body,null,n.createElement(ea.a.Row,null,n.createElement(ea.a.Cell,null,"New Appliances Electricity Consumption"),n.createElement(ea.a.Cell,{textAlign:"right"},r||0," kWh")),n.createElement(ea.a.Row,null,n.createElement(ea.a.Cell,null,"Units Produced"),n.createElement(ea.a.Cell,{textAlign:"right"},"Multiple"===a?"Multiple":"".concat(a," ").concat(l))))))})),Ia=a(176),Sa=a.n(Ia),Ta=Object(c.b)("store")(Object(c.c)(function(e){var t=e.store,a=t.activeGrid,l=t.enabledAppliances,r=t.multipleAppliancesEnabled;return n.createElement(ea.a,{basic:"very",collapsing:!0,compact:!0,className:Sa.a.borderless},n.createElement(ea.a.Body,null,n.createElement(ea.a.Row,null,n.createElement(ea.a.Cell,null,Ue.wholesaleElectricityCost.title," ",n.createElement(wa,{content:Ue.wholesaleElectricityCost.description})),n.createElement(ea.a.Cell,null,n.createElement(ma,{fieldKey:"wholesaleElectricityCost",modelInstance:a}))),n.createElement(ea.a.Row,null,n.createElement(ea.a.Cell,null,Ue.retailElectricityPrice.title," ",n.createElement(wa,{content:Ue.retailElectricityPrice.description})),n.createElement(ea.a.Cell,null,n.createElement(ma,{fieldKey:"retailElectricityPrice",modelInstance:a}))),n.createElement(ea.a.Row,null,n.createElement(ea.a.Cell,null,Ue.unmetLoadCostPerKwh.title," ",n.createElement(wa,{content:Ue.unmetLoadCostPerKwh.description})),n.createElement(ea.a.Cell,null,n.createElement(ma,{fieldKey:"unmetLoadCostPerKwh",modelInstance:a}))),n.createElement(ea.a.Row,null,n.createElement(ea.a.Cell,null,Ue.revenuePerProductionUnits.title," ",n.createElement(wa,{content:Ue.revenuePerProductionUnits.description})),n.createElement(ea.a.Cell,null,r?"Multiple Appliance Enabled":n.createElement(ma,{fieldKey:"revenuePerProductionUnits",modelInstance:l[0]})))))})),Ma=Object(c.b)("store")(Object(c.c)(function(e){var t=e.store,a=t.enabledAppliances,l=t.multipleAppliancesEnabled;return n.createElement(ea.a,{basic:"very",collapsing:!0,compact:!0,className:Sa.a.borderless},n.createElement(ea.a.Body,null,n.createElement(ea.a.Row,null,n.createElement(ea.a.Cell,null,Ue.nominalPower.title," ",n.createElement(wa,{content:Ue.nominalPower.description})),n.createElement(ea.a.Cell,null,l?"Multiple Appliance Enabled":n.createElement(ma,{fieldKey:"nominalPower",modelInstance:a[0]}))),n.createElement(ea.a.Row,null,n.createElement(ea.a.Cell,null,Ue.dutyCycleDerateFactor.title," ",n.createElement(wa,{content:Ue.dutyCycleDerateFactor.description})),n.createElement(ea.a.Cell,null,l?"Multiple Appliance Enabled":n.createElement(ma,{fieldKey:"dutyCycleDerateFactor",modelInstance:a[0]}))),n.createElement(ea.a.Row,null,n.createElement(ea.a.Cell,null,Ue.productionUnitsPerKwh.title," ",n.createElement(wa,{content:Ue.productionUnitsPerKwh.description})),n.createElement(ea.a.Cell,null,l?"Multiple Appliance Enabled":n.createElement(ma,{fieldKey:"productionUnitsPerKwh",modelInstance:a[0]}))),n.createElement(ea.a.Row,null,n.createElement(ea.a.Cell,null,"Usage Factor Seasonal Derate Curve"),n.createElement(ea.a.Cell,null,n.createElement(ca.a,{value:"TBD",disabled:!0})))))})),ja=function(e){function t(){return Object(Yt.a)(this,t),Object(Qt.a)(this,Object(Xt.a)(t).apply(this,arguments))}return Object(Jt.a)(t,e),Object(Zt.a)(t,[{key:"render",value:function(){return l.a.createElement(ra.a,{columns:"equal",padded:!0},l.a.createElement(ra.a.Row,null,l.a.createElement(ra.a.Column,null,l.a.createElement("h3",null,"Calculation Inputs"),l.a.createElement(Ca.a,null,l.a.createElement(la.a,{as:"h4"},"Economic Inputs"),l.a.createElement(Ta,null)),l.a.createElement(Ca.a,null,l.a.createElement(la.a,{as:"h4"},"Technical Inputs"),l.a.createElement(Ma,null))),l.a.createElement(ra.a.Column,null,l.a.createElement("h3",null,"Grid Operator Annual Summary"),l.a.createElement(Ca.a,null,l.a.createElement(Aa,null)),l.a.createElement(Ca.a,null,l.a.createElement(xa,null))),l.a.createElement(ra.a.Column,null,l.a.createElement("h3",null,"Appliance Operator Annual Summary"),l.a.createElement(Ca.a,null,l.a.createElement(Oa,null)),l.a.createElement(Ca.a,null,l.a.createElement(ka,null)))))}}]),t}(n.Component),Pa=Object(c.b)("store")(Object(c.c)(ja)),Ra=a(890),La=function(e){var t=e.file,a=t.prettyFileSize,l=t.powerType,r=t.fileImportWarnings,i=t.phase,o=t.hasMotor;return n.createElement(ea.a,{basic:"very",inverted:!0},n.createElement(ea.a.Body,null,n.createElement(ea.a.Row,null,n.createElement(ea.a.Cell,{width:7},"File Warnings"),n.createElement(ea.a.Cell,{width:9,textAlign:"right"},p.a.isEmpty(t.fileImportWarnings)?"None":r.join(", "))),n.createElement(ea.a.Row,null,n.createElement(ea.a.Cell,null,"Power Type"),n.createElement(ea.a.Cell,{textAlign:"right"},l)),n.createElement(ea.a.Row,null,n.createElement(ea.a.Cell,null,"Phase"),n.createElement(ea.a.Cell,{textAlign:"right"},i)),n.createElement(ea.a.Row,null,n.createElement(ea.a.Cell,null,"Has Motor"),n.createElement(ea.a.Cell,{textAlign:"right"},o?"Yes":"No")),n.createElement(ea.a.Row,null,n.createElement(ea.a.Cell,null,"File Size"),n.createElement(ea.a.Cell,{textAlign:"right"},a))))},Da=a(891);function Fa(){return(Fa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Ua(e,t){if(null==e)return{};var a,n,l=function(e,t){if(null==e)return{};var a,n,l={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(l[a]=e[a]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(l[a]=e[a])}return l}var Wa=l.a.createElement("g",{id:"Page-2",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},l.a.createElement("g",{id:"AC-to-DC"},l.a.createElement("g",{id:"AC-1"},l.a.createElement("g",{id:"Axis",stroke:"#979797",strokeDasharray:"10 10",strokeLinecap:"square"},l.a.createElement("path",{d:"M1,101 L601.5,101",id:"Line"})),l.a.createElement("path",{d:"M1,201 C88.5542431,67.6666667 155.22091,1 201,1 C269.668635,1 333.46185,201 401,201 C468.53815,201 532.797982,1 601,1",id:"Path",stroke:"#4A4A4A",strokeWidth:2})),l.a.createElement("g",{id:"DC-1",transform:"translate(594.000000, 0.000000)",strokeLinecap:"square"},l.a.createElement("g",{id:"Axis",transform:"translate(0.000000, 1.000000)",stroke:"#979797",strokeDasharray:"10 10"},l.a.createElement("path",{d:"M1,100 L601.5,100",id:"Line"}),l.a.createElement("path",{d:"M1,0.5 L1,199.5",id:"Line-3"})),l.a.createElement("path",{d:"M7,1 L607.5,1",id:"Line-2",stroke:"#4A4A4A",strokeWidth:2})))),Ga=function(e){var t=e.svgRef,a=Ua(e,["svgRef"]);return l.a.createElement("svg",Fa({width:"100%",height:"100px",viewBox:"0 0 1203 202",ref:t},a),Wa)},za=l.a.forwardRef(function(e,t){return l.a.createElement(Ga,Fa({svgRef:t},e))});a.p;function Ba(){return(Ba=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function qa(e,t){if(null==e)return{};var a,n,l=function(e,t){if(null==e)return{};var a,n,l={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(l[a]=e[a]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(l[a]=e[a])}return l}var Na=l.a.createElement("g",{id:"Page-2",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},l.a.createElement("g",{id:"DC-to-AC",transform:"translate(0.000000, -1.000000)"},l.a.createElement("g",{id:"AC-2",transform:"translate(600.000000, 1.000000)"},l.a.createElement("g",{id:"Axis",stroke:"#979797",strokeDasharray:"10 10",strokeLinecap:"square"},l.a.createElement("path",{d:"M1,101 L601.5,101",id:"Line"}),l.a.createElement("path",{d:"M1,0.5 L1,201",id:"Line-3"})),l.a.createElement("path",{d:"M1,201 C88.5542431,67.6666667 155.22091,1 201,1 C269.668635,1 333.46185,201 401,201 C468.53815,201 532.797982,1 601,1",id:"Path",stroke:"#4A4A4A",strokeWidth:2,transform:"translate(301.000000, 101.000000) scale(-1, 1) translate(-301.000000, -101.000000) "})),l.a.createElement("g",{id:"DC-2",strokeLinecap:"square"},l.a.createElement("g",{id:"Axis",stroke:"#979797",strokeDasharray:"10 10"},l.a.createElement("path",{d:"M1,102 L601.5,102",id:"Line"})),l.a.createElement("path",{d:"M1,2 L601.5,2",id:"Line-2",stroke:"#4A4A4A",strokeWidth:2})))),Ha=function(e){var t=e.svgRef,a=qa(e,["svgRef"]);return l.a.createElement("svg",Ba({width:"100%",height:"100px",viewBox:"0 0 1202 202",ref:t},a),Na)},Va=l.a.forwardRef(function(e,t){return l.a.createElement(Ha,Ba({svgRef:t},e))});a.p;function Ka(){return(Ka=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Ya(e,t){if(null==e)return{};var a,n,l=function(e,t){if(null==e)return{};var a,n,l={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(l[a]=e[a]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(l[a]=e[a])}return l}var Za=l.a.createElement("g",{id:"Page-2",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},l.a.createElement("path",{d:"M0,201 C172.275833,201 154.261925,1 301,1 C447.738075,1 456.612418,181 541,181 C625.387582,181 655.634919,21 721,21 C786.365081,21 802.756846,171.273437 841,171.273437 C879.243154,171.273438 892.953369,34.4453125 921,34.4453125 C949.046631,34.4453125 970.592069,161 1001,161 C1031.40793,161 1031.73144,41 1061,41 C1090.26856,41 1097.82458,129.785156 1121,129.785156 C1144.17542,129.785156 1144.35531,80.2539063 1161,81 C1177.64469,81.7460938 1178.69149,121 1201,121",id:"Path-Copy",stroke:"#4A4A4A",strokeWidth:2,transform:"translate(600.500000, 101.000000) scale(-1, 1) translate(-600.500000, -101.000000) "})),Qa=function(e){var t=e.svgRef,a=Ya(e,["svgRef"]);return l.a.createElement("svg",Ka({width:"100%",height:"100px",viewBox:"0 0 1201 202",ref:t},a),Za)},Xa=l.a.forwardRef(function(e,t){return l.a.createElement(Qa,Ka({svgRef:t},e))}),Ja=(a.p,function(e){switch(e.equipmentType){case"powerConverter":return l.a.createElement(za,null);case"inverter":return l.a.createElement(Va,null);default:return l.a.createElement(Xa,null)}}),_a=function(e){function t(){return Object(Yt.a)(this,t),Object(Qt.a)(this,Object(Xt.a)(t).apply(this,arguments))}return Object(Jt.a)(t,e),Object(Zt.a)(t,[{key:"render",value:function(){if(p.a.isEmpty(this.props.equipment))return null;var e=this.props.equipment,t=e.equipmentType,a=e.label,n=e.description,r=e.enabled,i=e.compatibilityMessage,o=e.compatibility,c=e.estimatedCapex,s=e.estimatedEfficiency,u=e.parentApplianceSize,m=e.capexAssignment,d=e.handleEnabledToggle,E=e.handleCapexAssignmentChange,y="required"===o?"Required":r?"Enabled":"Enable";return l.a.createElement(Da.a,{fluid:!0,className:r?"activeCardBorder":""},l.a.createElement(Da.a.Content,null,l.a.createElement(ra.a,null,l.a.createElement(ra.a.Row,null,l.a.createElement(ra.a.Column,{width:12},l.a.createElement(la.a,{has:"h3",style:{marginTop:"4px",marginBottom:"4px"}},a," ",l.a.createElement("small",null,l.a.createElement(wa,{content:n,position:"right center"})),l.a.createElement("span",{style:tn},nn[o]))),l.a.createElement(ra.a.Column,{width:4,textAlign:"right"},l.a.createElement("div",{style:{marginLeft:10,float:"right"}},l.a.createElement(ta.a,{toggle:!0,label:y,checked:r,onChange:d})))),l.a.createElement(ra.a.Row,null,l.a.createElement(ra.a.Column,{width:7},l.a.createElement(Da.a.Description,null,i),l.a.createElement(Ja,{equipmentType:t})),l.a.createElement(ra.a.Column,{width:9},l.a.createElement(aa.a,null,l.a.createElement(ea.a,{basic:"very",className:"borderless"},l.a.createElement(ea.a.Body,null,l.a.createElement(ea.a.Row,null,l.a.createElement(ea.a.Cell,null,l.a.createElement(ma,{fieldKey:"equipmentSize",modelInstance:e,labelLeft:"".concat(an[e.equipmentType]," Size"),labelRight:Ue.equipmentSize.units,size:"mini"})),l.a.createElement(ea.a.Cell,{style:en},"Appliance Size: ",u," kW")),l.a.createElement(ea.a.Row,null,l.a.createElement(ea.a.Cell,null,l.a.createElement(ma,{fieldKey:"capex",modelInstance:e,labelLeft:"".concat(an[e.equipmentType]," Cost"),labelRight:"USD",size:"mini"})),l.a.createElement(ea.a.Cell,{style:en},"Estimated Cost: $",c)),l.a.createElement(ea.a.Row,null,l.a.createElement(ea.a.Cell,null,l.a.createElement(ma,{fieldKey:"efficiencyRating",modelInstance:e,labelLeft:"".concat(an[e.equipmentType]," Efficiency"),size:"mini"})),l.a.createElement(ea.a.Cell,{style:en},"Estimated Efficiency: ",p.a.round(100*s,1),"%")),l.a.createElement(ea.a.Row,null,l.a.createElement(ea.a.Cell,{colSpan:2},l.a.createElement("div",null,l.a.createElement("div",{style:{display:"inline-block",verticalAlign:"top",marginRight:"10px",paddingLeft:"4px"}},"Cost Assignment"),l.a.createElement("div",{style:{display:"inline-block"}},l.a.createElement(aa.a.Field,null,l.a.createElement(aa.a.Radio,{label:"Appliance Owner",name:"radioGroup",value:"appliance",checked:"appliance"===m,onChange:E})),l.a.createElement(aa.a.Field,null,l.a.createElement(aa.a.Radio,{label:"Grid Owner",name:"radioGroup",value:"grid",checked:"grid"===m,onChange:E}))))),l.a.createElement(ea.a.Cell,null))))))))))}}]),t}(n.Component),$a=Object(c.b)("store")(Object(c.c)(_a)),en={marginTop:"4px",fontStyle:"italic",fontSize:"0.9em"},tn={fontSize:"12px",fontWeight:300,fontStyle:"italic"},an={powerConverter:"Converter",inverter:"Inverter",vfd:"VFD",softStarter:"Starter",directOnlineStarter:"Starter",starDeltaStarter:"Starter",capacitorBank:"Capacitor",threeFourPointDcMotorStarter:"Starter"},nn={required:"Required",useful:"May be useful",notuseful:"Incompatible"},ln=function(e){var t=e.compatibility,a=e.header,n={minHeight:"200px",marginTop:e.isFirst?0:"40px"};return l.a.createElement("div",{style:n},l.a.createElement(la.a,{as:"h2",dividing:!0},a),p.a.isEmpty(t)&&l.a.createElement("p",null,"No equipment in this category"),p.a.map(t,function(e,t){return l.a.createElement($a,{equipment:e,key:"i".concat(t)})}))},rn=function(e){function t(){return Object(Yt.a)(this,t),Object(Qt.a)(this,Object(Xt.a)(t).apply(this,arguments))}return Object(Jt.a)(t,e),Object(Zt.a)(t,[{key:"render",value:function(){var e=this.props.store.viewedAppliance,t=e.enabledAncillaryEquipmentLabels,a=e.requiredAncillaryEquipment,n=e.usefulAncillaryEquipment,r=e.notusefulAncillaryEquipment;if(!p.a.isArray(a)||!p.a.isArray(n)||!p.a.isArray(r))return l.a.createElement("h4",null,"Calculating AncillaryEquipment ");var i=l.a.createElement("span",null,l.a.createElement("small",null,"Enabled equipment for this appliance:")," ",t.join(", ")),o=l.a.createElement("small",null,"You have no enabled ancillary equipment for this appliance"),c=p.a.isEmpty(t)?o:i;return l.a.createElement("div",null,l.a.createElement(la.a,{style:{marginBottom:0}},c),l.a.createElement("p",{style:{marginBottom:"35px",display:"inline-block",fontSize:"14px"}},"Scroll down to see all equipment"),l.a.createElement(ln,{compatibility:a,header:"Required Equipment",isFirst:!0}),l.a.createElement(ln,{compatibility:n,header:"Equipment that may be useful"}),l.a.createElement(ln,{compatibility:r,header:"Incompatible Equipment"}))}}]),t}(n.Component),on=Object(c.b)("store")(Object(c.c)(rn)),cn={background:"none #fff",border:"1px solid rgba(34,36,38,.15)",color:"rgba(0,0,0,.87)",boxShadow:"none",marginTop:"1px"},sn=function(e){function t(){var e,a;Object(Yt.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(Qt.a)(this,(e=Object(Xt.a)(t)).call.apply(e,[this].concat(l)))).handleFileNavClick=function(e,t){t.preventDefault(),a.props.store.setViewedApplianceId(e)},a}return Object(Jt.a)(t,e),Object(Zt.a)(t,[{key:"render",value:function(){var e=this,t=this.props.store,a=t.viewedApplianceId,l=t.appliances,r=p.a.isEmpty(a);return n.createElement(ra.a,{padded:!0},n.createElement(ra.a.Row,null,n.createElement(ra.a.Column,{width:4},n.createElement(Gt.a,{vertical:!0,fluid:!0},p.a.map(l,function(t){var l=t.fileInfo,r=t.description,i=t.label,o=t.enabled;return n.createElement(Gt.a.Item,{key:l.id,name:i,style:{minHeight:"60px"},active:a===l.id,onClick:e.handleFileNavClick.bind(null,l.id)},n.createElement(la.a,{sub:!0},i),n.createElement(wa,{content:n.createElement(La,{file:t}),position:"right center",wide:!0}),n.createElement("p",{style:{marginBottom:0,fontSize:"0.9em",fontWeight:300}},r),(l.isSample||o)&&n.createElement(sa.a,{basic:!0,attached:"top right",size:"mini",style:cn,color:o?"blue":null},o&&"Enabled",l.isSample&&o&&", ",l.isSample&&"Sample"))}))),n.createElement(ra.a.Column,{width:12},r?n.createElement(mn,null):n.createElement(on,null))))}}]),t}(n.Component),un=Object(c.b)("store")(Object(c.c)(sn)),mn=function(){return F("Hit AncillaryBlankState which probably shouldnt happen"),n.createElement("div",null,n.createElement(la.a,{as:"h3"},"Appliance File Management"),n.createElement(Ra.a,{size:"large",bulleted:!0},n.createElement(Ra.a.Item,null,"Add a new Appliance file"),n.createElement(Ra.a.Item,null,"View, edit or delete your existing Appliance files")),n.createElement("p",null,"Click on the menu on the left to do any of these tasks"))},pn=a(156),dn=a(895),En=function(){return n.createElement(Ca.a,null,n.createElement(dn.a,{active:!0,style:{height:"200px"}},n.createElement(_t.a,null,"Loading")))},yn=function(e,t,a){var n=e;return 0!==t&&1!==t||(n=Object(C.a)({},n,{fontStyle:"italic",backgroundColor:"#f9fafb"})),0===t&&(n=Object(C.a)({},n,{borderTop:"1px solid rgba(34,36,38,.1)",borderLeft:"1px solid rgba(34,36,38,.1)",paddingLeft:"0.2rem",paddingRight:"0.2rem",overflowWrap:"break-word"})),1===t&&(n=Object(C.a)({},n,{borderBottom:"4px solid ".concat(K[a]),borderLeft:"1px solid rgba(34,36,38,.1)",paddingLeft:"0.2rem",paddingRight:"0.2rem"})),n},fn=a(230),hn=a(442),gn=a.n(hn),bn={cursor:"pointer",marginRight:"2%",width:"100%",verticalAlign:"top"},Cn=Object(c.b)("store")(Object(c.c)(function(e){var t=e.store,a=e.column,l=e.excludedColumns,r=e.columnWidth,i=Object(fn.a)(e,["store","column","excludedColumns","columnWidth"]),o=p.a.includes(l,a)?"excluded":Rt[a];return n.createElement("div",Object.assign({},i,{className:gn.a.columnIndicator,onClick:function(){return t.setExcludedTableColumns(a)},style:{display:"inline-block",width:r,height:"12px",backgroundColor:K[o]}}))})),vn=function(e){var t=e.columns,a=e.excludedColumns,l=Object(fn.a)(e,["columns","excludedColumns"]),r="".concat(1/p.a.size(t)*100,"%");return n.createElement("div",Object.assign({},l,{style:bn}),n.createElement("div",null,p.a.map(t,function(e){return n.createElement(zt.a,{trigger:n.createElement(Cn,{column:e,excludedColumns:a,columnWidth:r}),key:e,size:"tiny",position:"bottom center"},n.createElement("span",null,e))})))},wn=function(e){var t=e.percentTableColumnsShowing,a=Object(fn.a)(e,["percentTableColumnsShowing"]);return n.createElement("div",Object.assign({},a,{style:bn}),n.createElement("div",null,n.createElement("em",null,"Select Columns (",t,"% columns showing)")," ",n.createElement($t.a,{name:"pencil alternate"})))},An=function(e){function t(){var e,a;Object(Yt.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(Qt.a)(this,(e=Object(Xt.a)(t)).call.apply(e,[this].concat(l)))).state={searchString:""},a.handleSearchChange=function(e,t){var n=t.value;e.preventDefault(),a.setState({searchString:n})},a.handleSearchClear=function(e,t){e.preventDefault(),a.setState({searchString:""})},a.handleCheckChange=function(e,t){e.preventDefault();var n=t.label.props.children;a.props.store.setExcludedTableColumns(n)},a}return Object(Jt.a)(t,e),Object(Zt.a)(t,[{key:"render",value:function(){var e=this,t=this.state.searchString,a=this.props,l=a.headers,r=a.store,i=r.excludedTableColumns,o=r.percentTableColumnsShowing,c=p.a.filter(l,function(e){return p.a.includes(e.toLowerCase(),t)});return n.createElement("div",null,n.createElement(zt.a,{trigger:n.createElement(wn,{percentTableColumnsShowing:o}),basic:!0,flowing:!0,position:"bottom left",verticalOffset:14,on:"click"},n.createElement(zt.a.Header,null,n.createElement(ca.a,{icon:n.createElement($t.a,{name:"times",onClick:this.handleSearchClear,circular:!0,link:!0}),placeholder:"Search header titles",value:t,onChange:this.handleSearchChange})),n.createElement(Ra.a,{selection:!0,verticalAlign:"middle"},p.a.map(c,function(t){return n.createElement(Ra.a.Item,{key:t},n.createElement(ta.a,{label:n.createElement("label",null,t),onChange:e.handleCheckChange,checked:!p.a.includes(i,t)}))}))),n.createElement(vn,{columns:l,excludedColumns:i}))}}]),t}(n.Component),xn=Object(c.b)("store")(Object(c.c)(An)),On=function(e){return{display:"inline-block",paddingRight:"4px",marginRight:"6px",fontStyle:"italic",fontSize:"14px",lineHeight:1.8,borderBottom:"2px solid ".concat(K[e])}},kn=Object(c.b)("store")(Object(c.c)(function(e){e.store;return n.createElement("div",null,n.createElement("div",{style:On("hybridColumns")},"Calculated Columns"),n.createElement("div",{style:On("homer")},"HOMER Columns"),n.createElement("div",{style:On("appliance")},"Appliance Columns"))})),In=a(443);function Sn(e,t){var a=k.a.unparse(e),n=new Blob([a],{type:"text/csv;charset=utf-8"});Object(In.saveAs)(n,t)}var Tn=Object(c.b)("store")(Object(c.c)(function(e){var t=e.store.combinedTable;return n.createElement("div",{style:{cursor:"pointer"},onClick:Sn.bind(null,t,"grid_with_appliances.csv")},"Download CSV",n.createElement("br",null),n.createElement($t.a.Group,{size:"large"},n.createElement($t.a,{name:"file outline"}),n.createElement($t.a,{corner:"bottom right",name:"arrow circle down",style:{transform:"rotate(90deg)"}})))})),Mn=function(e){function t(){var e,a;Object(Yt.a)(this,t);for(var l=arguments.length,r=new Array(l),i=0;i<l;i++)r[i]=arguments[i];return(a=Object(Qt.a)(this,(e=Object(Xt.a)(t)).call.apply(e,[this].concat(r))))._cellRenderer=function(e,t){var l=t.columnIndex,r=t.key,i=t.rowIndex,o=t.style,c=a.props.store,s=c.combinedTable,u=c.enabledAppliances,m=c.multipleAppliancesEnabled;if(p.a.isEmpty(s))return null;var d=e[l],E=Rt[d];return 0===i?n.createElement("div",{key:r,style:yn(o,i,E)},d):1===i?n.createElement("div",{key:r,style:yn(o,i,E)},Tt[d]||"missing"):"datetime"===d?n.createElement("div",{key:r,style:yn(o,i,E)},Ee(s[i-2][d])):"kwFactor"===d?n.createElement("div",{key:r,style:yn(o,i,E)},m?"Multiple":u[0].fileData[i-2].kwFactor):n.createElement("div",{key:r,style:yn(o,i,E)},s[i-2][d])},a._rowHeight=function(e){return 0===e.index?76:26},a}return Object(Jt.a)(t,e),Object(Zt.a)(t,[{key:"componentDidUpdate",value:function(e){this.multigrid&&this.multigrid.forceUpdateGrids()}},{key:"render",value:function(){var e=this,t=this.props.store,a=t.combinedTable,l=t.filteredCombinedTableHeaders;if(p.a.isEmpty(a))return n.createElement(En,null);var r=p.a.size(a),i=p.a.size(l);return n.createElement(ra.a,{verticalAlign:"top"},n.createElement(ra.a.Row,null,n.createElement(ra.a.Column,{width:6},n.createElement(kn,null)),n.createElement(ra.a.Column,{width:8},n.createElement(xn,{headers:St})),n.createElement(ra.a.Column,{width:2,textAlign:"center"},n.createElement(Tn,null))),n.createElement(ra.a.Row,null,n.createElement(ra.a.Column,{width:16},n.createElement(pn.a,null,function(t){t.height;var a=t.width;return n.createElement(pn.b,{ref:function(t){return e.multigrid=t},cellRenderer:e._cellRenderer.bind(null,l),columnCount:i,columnWidth:100,fixedColumnCount:2,fixedRowCount:2,height:1200,rowCount:r,rowHeight:e._rowHeight,estimatedRowSize:26,width:a})}))))}}]),t}(n.Component),jn=Object(c.b)("store")(Object(c.c)(Mn)),Pn=a(18),Rn=function(e){function t(){var e,a;Object(Yt.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(Qt.a)(this,(e=Object(Xt.a)(t)).call.apply(e,[this].concat(l)))).state={stackOffset:"none"},a.handleStackClick=function(e,t){t.preventDefault(),a.setState({stackOffset:e})},a}return Object(Jt.a)(t,e),Object(Zt.a)(t,[{key:"render",value:function(){var e=this.props.store.combinedTable;if(p.a.isEmpty(e))return n.createElement(En,null);var t=this.state.stackOffset,a=this.props.store.maxApplianceLoad,l=a.maxLoadValue,r=a.maxLoadFirstHour,i=p.a.ceil(l+.05*l,2);return n.createElement("div",null,n.createElement(ra.a,null,n.createElement(ra.a.Row,null,n.createElement(ra.a.Column,{width:7},n.createElement(la.a,{as:"h3"},"Loads by hour of year",n.createElement(la.a.Subheader,null,"Each data point unit is average kW for 1 hour (kWh)"))),n.createElement(ra.a.Column,{width:9},n.createElement(Bt.a.Group,{basic:!0,compact:!0,style:{float:"right",marginTop:"8px"}},n.createElement(Bt.a,{onClick:this.handleStackClick.bind(null,"none"),active:"none"===t},"Normal Stacked"),n.createElement(Bt.a,{onClick:this.handleStackClick.bind(null,"expand"),active:"expand"===t},"100% Stacked")),n.createElement(ea.a,{basic:"very",compact:!0,collapsing:!0,style:{marginTop:0}},n.createElement(ea.a.Body,null,n.createElement(ea.a.Row,null,n.createElement(ea.a.Cell,null,"Max Appliance Load"),n.createElement(ea.a.Cell,{textAlign:"right"},p.a.round(l,2)," kWh")),n.createElement(ea.a.Row,null,n.createElement(ea.a.Cell,null,"First hour of year hitting max load"),n.createElement(ea.a.Cell,{textAlign:"right"},r))))))),n.createElement(Pn.j,{minWidth:1e3,minHeight:400,height:"90%"},n.createElement(Pn.b,{data:e,stackOffset:t,margin:{top:40,right:30,left:0,bottom:20}},n.createElement(Pn.n,{dataKey:"hour"}),n.createElement(Pn.o,{domain:"none"===t?[0,i]:null}),n.createElement(Pn.m,{content:n.createElement(Dn,null)}),n.createElement(Pn.a,{type:"monotone",dataKey:"originalElectricLoadServed",stackId:"1",stroke:Y.originalElectricLoadServed,fill:Y.originalElectricLoadServed,fillOpacity:"1"}),n.createElement(Pn.a,{type:"monotone",dataKey:"newAppliancesLoad",stackId:"1",stroke:Y.newAppliancesLoad,fill:Y.newAppliancesLoad,fillOpacity:"1"}),n.createElement(Pn.a,{type:"monotone",dataKey:"newAppliancesAncillaryLoad",stackId:"1",stroke:Y.newAppliancesAncillaryLoad,fill:Y.newAppliancesAncillaryLoad,fillOpacity:"1"}),n.createElement(Pn.i,{x:r,stroke:Y.newAppliancesAncillaryLoad,label:"First Hour Max Load",strokeDasharray:"3 3"}),n.createElement(Pn.i,{y:l,label:"Max Appliance Load: ".concat(p.a.round(l,2)," kWh"),stroke:Y.newAppliancesAncillaryLoad,strokeDasharray:"3 3"}),n.createElement(Pn.e,{startIndex:0,endIndex:200,dy:20}))),n.createElement(la.a,{as:"h4",textAlign:"center",style:{marginTop:0}},"Hour of Year",n.createElement(la.a.Subheader,null,"Hover over chart to see details.",n.createElement("br",null),"Brush and slide grey handle above to explore more hours of the year")))}}]),t}(n.Component),Ln=Object(c.b)("store")(Object(c.c)(Rn)),Dn=function(e){var t=e.active,a=e.payload,l=e.label;if(!t||p.a.isEmpty(a))return null;var r=a[0].payload,i=r.datetime,o=r.totalElectricalLoadServed;return n.createElement("div",{className:"custom-tooltip"},n.createElement("p",{className:"label"},"Hour of Year: ",l),n.createElement("p",{className:"label"},"Date: ",Ee(i)),n.createElement(ea.a,{basic:"very",compact:!0},n.createElement(ea.a.Body,null,p.a.map(a,function(e){return n.createElement(ea.a.Row,{style:{color:e.color},key:e.dataKey},n.createElement(ea.a.Cell,null,Ue[e.dataKey].title),n.createElement(ea.a.Cell,{textAlign:"right"},p.a.round(e.value,2)," ",Ue[e.dataKey].units))})),n.createElement(ea.a.Footer,null,n.createElement(ea.a.Row,null,n.createElement(ea.a.HeaderCell,null,"Combined Load"),n.createElement(ea.a.HeaderCell,{textAlign:"right"},p.a.round(o,2)," ",Ue.totalElectricalLoadServed.units)))))},Fn=function(e){function t(){return Object(Yt.a)(this,t),Object(Qt.a)(this,Object(Xt.a)(t).apply(this,arguments))}return Object(Jt.a)(t,e),Object(Zt.a)(t,[{key:"render",value:function(){var e=this.props.store,t=e.hybridColumns,a=e.activeGrid;if(p.a.isEmpty(t))return n.createElement(En,null);var l=a.batteryMinEnergyContent,r=a.batteryMaxEnergyContent,i=[0,200],o=p.a.maxBy(t,"batteryEnergyContent").batteryEnergyContent,c=p.a.ceil(o+.1*o),s=400/c,u=p.a.maxBy(t,"totalExcessProduction").totalExcessProduction,m=s*p.a.ceil(u+.1*u),d=p.a.maxBy(t,"totalUnmetLoad").totalUnmetLoad,E=s*p.a.ceil(d+.1*d);return n.createElement("div",{style:{paddingTop:"16px"}},n.createElement(Gn,{title:"Excess Production"}),n.createElement(Pn.j,{minWidth:1e3,minHeight:60},n.createElement(Pn.b,{height:m,data:t,syncId:"anyId",margin:{top:0,right:30,left:60,bottom:0}},n.createElement(Pn.m,{content:n.createElement(zn,{field:"totalExcessProduction"})}),n.createElement(Pn.a,{type:"monotone",dataKey:"totalExcessProduction",stroke:"rgb(102, 102, 102)",strokeWidth:.5,fill:Y.totalExcessProduction,fillOpacity:"1"}),n.createElement(Pn.e,{startIndex:i[0],endIndex:i[1],height:0}))),n.createElement(Gn,{title:"Battery Energy Content"}),n.createElement(Pn.j,{minWidth:1e3,minHeight:400},n.createElement(Pn.b,{height:400,data:t,syncId:"anyId",margin:{top:0,right:30,left:0,bottom:-20}},n.createElement(Pn.n,{dataKey:"hour"}),n.createElement(Pn.o,{label:{value:"kWh",angle:-90,position:"insideLeft"},domain:[0,c],allowDataOverflow:!0}),n.createElement(Pn.m,{content:n.createElement(zn,{field:"batteryEnergyContent"})}),n.createElement(Pn.a,{type:"monotone",dataKey:"batteryEnergyContent",stroke:"rgb(102, 102, 102)",strokeWidth:.5,fill:Y.batteryEnergyContent,fillOpacity:"1"}),n.createElement(Pn.i,{y:r,label:{position:"top",value:"Max Battery Energy Content: ".concat(p.a.round(r,2)," kWh"),fontWeight:500,textStroke:"2px white"},stroke:Y.totalExcessProduction,strokeDasharray:"3 3"}),n.createElement(Pn.i,{y:l,stroke:Y.totalUnmetLoad,label:{position:"top",value:"Min Battery Energy Content: ".concat(p.a.round(l,2)," kWh"),fontWeight:500,textStroke:"2px white"},strokeDasharray:"3 3"}),n.createElement(Pn.e,{startIndex:i[0],endIndex:i[1],height:0,gap:5}))),n.createElement(Gn,{title:"Unmet Load"}),n.createElement(Pn.j,{minWidth:1e3,minHeight:60},n.createElement(Pn.b,{height:E,data:t,syncId:"anyId",margin:{top:0,right:30,left:60,bottom:0}},n.createElement(Pn.m,{content:n.createElement(zn,{field:"totalUnmetLoad"})}),n.createElement(Pn.a,{type:"monotone",dataKey:"totalUnmetLoad",stroke:"rgb(102, 102, 102)",strokeWidth:.5,fill:Y.totalUnmetLoad,fillOpacity:"1"}),n.createElement(Pn.e,{startIndex:i[0],endIndex:i[1],gap:5}))),n.createElement(la.a,{as:"h4",textAlign:"center",style:{marginTop:"10px"}},"Hour of Year",n.createElement(la.a.Subheader,null,"Hover over chart to see details.",n.createElement("br",null),"Brush and slide grey handle above to explore more hours of the year")))}}]),t}(n.Component),Un=Object(c.b)("store")(Object(c.c)(Fn)),Wn={marginTop:0,marginBottom:"10px",marginLeft:"60px"},Gn=function(e){var t=e.title;return n.createElement(la.a,{as:"h3",style:Wn},t)},zn=function(e){var t=e.active,a=e.payload,l=e.label,r=e.field;if(!t||p.a.isEmpty(a))return null;var i=a[0].payload.datetime,o=a[0].payload[r];return n.createElement("div",{className:"custom-tooltip"},"totalExcessProduction"===r&&n.createElement(ra.a,null,n.createElement(ra.a.Column,{width:8},"Hour of Year: ",l),n.createElement(ra.a.Column,{width:8,textAlign:"right"},Ee(i))),n.createElement(ea.a,{basic:"very",compact:!0},n.createElement(ea.a.Body,null,n.createElement(ea.a.Row,null,n.createElement(ea.a.HeaderCell,null,Ue[r].title),n.createElement(ea.a.HeaderCell,{textAlign:"right"},p.a.round(o,2)," ",Ue[r].units)))))},Bn=function(e){function t(){return Object(Yt.a)(this,t),Object(Qt.a)(this,Object(Xt.a)(t).apply(this,arguments))}return Object(Jt.a)(t,e),Object(Zt.a)(t,[{key:"render",value:function(){var e=this.props.store,t=e.combinedTable,a=e.timeSegmentsMetric,l=e.timeSegmentsAggregation,r=e.timeSegmentsBy,i=e.handleTimeSegmentsMetricChange,o=e.handleTimeSegmentsAggregationChange,c=e.handleTimeSegmentsByChange;return p.a.isEmpty(t)?n.createElement(En,null):n.createElement(ra.a,null,n.createElement(ra.a.Row,{style:{paddingBottom:0}},n.createElement(ra.a.Column,{width:4,textAlign:"right",style:{marginTop:"6px"}},n.createElement("strong",null,"Grid Metric")),n.createElement(ra.a.Column,{width:10},n.createElement(Bt.a.Group,{basic:!0,compact:!0,size:"tiny"},n.createElement(Bt.a,{value:"load",onClick:i,active:"load"===a},"Load"),n.createElement(Bt.a,{value:"unmetLoad",onClick:i,active:"unmetLoad"===a},"Unmet Load"),n.createElement(Bt.a,{value:"excessProduction",onClick:i,active:"excessProduction"===a},"Excess Production")))),n.createElement(ra.a.Row,{style:{paddingBottom:0}},n.createElement(ra.a.Column,{width:4,textAlign:"right",style:{marginTop:"6px"}},n.createElement("strong",null,"Aggregation")),n.createElement(ra.a.Column,{width:10},n.createElement(Bt.a.Group,{basic:!0,compact:!0,size:"tiny"},n.createElement(Bt.a,{value:"average",onClick:o,active:"average"===l},"Average"),n.createElement(Bt.a,{value:"sum",onClick:o,active:"sum"===l},"Sum"),n.createElement(Bt.a,{value:"count",onClick:o,active:"count"===l},"Count")))),n.createElement(ra.a.Row,null,n.createElement(ra.a.Column,{width:4,textAlign:"right",style:{marginTop:"6px"}},n.createElement("strong",null,"By")),n.createElement(ra.a.Column,{width:10},n.createElement(Bt.a.Group,{basic:!0,compact:!0,size:"tiny",style:{minWidth:"380px"}},n.createElement(Bt.a,{value:"hourOfDay",onClick:c,active:"hourOfDay"===r},"Hour of Day"),n.createElement(Bt.a,{value:"dayOfWeek",onClick:c,active:"dayOfWeek"===r},"Day of Week"),n.createElement(Bt.a,{value:"month",onClick:c,active:"month"===r},"Month"),n.createElement(Bt.a,{value:"hourOfWeek",onClick:c,active:"hourOfWeek"===r},"Hour of Week")))))}}]),t}(n.Component),qn=Object(c.b)("store")(Object(c.c)(Bn));function Nn(e,t){return"dayOfWeek"===e?Q[t]:"month"===e?J[t-1]:t}var Hn=function(e){var t=e.active,a=e.payload,l=e.label,r=e.totalsColumnName,i=e.timeSegmentsBy,o=e.timeSegmentsAggregation,c=e.dayOfWeek;if(!t||p.a.isEmpty(a))return null;var s=a[0].payload[r];return n.createElement("div",{className:"custom-tooltip"},c&&n.createElement("p",null,"Day of Week: ",c),n.createElement("p",{className:"label"},"hourOfWeek"===i?Ue.hourOfDay.title:Ue[i].title,": ",l),n.createElement(ea.a,{basic:"very",compact:!0},n.createElement(ea.a.Body,null,p.a.map(a,function(e){return n.createElement(ea.a.Row,{style:{color:e.color},key:e.dataKey},n.createElement(ea.a.Cell,null,Ue[e.dataKey].title),n.createElement(ea.a.Cell,{textAlign:"right"},p.a.round(e.value,2)," ","count"===o?"times/yr":Ue[e.dataKey].units))})),n.createElement(ea.a.Footer,null,n.createElement(ea.a.Row,null,n.createElement(ea.a.HeaderCell,null,Ue[r].title),n.createElement(ea.a.HeaderCell,{textAlign:"right"},s," ","count"===o?"times/yr":Ue[r].units)))))},Vn=function(e){var t=e.hist,a=e.chartType,l=e.stackOffset,r=e.timeSegmentsBy,i=e.timeSegmentsAggregation,o=e.isStacked,c=e.columns,s=e.totalsColumnName,u="area"===a?Pn.b:Pn.d,m="area"===a?Pn.a:Pn.c,d="area"===a?null:0;return n.createElement(Pn.j,{minWidth:1e3,minHeight:400,height:"90%"},n.createElement(u,{data:t,barGap:d,stackOffset:l,margin:{top:40,right:30,left:0,bottom:20}},n.createElement(Pn.n,{dataKey:r,label:{value:_[r],position:"bottom",offset:0},tickFormatter:Nn.bind(null,r)}),n.createElement(Pn.o,null),n.createElement(Pn.m,{content:n.createElement(Hn,null),totalsColumnName:s,timeSegmentsBy:r,timeSegmentsAggregation:i}),p.a.map(c,function(e,t){return n.createElement(m,{key:e,type:"monotone",dataKey:e,stackId:o?1:t,stroke:Z[e],fill:Z[e],fillOpacity:"1"})})))},Kn=function(e){var t=e.hist,a=e.chartType,l=e.stackOffset,r=e.timeSegmentsBy,i=e.timeSegmentsAggregation,o=e.isStacked,c=e.columns,s=e.totalsColumnName,u="area"===a?Pn.b:Pn.d,m="area"===a?Pn.a:Pn.c,d="area"===a?null:0,E=p.a.map(["mon","tue","wed","thu","fri","sat","sun"],function(e){var a=p.a.filter(t,function(t){return p.a.includes(t.hourOfWeek,e)});return p.a.map(a,function(e){var t=e.hourOfWeek.split("_");return Object(C.a)({},e,{day:t[0],hour:parseInt(t[1],10)})})});return n.createElement("div",{style:{height:"600px"}},p.a.map(E,function(e,t){var a,y=(a=e[0].day,Q[a]),f=X[e[0].day],h=t===p.a.size(E)-1;return n.createElement(Pn.j,{minWidth:1e3,height:"14%",key:e[0].hourOfWeek+t+""},n.createElement(u,{data:e,barGap:d,stackOffset:l,margin:{top:0,right:30,left:0,bottom:10}},n.createElement(Pn.n,{type:"category",dataKey:"hour",name:"hour",interval:0,label:h?{value:"Hour of Day",position:"bottom",offset:-4}:null,tick:h?{fontSize:"12px"}:{fontSize:0},tickLine:{transform:"translate(0, -6)"}}),n.createElement(Pn.o,{label:{value:y,position:"insideRight"},width:40,tick:!1,tickLine:!1,axisLine:!1}),n.createElement(Pn.m,{content:n.createElement(Hn,null),totalsColumnName:s,timeSegmentsBy:r,timeSegmentsAggregation:i,dayOfWeek:f,wrapperStyle:{zIndex:100}}),p.a.map(c,function(e,t){return n.createElement(m,{key:e,type:"monotone",name:"hourOfDay",dataKey:e,stackId:o?1:t,stroke:Z[e],fill:Z[e],fillOpacity:"1"})})))}))};function Yn(e,t,a){var l="".concat(_[t]," ").concat(_[e]," by ").concat(_[a]),r="load"===e||"unmetLoad"===e,i="excessProduction"===e,o=n.createElement("span",null,"Adding appliances will increase the ",p.a.toLower(_[e]),", so in this chart it is stacked on top of the original ",p.a.toLower(_[e])),c=n.createElement("span",null,"Adding appliances will decrease the ",p.a.toLower(_[e]),", so in this chart it is drawn below the original");return n.createElement(la.a,{as:"h3"},l,n.createElement(la.a.Subheader,{style:Jn},function(e,t,a){if("count"===t)return"For example, hovering over ".concat(Qn[a]," shows you the count of hours per year we have ").concat(Xn[e]," at ").concat(Qn[a],".");return"For example, hovering over ".concat(Qn[a]," shows you the ").concat(t," of the ").concat(Zn[e]," components for every ").concat(Qn[a]," in a year")}(e,t,a)),r&&n.createElement(la.a.Subheader,{style:Jn},o),i&&n.createElement(la.a.Subheader,{style:Jn},c))}var Zn={load:"load",unmetLoad:"unmet load",excessProduction:"excess production"},Qn={hourOfDay:"9am",dayOfWeek:"Wednesday",month:"April",hourOfWeek:"Monday at 9am"},Xn={load:"any load",unmetLoad:"an unmet load",excessProduction:"an excess production"},Jn={marginTop:"4px"},_n=function(e){function t(){var e,a;Object(Yt.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(Qt.a)(this,(e=Object(Xt.a)(t)).call.apply(e,[this].concat(l)))).state={chartType:"area",stackOffset:"none",load:new Set,unmetLoad:new Set,excessProduction:new Set},a.handleLegendClick=function(e,t){var n=t.value;e.preventDefault();var l=a.props.store.timeSegmentsMetric;a.setState(function(e){var t=e[l];return t.has(n)?t.delete(n):t.add(n)})},a.handleStackClick=function(e,t){var n=t.value;e.preventDefault(),a.setState({stackOffset:n})},a.handleChartTypeClick=function(e,t){var n=t.value;e.preventDefault(),a.setState({chartType:n})},a}return Object(Jt.a)(t,e),Object(Zt.a)(t,[{key:"render",value:function(){var e=this,t=this.props.store,a=t.timeSegments,l=t.timeSegmentsMetric,r=t.timeSegmentsAggregation,i=t.timeSegmentsBy;if(p.a.isEmpty(a))return n.createElement(En,null);var o=ft[l][0],c=this.state,s=c.stackOffset,u=c.chartType,m=a["".concat(r,"_").concat(i,"_hist")],d=Yn(l,r,i),E="excessProduction"!==l,y=ht[l],f=this.state[l],h=p.a.without.apply(p.a,[y].concat(Object(W.a)(f)));return n.createElement("div",null,n.createElement(ra.a,null,n.createElement(ra.a.Row,null,n.createElement(ra.a.Column,{width:10},n.createElement(qn,null)),n.createElement(ra.a.Column,{width:6},n.createElement(ra.a,null,n.createElement(ra.a.Row,{style:{paddingBottom:0}},n.createElement(ra.a.Column,{width:4,textAlign:"right",style:{marginTop:"6px"}},n.createElement("strong",null,"Stack")),n.createElement(ra.a.Column,{width:10},n.createElement(Bt.a.Group,{basic:!0,compact:!0,size:"tiny"},n.createElement(Bt.a,{value:"none",onClick:this.handleStackClick,active:"none"===s},"Normal"),n.createElement(Bt.a,{disabled:!E,value:"expand",onClick:this.handleStackClick,active:"expand"===s},"Percent")))),n.createElement(ra.a.Row,{style:{paddingBottom:0}},n.createElement(ra.a.Column,{width:4,textAlign:"right",style:{marginTop:"6px"}},n.createElement("strong",null,"Chart Type")),n.createElement(ra.a.Column,{width:10},n.createElement(Bt.a.Group,{basic:!0,compact:!0,size:"tiny"},n.createElement(Bt.a,{value:"area",onClick:this.handleChartTypeClick,active:"area"===u},n.createElement($t.a,{name:"chart area",style:{marginLeft:"4px"}})),n.createElement(Bt.a,{value:"bar",onClick:this.handleChartTypeClick,active:"bar"===u},n.createElement($t.a,{name:"chart bar",style:{marginLeft:"4px"}})))))))),n.createElement(ra.a.Row,null,n.createElement(ra.a.Column,{width:16},d))),"hourOfWeek"!==i&&n.createElement(Vn,{hist:m,chartType:u,stackOffset:s,timeSegmentsBy:i,timeSegmentsAggregation:r,isStacked:E,columns:h,totalsColumnName:o}),"hourOfWeek"===i&&n.createElement(Kn,{hist:m,chartType:u,stackOffset:s,timeSegmentsBy:i,timeSegmentsAggregation:r,isStacked:E,columns:h,totalsColumnName:o}),n.createElement("p",null," "),n.createElement(ra.a,null,n.createElement(ra.a.Row,null,n.createElement(ra.a.Column,{width:16,textAlign:"center"},p.a.map(y,function(t){return n.createElement(sa.a,{basic:!0,key:t,value:t,onClick:e.handleLegendClick,style:el(t),size:"large"},n.createElement($t.a,{name:"square outline".concat(f.has(t)?"":" check")}),Ue[t].title)})))))}}]),t}(n.Component),$n=Object(c.b)("store")(Object(c.c)(_n));function el(e){return{borderBottom:"4px solid ".concat(Z[e]),cursor:"pointer"}}var tl=a(883),al=["pvType","powerType","batteryType","generatorType","wholesaleElectricityCost","retailElectricityPrice","unmetLoadCostPerKwh","batteryMinEnergyContent","batteryEstimatedMinEnergyContent","batteryMaxEnergyContent","batteryEstimatedMaxEnergyContent"],nl=["capex","capexAssignment","powerType","phase","hasMotor","powerFactor","nominalPower","dutyCycleDerateFactor","productionUnitType","productionUnitsPerKwh","revenuePerProductionUnits"],ll=["compatibility","compatibilityMessage","capex","capexAssignment","estimatedCapex","efficiencyRating","estimatedEfficiency","equipmentSize"];var rl=function(e){var t=e.field,a=Ue[t].description;return n.createElement("div",null,a&&n.createElement("p",null,a),n.createElement("p",null,"Internal Field Name:",n.createElement("br",null),n.createElement("code",null,t)))},il=Object(c.c)(function(e){var t=e.grid,a=t.cardIsOpen,l=t.toggleCard;return n.createElement("div",null,n.createElement(tl.a,{horizontal:!0},"Active Grid"),n.createElement(Da.a,{fluid:!0,className:"activeCardBorder",onClick:l},n.createElement(Da.a.Content,{style:{backgroundColor:"#F9FAFB"}},n.createElement(ra.a,null,n.createElement(ra.a.Row,null,n.createElement(ra.a.Column,{width:14},n.createElement(la.a,null,t.label)),n.createElement(ra.a.Column,{width:2},n.createElement(o.a,{render:function(e){var t=e.history;return n.createElement(Bt.a,{basic:!0,circular:!0,icon:"right arrow",floated:"right",size:"tiny",style:{marginTop:"-6px"},onClick:function(){t.push("/files/homer")}})}}))))),n.createElement(Da.a.Content,{description:t.description}),a&&n.createElement(Da.a.Content,null,n.createElement(ea.a,{basic:"very",compact:!0},n.createElement(ea.a.Body,null,p.a.map(al,function(e){return n.createElement(ea.a.Row,{key:e},n.createElement(ea.a.Cell,null,Ue[e].title," ",n.createElement(wa,{content:n.createElement(rl,{field:e}),position:"right center"})),n.createElement(ea.a.Cell,{textAlign:"right"},t[e]))})))),a&&n.createElement(Da.a.Content,{extra:!0},"File Type: ",t.fileInfo.fileType,t.fileInfo.isSample?", Sample File":", Imported File")))}),ol=Object(c.c)(function(e){var t=e.appliance,a=t.cardIsOpen,l=t.toggleCard;return n.createElement(Da.a,{fluid:!0,className:"activeCardBorder",onClick:l},n.createElement(Da.a.Content,{style:{backgroundColor:"#F9FAFB"}},n.createElement(ra.a,null,n.createElement(ra.a.Row,null,n.createElement(ra.a.Column,{width:14},n.createElement(la.a,null,t.label)),n.createElement(ra.a.Column,{width:2},n.createElement(o.a,{render:function(e){var t=e.history;return n.createElement(Bt.a,{basic:!0,circular:!0,icon:"right arrow",floated:"right",size:"tiny",style:{marginTop:"-6px"},onClick:function(){t.push("/files/appliance")}})}}))))),n.createElement(Da.a.Content,{description:t.description}),a&&n.createElement(Da.a.Content,null,n.createElement(ea.a,{basic:"very",compact:!0},n.createElement(ea.a.Body,null,p.a.map(nl,function(e){return n.createElement(ea.a.Row,{key:e},n.createElement(ea.a.Cell,null,Ue[e].title," ",n.createElement(wa,{content:n.createElement(rl,{field:e}),position:"right center"})),n.createElement(ea.a.Cell,{textAlign:"right"},p.a.isBoolean(t[e])?t[e]?"Yes":"No":t[e]))})))),a&&n.createElement(Da.a.Content,{extra:!0},"File Type: ",t.fileInfo.applianceType,t.fileInfo.isSample?", Sample File":", Imported File"))}),cl=Object(c.c)(function(e){var t=e.equipment,a=t.cardIsOpen,l=t.toggleCard;return n.createElement(Da.a,{fluid:!0,className:"activeCardBorder",onClick:l},n.createElement(Da.a.Content,{style:{backgroundColor:"#F9FAFB"}},n.createElement(ra.a,null,n.createElement(ra.a.Row,null,n.createElement(ra.a.Column,{width:14},n.createElement(la.a,null,t.label)),n.createElement(ra.a.Column,{width:2},n.createElement(o.a,{render:function(e){var t=e.history;return n.createElement(Bt.a,{basic:!0,circular:!0,icon:"right arrow",floated:"right",size:"tiny",style:{marginTop:"-6px"},onClick:function(){t.push("/tool/ancillary")}})}}))))),n.createElement(Da.a.Content,{description:t.description}),a&&n.createElement(Da.a.Content,null,n.createElement(ea.a,{basic:"very",compact:!0},n.createElement(ea.a.Body,null,p.a.map(ll,function(e){return n.createElement(ea.a.Row,{key:e},n.createElement(ea.a.Cell,null,Ue[e].title," ",n.createElement(wa,{content:n.createElement(rl,{field:e}),position:"right center"})),n.createElement(ea.a.Cell,{textAlign:"right"},"compatibility"===e?function(e){switch(e){case"required":return"Required Equipment";case"useful":return"Equipment may be useful";case"notuseful":return"Incompatible Equipment";default:return"N/A"}}(t[e]):t[e]," "))})))))}),sl=function(e){function t(){return Object(Yt.a)(this,t),Object(Qt.a)(this,Object(Xt.a)(t).apply(this,arguments))}return Object(Jt.a)(t,e),Object(Zt.a)(t,[{key:"render",value:function(){var e=this.props.store,t=e.combinedTable,a=e.enabledAppliances,l=e.activeGrid,r=e.handleCardExpansion;return p.a.isEmpty(t)?n.createElement(En,null):n.createElement(ra.a,null,n.createElement(ra.a.Row,null,n.createElement(ra.a.Column,{width:16},n.createElement(Bt.a.Group,{basic:!0,compact:!0,style:{float:"right"}},n.createElement(Bt.a,{onClick:r.bind(null,!1)},"Compact All"),n.createElement(Bt.a,{onClick:r.bind(null,!0)},"Expanded All")))),n.createElement(ra.a.Row,null,n.createElement(ra.a.Column,{width:6},n.createElement(il,{grid:l})),n.createElement(ra.a.Column,{width:10},p.a.map(a,function(e,t){return n.createElement(ml,{key:e.fileInfo.id,appliance:e,applianceIndex:t})}))))}}]),t}(n.Component),ul=Object(c.b)("store")(Object(c.c)(sl)),ml=Object(c.b)("store")(Object(c.c)(function(e){e.store;var t=e.appliance,a=e.applianceIndex;return n.createElement("div",null,n.createElement(tl.a,{horizontal:!0},"Enabled Appliance ",a+1," & Ancillary Equipment"),n.createElement(ra.a,{style:{marginBottom:"30px"}},n.createElement(ra.a.Row,null,n.createElement(ra.a.Column,{width:8},n.createElement(ol,{appliance:t})),n.createElement(ra.a.Column,{width:8},p.a.map(t.enabledAncillaryEquipment,function(e){return n.createElement(cl,{equipment:e,key:e.label})})))))})),pl=Object(c.b)("store")(Object(c.c)(function(e){e.match;var t=e.store.activeGrid;return p.a.isEmpty(t)?n.createElement(ba,null):n.createElement("div",null,n.createElement(ga,null),n.createElement(Gt.a,{secondary:!0,pointing:!0},n.createElement(Gt.a.Item,{as:Nt,to:"/",name:"Summary"}),n.createElement(Gt.a.Item,{as:Nt,to:"/tool/components",name:"System Components"}),n.createElement(Gt.a.Item,{as:Nt,to:"/tool/ancillary",name:"Ancillary Equipment"}),n.createElement(Gt.a.Item,{as:Nt,to:"/tool/datatable",name:"Data"}),n.createElement(Gt.a.Item,{as:Nt,to:"/tool/loads",name:"Loads"}),n.createElement(Gt.a.Item,{as:Nt,to:"/tool/time-segments",name:"Grid Analysis"}),n.createElement(Gt.a.Item,{as:Nt,to:"/tool/battery-energy-content",name:"Battery Analysis"})),n.createElement("div",{className:"mainContent"},n.createElement(o.a,{exact:!0,path:"/",component:Pa}),n.createElement(o.a,{exact:!0,path:"/tool",component:Pa}),n.createElement(o.a,{path:"/tool/summary",component:Pa}),n.createElement(o.a,{path:"/tool/ancillary",component:un}),n.createElement(o.a,{path:"/tool/datatable",component:jn}),n.createElement(o.a,{path:"/tool/loads",component:Ln}),n.createElement(o.a,{path:"/tool/time-segments",component:$n}),n.createElement(o.a,{path:"/tool/battery-energy-content",component:Un}),n.createElement(o.a,{path:"/tool/components",component:ul})))})),dl=a(463),El=a(449),yl=a.n(El),fl=a(450),hl=a.n(fl),gl=a(451),bl=a.n(gl),Cl=function(){return n.createElement(ra.a,{padded:!0},n.createElement(ra.a.Row,null,n.createElement(ra.a.Column,{width:10},n.createElement(la.a,{as:"h2"},"About this Software"),n.createElement("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."),n.createElement(dl.a,{src:bl.a,bordered:!0})),n.createElement(ra.a.Column,{width:6},n.createElement(Ca.a,null,n.createElement(la.a,{as:"h3"},"Contact"),n.createElement(ra.a,null,n.createElement(ra.a.Row,null,n.createElement(ra.a.Column,{width:16},"For general questions and comments about this app, contact"," ",n.createElement("a",{href:"http://#.com"},"Amanda DelCore")," at"," ",n.createElement("a",{href:"http://www.factore.com"},"Factor[e]"))),n.createElement(ra.a.Row,null,n.createElement(ra.a.Column,{width:16},"For technical problems with this app, contact"," ",n.createElement("a",{href:"http://#.com"},"Jeff Friesen")," at"," ",n.createElement("a",{href:"http://www.radiantlabs.co"},"Radiant Labs"))))))),n.createElement(ra.a.Row,null,n.createElement(ra.a.Column,null,n.createElement(Ca.a,null,n.createElement(dl.a,{src:yl.a,size:"small",floated:"left",href:"http://www.factore.com"}),n.createElement("p",null,"Our mission is to improve lives in the developing world through increased access to sustainable energy and related services. We believe that technology can be a profound driver of positive impact, and we work closely with early stage entrepreneurs to transform their ideas into market-based solutions."),n.createElement("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."),n.createElement("p",null,"Gumbo beet greens corn soko endive gumbo gourd. Parsley shallot courgette tatsoi pea sprouts fava bean collard greens dandelion okra wakame tomato. Dandelion cucumber earthnut pea peanut soko zucchini.")))),n.createElement(ra.a.Row,null,n.createElement(ra.a.Column,null,n.createElement(la.a,{as:"h5"},"In partnership with:"),n.createElement(Ca.a,null,n.createElement(dl.a,{src:hl.a,size:"small",floated:"left",href:"http://www.radiantlabs.co"}),n.createElement("p",null,"Radiant Labs builds tools that drive carbon reduction solutions for cities, states and utilities. We partner with organizations leading the field and driving the coming decades most important innovations."),n.createElement("p",null)))))},vl=a(149),wl=a(892),Al=a(452),xl=function(e){function t(e){var a;return Object(Yt.a)(this,t),(a=Object(Qt.a)(this,Object(Xt.a)(t).call(this,e))).id=Al.v1(),a.onChangeFile=a.onChangeFile.bind(Object(vl.a)(a)),a}return Object(Jt.a)(t,e),Object(Zt.a)(t,[{key:"render",value:function(){return n.createElement("div",null,n.createElement(Bt.a,Object.assign({},this.props,{as:"label",htmlFor:this.id})),n.createElement("input",{hidden:!0,id:this.id,multiple:!0,type:"file",onChange:this.onChangeFile}))}},{key:"onChangeFile",value:function(){var e=document.getElementById(this.id).files[0];e?this.props.onSelect(e):console.log("no file found")}}]),t}(n.Component),Ol=Object(c.b)("store")(Object(c.c)(function(e){var t=e.grid,a=t.batteryMaxSoC,l=t.batteryMinSoC,r=t.batteryMaxEnergyContent,i=t.batteryMinEnergyContent,o=t.batteryEstimatedMaxEnergyContent,c=t.batteryEstimatedMinEnergyContent,s=r===o,u=i===c;return n.createElement(ea.a,{basic:"very",compact:!0},n.createElement(ea.a.Body,null,n.createElement(ea.a.Row,null,n.createElement(ea.a.Cell,null,"Battery Max Energy Content"),n.createElement(ea.a.Cell,{textAlign:"right"},r,r&&" kWh")),n.createElement(ea.a.Row,null,n.createElement(ea.a.Cell,null,"Battery Min Energy Content"),n.createElement(ea.a.Cell,{textAlign:"right"},i,i&&" kWh")),n.createElement(ea.a.Row,null,n.createElement(ea.a.Cell,null,"Estimated Battery Max Energy Content"),n.createElement(ea.a.Cell,{textAlign:"right"},o,o&&" kWh")),n.createElement(ea.a.Row,null,n.createElement(ea.a.Cell,null,"Estimated Battery Min Energy Content"),n.createElement(ea.a.Cell,{textAlign:"right"},c,c&&" kWh")),n.createElement(ea.a.Row,null,n.createElement(ea.a.Cell,{width:9},"Battery Max State of Charge"),n.createElement(ea.a.Cell,{width:7,textAlign:"right"},s?a:"N/A",s&&a?" %":"")),n.createElement(ea.a.Row,null,n.createElement(ea.a.Cell,null,"Battery Min State of Charge"),n.createElement(ea.a.Cell,{textAlign:"right"},u?l:"N/A",u&&l?" %":""))))})),kl=Object(c.b)("store")(Object(c.c)(function(e){var t=e.store.viewedGrid;return n.createElement(ea.a,{basic:"very",collapsing:!0,compact:!0,className:Sa.a.borderless},n.createElement(ea.a.Body,null,n.createElement(ea.a.Row,null,n.createElement(ea.a.Cell,null,Ue.label.title," ",n.createElement(wa,{content:Ue.label.description,position:"right center"})),n.createElement(ea.a.Cell,null,n.createElement(ma,{fieldKey:"label",modelInstance:t}))),n.createElement(ea.a.Row,null,n.createElement(ea.a.Cell,null,Ue.description.title," ",n.createElement(wa,{content:Ue.description.description,position:"right center"})),n.createElement(ea.a.Cell,null,n.createElement(ma,{fieldKey:"description",modelInstance:t,type:"textarea"}))),n.createElement(ea.a.Row,null,n.createElement(ea.a.Cell,null,Ue.wholesaleElectricityCost.title," ",n.createElement(wa,{content:Ue.wholesaleElectricityCost.description,position:"right center"})),n.createElement(ea.a.Cell,null,n.createElement(ma,{fieldKey:"wholesaleElectricityCost",modelInstance:t}))),n.createElement(ea.a.Row,null,n.createElement(ea.a.Cell,null,Ue.retailElectricityPrice.title," ",n.createElement(wa,{content:Ue.retailElectricityPrice.description,position:"right center"})),n.createElement(ea.a.Cell,null,n.createElement(ma,{fieldKey:"retailElectricityPrice",modelInstance:t}))),n.createElement(ea.a.Row,null,n.createElement(ea.a.Cell,null,Ue.unmetLoadCostPerKwh.title," ",n.createElement(wa,{content:Ue.unmetLoadCostPerKwh.description,position:"right center"})),n.createElement(ea.a.Cell,null,n.createElement(ma,{fieldKey:"unmetLoadCostPerKwh",modelInstance:t}))),n.createElement(ea.a.Row,null,n.createElement(ea.a.Cell,null,Ue.batteryMinEnergyContent.title," ",n.createElement(wa,{content:Ue.batteryMinEnergyContent.description,position:"right center"})),n.createElement(ea.a.Cell,null,n.createElement(ma,{fieldKey:"batteryMinEnergyContent",modelInstance:t}))),n.createElement(ea.a.Row,null,n.createElement(ea.a.Cell,null,Ue.batteryMaxEnergyContent.title," ",n.createElement(wa,{content:Ue.batteryMaxEnergyContent.description,position:"right center"})),n.createElement(ea.a.Cell,null,n.createElement(ma,{fieldKey:"batteryMaxEnergyContent",modelInstance:t}))),n.createElement(ea.a.Row,null,n.createElement(ea.a.Cell,null,"Power Type ",n.createElement(wa,{content:"AC \u26a1 DC",position:"right center"})),n.createElement(ea.a.Cell,null,t.powerType)),n.createElement(ea.a.Row,null,n.createElement(ea.a.Cell,null,"Battery Type"," ",n.createElement(wa,{position:"right center",content:"This is determined by reading the headers of the HOMER file. This is the battery you chose when you created the HOMER file."})),n.createElement(ea.a.Cell,null,t.batteryType)),n.createElement(ea.a.Row,null,n.createElement(ea.a.Cell,null,"PV Type"," ",n.createElement(wa,{position:"right center",content:"This is determined by reading the headers of the HOMER file. This is the PV system you chose when you created the HOMER file."})),n.createElement(ea.a.Cell,null,t.pvType)),n.createElement(ea.a.Row,null,n.createElement(ea.a.Cell,null,"Generator Type"," ",n.createElement(wa,{position:"right center",content:"This is determined by reading the headers of the HOMER file. This is the generator you chose when you created the HOMER file."})),n.createElement(ea.a.Cell,null,t.generatorType))))})),Il=Object(c.b)("store")(Object(c.c)(function(e){var t=e.data,a=e.predicted,l=e.actual;if(p.a.isEmpty(t))return n.createElement(_t.a,{active:!0,inline:"centered",style:{position:"absolute",top:"60%",left:"50%"}});var r=p.a.floor(p.a.minBy(t,a)[a]),i=p.a.ceil(p.a.maxBy(t,a)[a]),o=p.a.range(r,i),c=p.a.map(o,function(e){var t;return t={},Object(U.a)(t,l,e),Object(U.a)(t,a,e),t}),s=p.a.sampleSize(t,2e3);return n.createElement(Pn.j,{height:500},n.createElement(Pn.l,{margin:{top:20,right:20,bottom:20,left:40}},n.createElement(Pn.n,{type:"number",dataKey:l,domain:[r,i],label:{value:l,offset:-10,position:"insideBottom"}}),n.createElement(Pn.o,{type:"number",dataKey:a,domain:[r,i],label:{value:a,angle:-90}}),n.createElement(Pn.f,null),n.createElement(Pn.m,{cursor:{strokeDasharray:"3 3"}}),n.createElement(Pn.h,{verticalAlign:"top",align:"right"}),n.createElement(Pn.k,{name:"Trained data",data:s,fill:"#83A1C3",shape:n.createElement(Pn.g,{r:1})}),n.createElement(Pn.k,{name:"Reference Line",data:c,fill:"#E20000",line:{strokeDasharray:"5 5"},legendType:"line",shape:n.createElement(Pn.g,{r:0})})))})),Sl={color:V[1],fontWeight:"200",fontSize:"16px"},Tl=function(e){function t(){return Object(Yt.a)(this,t),Object(Qt.a)(this,Object(Xt.a)(t).apply(this,arguments))}return Object(Jt.a)(t,e),Object(Zt.a)(t,[{key:"render",value:function(){var e=this.props.grid;return p.a.isEmpty(e.fileImportErrors)?n.createElement("div",{style:{marginTop:"2rem"}},n.createElement(ra.a,null,n.createElement(ra.a.Row,null,n.createElement(ra.a.Column,null,n.createElement(la.a,{as:"h3",style:{display:"inline-block",marginBottom:"8px"}},"Battery Charge & Discharge Model"),n.createElement("p",{style:Sl},"Recreate a simplified kinetic battery model based on the HOMER file.")))),n.createElement(ra.a,null,n.createElement(ra.a.Row,null,n.createElement(ra.a.Column,{width:10},n.createElement(Il,{data:e.fileData,predicted:"originalModeledBatteryEnergyContent",actual:"originalBatteryEnergyContent"})),n.createElement(ra.a.Column,{width:6},n.createElement(jl,null))))):null}}]),t}(n.Component),Ml=Object(c.b)("store")(Object(c.c)(Tl)),jl=Object(c.b)("store")(Object(c.c)(function(e){var t=e.store.viewedGrid,a=t.batteryAvgErrorPct,l=t.batteryMaxErrorPct;return n.createElement(ea.a,{compact:"very",size:"small",basic:"very",style:{marginTop:"40px"}},n.createElement(ea.a.Body,null,n.createElement(ea.a.Row,null,n.createElement(ea.a.Cell,null,"Battery Model Average Error"),n.createElement(ea.a.Cell,{textAlign:"right"},a?"\xb1 ".concat(a," %"):"...")),n.createElement(ea.a.Row,null,n.createElement(ea.a.Cell,null,"Battery Model Max Error"),n.createElement(ea.a.Cell,{textAlign:"right"},l?"".concat(l," %"):"..."))))})),Pl=function(e){var t=e.fileImportErrors,a=e.level;if(p.a.isEmpty(t))return"None Found";var l="error"===a?"red":"orange";return n.createElement(Ca.a,{color:l,inverted:!0},p.a.map(t,function(e){return n.createElement("p",{key:e},e)}))},Rl=Object(c.b)("store")(Object(c.c)(function(e){var t=e.store,a=t.viewedGrid,l=t.deleteGridFile,r=a.fileInfo,i=a.label,o=r.isSample,c=r.id;return n.createElement(Ca.a,null,n.createElement(la.a,null,"Danger Zone"),n.createElement(ra.a,null,n.createElement(ra.a.Row,null,n.createElement(ra.a.Column,{width:12},o&&"Delete this sample HOMER file. The only way to retrieve this file in the future is delete all data to reset the app. There will be no confirmation.",!o&&"Delete this HOMER file. There will be no confirmation."),n.createElement(ra.a.Column,{width:4},n.createElement(Bt.a,{basic:!0,compact:!0,color:"red",floated:"right",style:{marginTop:"-8px"},onClick:l.bind(null,c)},"Delete ",i)))))})),Ll=Object(c.b)("store")(Object(c.c)(function(e){var t=e.store,a=e.viewedGrid,l=a.fileIsSelected,r=a.isAnalyzingFile,i=a.handleGridFileUpload,o=a.fileReadyToSave,c=a.fileImportErrors,s=t.cancelStagedGrid,u=t.saveStagedGrid;return n.createElement("div",null,n.createElement(la.a,{as:"h2",attached:"top",style:{paddingBottom:"18px"}},!l&&n.createElement(xl,{content:"Upload & Analyze HOMER File",icon:"upload",size:"tiny",color:"blue",floated:"right",onSelect:i,basic:!0}),l&&n.createElement(n.Fragment,null,n.createElement(Bt.a,{content:"Save HOMER File",icon:"save",size:"tiny",color:"blue",floated:"right",disabled:!o,onClick:u,basic:!0}),n.createElement(Bt.a,{floated:"right",basic:!0,size:"tiny",onClick:s},n.createElement($t.a,{name:"cancel"}),"Cancel"),!p.a.isEmpty(c)&&n.createElement(n.Fragment,null,n.createElement("div",{className:"saveFileMessageErrorStyle"},"Resolve errors with the imported file before saving"),n.createElement("br",null)),!o&&n.createElement("div",{className:"saveFileMessageStyle"},"Fill out all fields before saving file")),"Add HOMER File",r&&n.createElement(la.a.Subheader,{style:{display:"inline-block",marginLeft:"1rem"}},"Analyzing File ",n.createElement(_t.a,{active:!0,inline:!0,size:"tiny"}))))})),Dl=function(e){function t(){var e,a;Object(Yt.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(Qt.a)(this,(e=Object(Xt.a)(t)).call.apply(e,[this].concat(l)))).handleActivateGrid=function(){var e=p.a.get(Object(vl.a)(a),"props.viewedGrid.fileInfo.id");a.props.store.setActiveGridFile(e)},a}return Object(Jt.a)(t,e),Object(Zt.a)(t,[{key:"render",value:function(){var e=this.props.viewedGrid,t=e.fileImportErrors,a=e.fileImportWarnings;if(p.a.isEmpty(e))return n.createElement("h2",null,"Empty Viewed Grid");var l=this.props.store.viewedGridIsStaged,r=e.label,i=e.description,o=e.showAnalyzedResults,c=e.isActive;return n.createElement("div",null,l&&n.createElement(Ll,{viewedGrid:e}),!l&&n.createElement(la.a,{as:"h2",attached:"top",className:c?"activeFileBorderNoBottom":null},r,!c&&n.createElement(Bt.a,{floated:"right",basic:!0,size:"tiny",onClick:this.handleActivateGrid,color:"blue"},"Make Grid Active"),n.createElement(la.a.Subheader,null,i)),!o&&n.createElement(wl.a,{warning:!0},n.createElement("p",null,"This app is in beta. You may have to re-upload files in the future when we update this app. Make sure to keep copies of your files.")),o&&n.createElement(n.Fragment,null,n.createElement(Ca.a,{attached:!0,className:c?"activeFileBorderNoTop":null},n.createElement(ra.a,null,n.createElement(ra.a.Row,null,n.createElement(ra.a.Column,{width:10},n.createElement(kl,null)),n.createElement(ra.a.Column,{width:6},n.createElement(Ol,{grid:e}))),n.createElement(ra.a.Row,null,n.createElement(ra.a.Column,{width:4},"File Upload Warnings"),n.createElement(ra.a.Column,{width:12},n.createElement(Pl,{fileImportErrors:a,level:"warning"}))),n.createElement(ra.a.Row,null,n.createElement(ra.a.Column,{width:4},"File Upload Warnings"),n.createElement(ra.a.Column,{width:12},n.createElement(Pl,{fileImportErrors:t,level:"error"}))),n.createElement(ra.a.Row,null,n.createElement(ra.a.Column,null,n.createElement(Ml,{grid:e})))),n.createElement(tl.a,null)),!l&&n.createElement(Rl,null)))}}]),t}(n.Component),Fl=Object(c.b)("store")(Object(c.c)(Dl)),Ul=function(e){var t=e.file;return n.createElement(ea.a,{basic:"very",inverted:!0},n.createElement(ea.a.Body,null,n.createElement(ea.a.Row,null,n.createElement(ea.a.Cell,{width:7},"File Size"),n.createElement(ea.a.Cell,{width:9,textAlign:"right"},t.prettyFileSize)),n.createElement(ea.a.Row,null,n.createElement(ea.a.Cell,null,"File Warnings"),n.createElement(ea.a.Cell,{textAlign:"right"},p.a.isEmpty(t.fileImportWarnings)?"None":t.fileImportWarnings.join(", "))),n.createElement(ea.a.Row,null,n.createElement(ea.a.Cell,null,"PV Type"),n.createElement(ea.a.Cell,{textAlign:"right"},t.pvType)),n.createElement(ea.a.Row,null,n.createElement(ea.a.Cell,null,"Battery Type"),n.createElement(ea.a.Cell,{textAlign:"right"},t.batteryType)),n.createElement(ea.a.Row,null,n.createElement(ea.a.Cell,null,"Generator Type"),n.createElement(ea.a.Cell,{textAlign:"right"},t.generatorType))))},Wl={background:"none #fff",border:"1px solid rgba(34,36,38,.15)",color:"rgba(0,0,0,.87)",boxShadow:"none",marginTop:"1px"},Gl=function(e){function t(){var e,a;Object(Yt.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(Qt.a)(this,(e=Object(Xt.a)(t)).call.apply(e,[this].concat(l)))).handleAddFileClick=function(e,t){e.preventDefault(),a.props.store.createStagedGrid(),a.props.store.setViewedGridId("staged")},a.handleFileNavClick=function(e,t){t.preventDefault(),a.props.store.setViewedGridId(e)},a}return Object(Jt.a)(t,e),Object(Zt.a)(t,[{key:"render",value:function(){var e=this,t=this.props.store,a=t.viewedGridId,l=t.availableGrids,r=t.viewedGridIsStaged,i=t.viewedGrid,o=p.a.isEmpty(a);return n.createElement(ra.a,{padded:!0},n.createElement(ra.a.Row,null,n.createElement(ra.a.Column,{width:4},n.createElement(Gt.a,{vertical:!0,fluid:!0},n.createElement(Gt.a.Item,{name:"Add New HOMER File",active:r,onClick:this.handleAddFileClick},"Add New HOMER File",n.createElement(Bt.a,{icon:!0,floated:"right",basic:!0,compact:!0,size:"small",style:{marginTop:"-7px",marginRight:"-9px"}},n.createElement($t.a,{name:"plus",color:"blue"})))),n.createElement(Gt.a,{vertical:!0,fluid:!0},p.a.map(l,function(t,l){var r=t.isActive,i=t.fileInfo,o=t.description,c=t.label;return n.createElement(Gt.a.Item,{key:i.id,name:c,style:{minHeight:"60px"},active:a===i.id,onClick:e.handleFileNavClick.bind(null,i.id)},n.createElement(la.a,{sub:!0},c),n.createElement(wa,{content:n.createElement(Ul,{file:t}),position:"right center",wide:!0}),n.createElement("p",{style:{marginBottom:0,fontSize:"0.9em",fontWeight:300}},o),(r||i.isSample)&&n.createElement(sa.a,{basic:!0,attached:"top right",size:"mini",style:Wl,color:r?"blue":null},r&&"Active",i.isSample&&r&&", ",i.isSample&&"Sample"))}))),n.createElement(ra.a.Column,{width:12},o?n.createElement(Bl,null):n.createElement(Fl,{viewedGrid:i}))))}}]),t}(n.Component),zl=Object(c.b)("store")(Object(c.c)(Gl)),Bl=function(){return F("Hit HomerFileBlankState which probably shouldnt happen"),n.createElement("div",null,n.createElement(la.a,{as:"h3"},"HOMER File Management"),n.createElement(Ra.a,{size:"large",bulleted:!0},n.createElement(Ra.a.Item,null,"Add a new HOMER file"),n.createElement(Ra.a.Item,null,"View, edit or delete your existing HOMER files")),n.createElement("p",null,"Click on the menu on the left to do any of these tasks"))},ql=Object(c.b)("store")(Object(c.c)(function(e){var t=e.store.viewedAppliance.applianceSummaryStats,a=t.yearlyApplianceLoad,l=t.yearlyProductionUnits,r=t.yearlyProductionUnitsRevenue;return n.createElement(ea.a,{celled:!0},n.createElement(ea.a.Header,null,n.createElement(ea.a.Row,null,n.createElement(ea.a.HeaderCell,null,"Summary Stat"),n.createElement(ea.a.HeaderCell,null,"Value"),n.createElement(ea.a.HeaderCell,null,"How it was calculated"))),n.createElement(ea.a.Body,null,n.createElement(ea.a.Row,null,n.createElement(ea.a.Cell,null,"Yearly Appliance Load"),n.createElement(ea.a.Cell,{textAlign:"right"},p.a.round(a)||""," kWh"),n.createElement(ea.a.Cell,null,"kW Factor * Nominal Power * Duty Cycle Derate Factor (summed over year)")),n.createElement(ea.a.Row,null,n.createElement(ea.a.Cell,null,"Yearly Production Units"),n.createElement(ea.a.Cell,{textAlign:"right"},p.a.round(l)||""),n.createElement(ea.a.Cell,null,"Appliance Load * Appliance Units of Production per kWh (summed over year)")),n.createElement(ea.a.Row,null,n.createElement(ea.a.Cell,null,"Yearly Production Units Revenue"),n.createElement(ea.a.Cell,{textAlign:"right"},"$",p.a.round(r)||""),n.createElement(ea.a.Cell,null,"Revenue Per Production Units * Production Units (summed over year)"))))})),Nl=Object(c.b)("store")(Object(c.c)(function(e){var t=e.store.viewedAppliance,a=t.powerType,l=t.handlePowerTypeChange,r=t.phase,i=t.handlePhaseChange,o=t.hasMotor,c=t.handleHasMotorChange,s=t.fileImportErrors,u=t.fileImportWarnings;return n.createElement(ra.a,null,n.createElement(ra.a.Row,null,n.createElement(ra.a.Column,{width:8},n.createElement(Hl,{fieldKey:"label",modelInstance:t}),n.createElement(Hl,{fieldKey:"description",modelInstance:t,type:"textarea"}),n.createElement(Hl,{fieldKey:"nominalPower",modelInstance:t}),n.createElement(Hl,{fieldKey:"productionUnitType",modelInstance:t}),n.createElement(Hl,{fieldKey:"productionUnitsPerKwh",modelInstance:t}),n.createElement(Hl,{fieldKey:"revenuePerProductionUnits",modelInstance:t})),n.createElement(ra.a.Column,{width:8},n.createElement(Vl,{fieldKey:"powerType",currentValue:a,items:Ue.powerType.enumerations,clickHandler:l}),n.createElement(Vl,{fieldKey:"phase",currentValue:r,items:Ue.phase.enumerations,clickHandler:i}),n.createElement(Vl,{fieldKey:"hasMotor",currentValue:o,items:Ue.hasMotor.enumerations,itemDisplayFn:re,clickHandler:c}),n.createElement(Hl,{fieldKey:"powerFactor",modelInstance:t}),n.createElement(Hl,{fieldKey:"dutyCycleDerateFactor",modelInstance:t}))),n.createElement(ra.a.Row,null,n.createElement(ra.a.Column,{width:4},"File Upload Warnings"),n.createElement(ra.a.Column,{width:12},n.createElement(Pl,{fileImportErrors:u,level:"warning"}))),n.createElement(ra.a.Row,null,n.createElement(ra.a.Column,{width:4},"File Upload Errors"),n.createElement(ra.a.Column,{width:12},n.createElement(Pl,{fileImportErrors:s,level:"error"}))),n.createElement(ra.a.Row,null,n.createElement(ra.a.Column,{width:16},n.createElement(ql,null))))})),Hl=function(e){var t=e.fieldKey,a=e.modelInstance,l=e.type;return n.createElement(ra.a,null,n.createElement(ra.a.Column,{width:8},Ue[t].title," ",n.createElement(wa,{position:"right center",content:Ue[t].description})),n.createElement(ra.a.Column,{width:8},n.createElement(ma,{fieldKey:t,modelInstance:a,type:l})))},Vl=function(e){var t=e.fieldKey,a=e.currentValue,l=e.itemDisplayFn,r=e.items,i=e.clickHandler;return n.createElement(ra.a,null,n.createElement(ra.a.Column,{width:8},Ue[t].title," ",n.createElement(wa,{position:"right center",content:Ue[t].description})),n.createElement(ra.a.Column,{width:8},n.createElement(ia.a,{text:l?String(l(a)):String(a||"")},n.createElement(ia.a.Menu,null,p.a.map(r,function(e){return n.createElement(ia.a.Item,{text:l?l(e):e,value:e,key:e,onClick:i})})))))},Kl=function(e){function t(){var e,a;Object(Yt.a)(this,t);for(var l=arguments.length,r=new Array(l),i=0;i<l;i++)r[i]=arguments[i];return(a=Object(Qt.a)(this,(e=Object(Xt.a)(t)).call.apply(e,[this].concat(r))))._cellRenderer=function(e,t,l){var r=l.columnIndex,i=l.key,o=l.rowIndex,c=l.style,s=a.props.store.viewedAppliance.calculatedApplianceColumns,u=e[r],m=t[r];return 0===o?n.createElement("div",{key:i,style:yn(c,o,"appliance")},u):1===o?n.createElement("div",{key:i,style:yn(c,o,"appliance")},m||"missing"):"datetime"===u?n.createElement("div",{key:i,style:yn(c,o,"appliance")},ye(s[o-2][u])):n.createElement("div",{key:i,style:yn(c,o,"appliance")},s[o-2][u])},a._rowHeight=function(e){return 0===e.index?76:26},a}return Object(Jt.a)(t,e),Object(Zt.a)(t,[{key:"componentDidUpdate",value:function(e){this.multigrid&&this.multigrid.forceUpdateGrids()}},{key:"render",value:function(){var e=this,t=this.props.store.viewedAppliance,a=t.calculatedApplianceColumns,l=t.productionUnitType;if(p.a.isEmpty(t)||p.a.isEmpty(a))return n.createElement(En,null);var r=[["datetime","-"],["dayOfWeek","-"],["hourOfWeek","-"],["month","-"],["hour","-"],["hourOfDay","-"],["kwFactor","-"],["newApplianceLoad","kWh"],["productionUnits",l],["productionUnitsRevenue","$"]],i=p.a.map(r,function(e){return e[0]}),o=p.a.map(r,function(e){return e[1]}),c=p.a.size(a),s=p.a.size(i);return n.createElement("div",{style:{height:"420px"}},n.createElement(ra.a,{style:{marginTop:"10px"}},n.createElement(ra.a.Row,null,n.createElement(ra.a.Column,{width:16},n.createElement(pn.a,null,function(t){t.height;var a=t.width;return n.createElement(pn.b,{ref:function(t){return e.multigrid=t},cellRenderer:e._cellRenderer.bind(null,i,o),columnCount:s,columnWidth:100,fixedColumnCount:2,fixedRowCount:2,height:400,rowCount:c,rowHeight:e._rowHeight,estimatedRowSize:26,width:a,style:{border:"1px solid #d4d4d5"}})})))))}}]),t}(n.Component),Yl=Object(c.b)("store")(Object(c.c)(Kl)),Zl=Object(c.b)("store")(Object(c.c)(function(e){e.store;return n.createElement(Ca.a,null,n.createElement(ra.a,null,n.createElement(ra.a.Row,null,n.createElement(ra.a.Column,{width:8},n.createElement("h3",null,"Appliance File Upload Instructions")),n.createElement(ra.a.Column,{width:8},n.createElement(Xl,null))),n.createElement(ra.a.Row,null,n.createElement(ra.a.Column,{width:16},n.createElement("p",null,"If you want to generate your own appliance usage file, the most pragmatic way would be to download the template and fill in your own kwFactor based on the appliance you are modeling. If you want to generate your own from the source generator, you can run this Jupyter notebook."," ",n.createElement("a",{href:"https://github.com/RadiantLabs/microgrid-appliance-usage-profile-generators",target:"_blank",rel:"noopener noreferrer"},"Microgrid Appliance Usage Profile Generator")),n.createElement("p",null,"What does an uploaded appliance usage file look like?"))),n.createElement(ra.a.Row,null,n.createElement(Ql,null)),n.createElement(ra.a.Row,null,n.createElement(ra.a.Column,{width:16},n.createElement("h3",null,"Column Definitions")))),n.createElement(ra.a,null,n.createElement(Jl,{col:"datetime",def:"Date format in ISO 8601 format, incrementing each hour for 8760 hours in a year."}),n.createElement(Jl,{col:"hour",def:"Hour of the year, ranging from 0 to 8759 (first hour of year starts at zero)."}),n.createElement(Jl,{col:"day",def:"A concatenation of the index of the day of the week (0 through 6) and the first 3 letters of the day of the week name. This is used for analyzing usage by day of week."}),n.createElement(Jl,{col:"hourOfDay",def:"Hour of the day, from 0 to 23"}),n.createElement(Jl,{col:"hourOfWeek",def:"A concatenation of the day column (0mon) and hourOfDay"}),n.createElement(Jl,{col:"kwFactor",def:"The number of minutes an appliance was fully utilized, summed over an hour. If it was running at 50% RPM, the factor for 1 minute is less than if it was at 100% RPM. See the Microgrid Appliance Usage Profile Generator linked to above for more information."})))})),Ql=function(){return n.createElement(ea.a,{compact:!0},n.createElement(ea.a.Header,null,n.createElement(ea.a.Row,null,n.createElement(ea.a.HeaderCell,null,"datetime"),n.createElement(ea.a.HeaderCell,null,"hour"),n.createElement(ea.a.HeaderCell,null,"day"),n.createElement(ea.a.HeaderCell,null,"hourOfDay"),n.createElement(ea.a.HeaderCell,null,"hourOfWeek"),n.createElement(ea.a.HeaderCell,null,"kwFactor"))),n.createElement(ea.a.Body,null,n.createElement(ea.a.Row,null,n.createElement(ea.a.Cell,null,"2018-01-01 00:00:00"),n.createElement(ea.a.Cell,null,"0"),n.createElement(ea.a.Cell,null,"0mon"),n.createElement(ea.a.Cell,null,"0"),n.createElement(ea.a.Cell,null,"0mon_00"),n.createElement(ea.a.Cell,null,"0")),n.createElement(ea.a.Row,null,n.createElement(ea.a.Cell,null,"2018-01-01 01:00:00"),n.createElement(ea.a.Cell,null,"1"),n.createElement(ea.a.Cell,null,"0mon"),n.createElement(ea.a.Cell,null,"1"),n.createElement(ea.a.Cell,null,"0mon_01"),n.createElement(ea.a.Cell,null,"0.0015")),n.createElement(ea.a.Row,null,n.createElement(ea.a.Cell,null,"2018-01-01 02:00:00"),n.createElement(ea.a.Cell,null,"2"),n.createElement(ea.a.Cell,null,"0mon"),n.createElement(ea.a.Cell,null,"2"),n.createElement(ea.a.Cell,null,"0mon_02"),n.createElement(ea.a.Cell,null,"0.04667")),n.createElement(ea.a.Row,null,n.createElement(ea.a.Cell,null,"2018-01-01 03:00:00"),n.createElement(ea.a.Cell,null,"3"),n.createElement(ea.a.Cell,null,"0mon"),n.createElement(ea.a.Cell,null,"3"),n.createElement(ea.a.Cell,null,"0mon_03"),n.createElement(ea.a.Cell,null,"0.00068")),n.createElement(ea.a.Row,null,n.createElement(ea.a.Cell,{colSpan:6,textAlign:"center"},"\u2014 8760 total hours in a year \u2014")),n.createElement(ea.a.Row,null,n.createElement(ea.a.Cell,null,"2018-12-31 23:00:00"),n.createElement(ea.a.Cell,null,"8759"),n.createElement(ea.a.Cell,null,"0mon"),n.createElement(ea.a.Cell,null,"23"),n.createElement(ea.a.Cell,null,"0mon_23"),n.createElement(ea.a.Cell,null,"0"))))},Xl=Object(c.b)("store")(Object(c.c)(function(e){var t=e.store.appliances,a=p.a.find(t,function(e){return"rice_mill_usage_profile_2019-02-16T20:33:55.583-07:00"===e.fileInfo.id});return n.createElement("div",{style:{cursor:"pointer",float:"right"},onClick:Sn.bind(null,a.fileData,"appliance_usage_template.csv")},"Download Appliance Template"," ",n.createElement($t.a.Group,{size:"large"},n.createElement($t.a,{name:"file outline"}),n.createElement($t.a,{corner:"bottom right",name:"arrow circle down",style:{transform:"rotate(90deg)"}})))})),Jl=function(e){var t=e.col,a=e.def;return n.createElement(ra.a.Row,null,n.createElement(ra.a.Column,{width:2},n.createElement("strong",null,t)),n.createElement(ra.a.Column,{width:14},a))},_l=Object(c.b)("store")(Object(c.c)(function(e){var t=e.store.viewedAppliance,a=t.enabled,l=t.toggleAppliance;return n.createElement("div",null,n.createElement("div",null,"Enable Appliance"),n.createElement(ta.a,{toggle:!0,className:"toggleFieldWrapper",style:{marginTop:"6px"},checked:a,onChange:l,label:a?"Enabled":"Disabled"}))})),$l=Object(c.b)("store")(Object(c.c)(function(e){var t=e.store,a=t.viewedAppliance,l=t.deleteApplianceFile,r=a.fileInfo,i=a.label,o=r.isSample,c=r.id;return n.createElement(Ca.a,null,n.createElement(la.a,null,"Danger Zone"),n.createElement(ra.a,null,n.createElement(ra.a.Row,null,n.createElement(ra.a.Column,{width:12},o&&"Delete this sample appliance file. The only way to retrieve this file in the future is delete all data to reset the app. There will be no confirmation.",!o&&"Delete this appliance file. There will be no confirmation."),n.createElement(ra.a.Column,{width:4},n.createElement(Bt.a,{basic:!0,compact:!0,color:"red",floated:"right",style:{marginTop:"-8px"},onClick:l.bind(null,c)},"Delete ",i)))))})),er=Object(c.b)("store")(Object(c.c)(function(e){var t=e.store,a=t.viewedAppliance,l=a.fileIsSelected,r=a.isAnalyzingFile,i=a.handleApplianceFileUpload,o=a.fileReadyToSave,c=a.fileImportErrors,s=t.saveStagedAppliance,u=t.cancelStagedAppliance;return n.createElement("div",null,n.createElement(la.a,{as:"h2",attached:"top",style:{paddingBottom:"18px"}},!l&&n.createElement(xl,{content:"Upload & Analyze Appliance File",icon:"upload",size:"tiny",color:"blue",floated:"right",onSelect:i,basic:!0}),l&&n.createElement(n.Fragment,null,n.createElement(Bt.a,{content:"Save Appliance File",icon:"save",size:"tiny",color:"blue",floated:"right",disabled:!o,onClick:s,basic:!0}),n.createElement(Bt.a,{floated:"right",basic:!0,size:"tiny",onClick:u},n.createElement($t.a,{name:"cancel"}),"Cancel"),!p.a.isEmpty(c)&&n.createElement(n.Fragment,null,n.createElement("div",{className:"saveFileMessageErrorStyle"},"Resolve errors with the imported file before saving"),n.createElement("br",null)),!o&&n.createElement("div",{className:"saveFileMessageStyle"},"Fill out all fields before saving file")),"Add Appliance File",r&&n.createElement(la.a.Subheader,{style:{display:"inline-block",marginLeft:"1rem"}},"Analyzing File ",n.createElement(_t.a,{active:!0,inline:!0,size:"tiny"}))))})),tr=function(e){function t(){return Object(Yt.a)(this,t),Object(Qt.a)(this,Object(Xt.a)(t).apply(this,arguments))}return Object(Jt.a)(t,e),Object(Zt.a)(t,[{key:"render",value:function(){var e=this.props.store,t=e.viewedApplianceIsStaged,a=e.viewedAppliance;if(p.a.isEmpty(a))return n.createElement("h3",null,"Empty Viewed Appliance");var l=a.label,r=a.description,i=a.enabled,o=a.showAnalyzedResults;return n.createElement("div",null,t&&n.createElement(er,null),!t&&n.createElement(Ca.a,{attached:"top",className:i?"activeFileBorderNoBottom":null},n.createElement(ra.a,null,n.createElement(ra.a.Column,{floated:"left",width:12},n.createElement(la.a,{as:"h2"},l,n.createElement(la.a.Subheader,null,r))),n.createElement(ra.a.Column,{floated:"right",width:4},n.createElement(_l,null)))),!o&&n.createElement(wl.a,{warning:!0},n.createElement("p",null,"This app is in beta. You may have to re-upload files in the future when we update this app. Make sure to keep copies of your files.")),o&&n.createElement(n.Fragment,null,n.createElement(Ca.a,{attached:!0,className:i?"activeFileBorderNoTop":null},n.createElement(Nl,null)),n.createElement(Yl,null),!t&&n.createElement($l,null)),!o&&n.createElement(Zl,null))}}]),t}(n.Component),ar=Object(c.b)("store")(Object(c.c)(tr)),nr={background:"none #fff",border:"1px solid rgba(34,36,38,.15)",color:"rgba(0,0,0,.87)",boxShadow:"none",marginTop:"1px"},lr=function(e){function t(){var e,a;Object(Yt.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(Qt.a)(this,(e=Object(Xt.a)(t)).call.apply(e,[this].concat(l)))).handleAddFileClick=function(e,t){e.preventDefault(),a.props.store.createStagedAppliance(),a.props.store.setViewedApplianceId("staged")},a.handleFileNavClick=function(e,t){t.preventDefault(),a.props.store.setViewedApplianceId(e)},a}return Object(Jt.a)(t,e),Object(Zt.a)(t,[{key:"render",value:function(){var e=this,t=this.props.store,a=t.viewedApplianceId,l=t.appliances,r=t.viewedApplianceIsStaged,i=p.a.isEmpty(a);return n.createElement(ra.a,{padded:!0},n.createElement(ra.a.Row,null,n.createElement(ra.a.Column,{width:4},n.createElement(Gt.a,{vertical:!0,fluid:!0},n.createElement(Gt.a.Item,{name:"Add Appliance Usage File",active:r,onClick:this.handleAddFileClick},"Add Appliance Usage File",n.createElement(Bt.a,{icon:!0,floated:"right",basic:!0,compact:!0,size:"small",style:{marginTop:"-7px",marginRight:"-9px"}},n.createElement($t.a,{name:"plus",color:"blue"})))),n.createElement(Gt.a,{vertical:!0,fluid:!0},p.a.map(l,function(t){var l=t.fileInfo,r=t.description,i=t.label,o=t.enabled;return n.createElement(Gt.a.Item,{key:l.id,name:i,style:{minHeight:"60px"},active:a===l.id,onClick:e.handleFileNavClick.bind(null,l.id)},n.createElement(la.a,{sub:!0},i),n.createElement(wa,{content:n.createElement(La,{file:t}),position:"right center",wide:!0}),n.createElement("p",{style:{marginBottom:0,fontSize:"0.9em",fontWeight:300}},r),(l.isSample||o)&&n.createElement(sa.a,{basic:!0,attached:"top right",size:"mini",style:nr,color:o?"blue":null},o&&"Enabled",l.isSample&&o&&", ",l.isSample&&"Sample"))}))),n.createElement(ra.a.Column,{width:12},i?n.createElement(ir,null):n.createElement(ar,null))))}}]),t}(n.Component),rr=Object(c.b)("store")(Object(c.c)(lr)),ir=function(){return F("Hit ApplianceFileBlankState which probably shouldnt happen"),n.createElement("div",null,n.createElement(la.a,{as:"h3"},"Appliance File Management"),n.createElement(Ra.a,{size:"large",bulleted:!0},n.createElement(Ra.a.Item,null,"Add a new Appliance file"),n.createElement(Ra.a.Item,null,"View, edit or delete your existing Appliance files")),n.createElement("p",null,"Click on the menu on the left to do any of these tasks"))},or=a(887),cr=Object(c.b)("store")(Object(c.c)(function(e){var t=e.store,a=t.fileImportWarningIsActive,l=t.closeFileImportWarningModal,r=t.clearAppState;return n.createElement(or.a,{open:a},n.createElement(or.a.Header,null,"Unable to Upload File"),n.createElement(or.a.Content,null,n.createElement("p",null,"This is most likely due to your browser ran out of room to store files. If that's the case, you'll need to delete other files to make room."),n.createElement("p",null,"Unfortunately, the browser doesn't give us a reason for this error. And every browser has different storage limits, so we can't warn you when you are getting close to the limit."),n.createElement("p",null,"The file you tried to upload was not saved. Close this window and delete unused HOMER or Appliance files and try again. Sorry for the inconvenience."),n.createElement("p",null,n.createElement(Bt.a,{basic:!0,compact:!0,color:"blue",onClick:l},"Go Back And Delete Other Files")),n.createElement(tl.a,null),n.createElement(Ca.a,null,n.createElement(la.a,null,"Danger Zone"),n.createElement("p",null,"You can choose to delete all files you've uploaded and start the app over in a fresh state. Clicking this button will delete all of the files you've updated and any edits you've made to this app. ",n.createElement("strong",null,"Deleting all data is not reversible.")),n.createElement(Bt.a,{basic:!0,compact:!0,color:"red",animated:"fade",onClick:r},n.createElement(Bt.a.Content,{visible:!0},"Delete All Data"),n.createElement(Bt.a.Content,{hidden:!0},"Are you sure?")))))})),sr=function(){return n.createElement("div",null,n.createElement(cr,null),n.createElement(Gt.a,{secondary:!0,pointing:!0},n.createElement(Gt.a.Item,{as:Nt,to:"/files/homer",name:"HOMER Grid Files"}),n.createElement(Gt.a.Item,{as:Nt,to:"/files/appliance",name:"Appliance Files"})),n.createElement("div",null,n.createElement(o.a,{exact:!0,path:"/files/",component:zl}),n.createElement(o.a,{exact:!0,path:"/files/homer",component:zl}),n.createElement(o.a,{exact:!0,path:"/files/appliance",component:rr})))},ur=Object(c.b)("store")(Object(c.c)(function(e){var t=e.store.saveSnapshot;return n.createElement(ra.a,{padded:!0},n.createElement(ra.a.Row,null,n.createElement(ra.a.Column,{width:12},n.createElement(la.a,{as:"h2",image:!0},n.createElement(la.a.Content,null,"Save a Snapshot",n.createElement(la.a.Subheader,null,"Save the current state of the application, including selector HOMER and appliance files, ancillary equipment and model inputs (we save everything).")))),n.createElement(ra.a.Column,{width:4},n.createElement(Bt.a,{basic:!0,compact:!0,floated:"right",color:"blue",onClick:t,style:{verticalAlign:"top",marginLeft:"1rem",marginTop:"4px"}},n.createElement($t.a,{name:"camera"}),"Save Snapshot"))),n.createElement(la.a,{as:"h2",image:!0},n.createElement(la.a.Content,null,"Revert to a Snapshot",n.createElement(la.a.Subheader,null,"If your current state is important, save a snapshot before reverting to an older snapshot."))),n.createElement(ea.a,{basic:"very",celled:!0,collapsing:!0,selectable:!0},n.createElement(ea.a.Header,null,n.createElement(ea.a.Row,null,n.createElement(ea.a.HeaderCell,null),n.createElement(ea.a.HeaderCell,null,"Name"),n.createElement(ea.a.HeaderCell,null,"Description"),n.createElement(ea.a.HeaderCell,null,"Date"),n.createElement(ea.a.HeaderCell,null,"Time"),n.createElement(ea.a.HeaderCell,null,"HOMER File"),n.createElement(ea.a.HeaderCell,null,"Appliance File"),n.createElement(ea.a.HeaderCell,null,"Ancillary Equipment"),n.createElement(ea.a.HeaderCell,null))),n.createElement(ea.a.Body,null,n.createElement(ea.a.Row,null,n.createElement(ea.a.Cell,null,n.createElement(Bt.a,{icon:!0,basic:!0,size:"small",color:"blue"},"Revert")),n.createElement(ea.a.Cell,null,"Final Snapshot"),n.createElement(ea.a.Cell,null,"This contains the best settings"),n.createElement(ea.a.Cell,null,"Jan 15, 2019"),n.createElement(ea.a.Cell,null,"8:03am (MST)"),n.createElement(ea.a.Cell,null,"12-50 Oversize 20"),n.createElement(ea.a.Cell,null,"Rice Mill (Tanzania)"),n.createElement(ea.a.Cell,null,"AC to DC Power Converter, Direct On-line Starter"),n.createElement(ea.a.Cell,null,n.createElement(Bt.a,{icon:!0,basic:!0,size:"small",color:"red"},"Delete"))))))})),mr=a(884),pr=a(900),dr=function(e){function t(){var e,a;Object(Yt.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(Qt.a)(this,(e=Object(Xt.a)(t)).call.apply(e,[this].concat(l)))).state={visible:!1},a.handleSubmit=function(){var e=a.state,t=e.name,n=e.email;a.props.store.saveUserInfo(t,n)},a.toggleDebugVisibility=function(){return a.setState({visible:!a.state.visible})},a}return Object(Jt.a)(t,e),Object(Zt.a)(t,[{key:"render",value:function(){var e=this.state.visible,t=this.props.store,a=t.userName,n=t.userEmail,r=t.saveUserInfo,i=t.handleUserInfoChange;return l.a.createElement(mr.a,null,l.a.createElement(Ca.a,null,l.a.createElement(la.a,null,"User Profile"),l.a.createElement("p",null,"Fill out your name and email address. We track errors in the system and if there are errors we would like help reproducing, we may reach out to you."),l.a.createElement("p",null,"This is completely optional."),l.a.createElement(aa.a,{onSubmit:r,autoComplete:"off"},l.a.createElement(aa.a.Input,{name:"userName",value:a||"",onChange:i,label:"Name",placeholder:"Name"}),l.a.createElement(aa.a.Input,{name:"userEmail",value:n||"",onChange:i,label:"Email",placeholder:"Email"}),l.a.createElement(aa.a.Button,{basic:!0,color:"blue",content:"Save"}))),l.a.createElement(yr,null),l.a.createElement(fr,null),l.a.createElement(Ca.a,null,l.a.createElement(ra.a,null,l.a.createElement(ra.a.Row,null,l.a.createElement(ra.a.Column,{width:12},l.a.createElement(la.a,{as:"h5"},"Debugging"),l.a.createElement("p",null,"Only use this section if asked to by developers who are debugging the app.")),l.a.createElement(ra.a.Column,{width:4},l.a.createElement(Bt.a,{basic:!0,content:e?"Hide Debug Info":"Show Debug Info",onClick:this.toggleDebugVisibility}))),l.a.createElement(ra.a.Row,null,l.a.createElement(ra.a.Column,{width:16},l.a.createElement(pr.a,{visible:e,animation:"scale",duration:100},l.a.createElement(Bt.a,{content:"Send Test Error",basic:!0,onClick:function(){F("Error from Throw Test Error Button")}})))))))}}]),t}(n.Component),Er=Object(c.b)("store")(Object(c.c)(dr)),yr=Object(c.b)("store")(Object(c.c)(function(e){var t=e.store.refreshApp;return l.a.createElement(Ca.a,null,l.a.createElement(la.a,null,"Danger Zone"),l.a.createElement(ra.a,null,l.a.createElement(ra.a.Row,null,l.a.createElement(ra.a.Column,{width:12},l.a.createElement("p",null,"Refresh the app. This may be useful if there are problems or to see app updates. Any unsaved changes will be lost.")),l.a.createElement(ra.a.Column,{width:4},l.a.createElement(Bt.a,{basic:!0,compact:!0,color:"blue",onClick:t},"Refresh App")))))})),fr=Object(c.b)("store")(Object(c.c)(function(e){var t=e.store.clearAppState;return l.a.createElement(Ca.a,null,l.a.createElement(la.a,null,"Danger Zone"),l.a.createElement(ra.a,null,l.a.createElement(ra.a.Row,null,l.a.createElement(ra.a.Column,{width:12},l.a.createElement("p",null,"You can choose to delete all files you've uploaded and start the app over in a fresh state."),l.a.createElement("p",null,"Clicking this button will delete all of the files you've updated and any edits you've made to this app. Username and email will not be deleted but you can delete those above."),l.a.createElement("p",null,l.a.createElement("strong",null,"Deleting all data is not reversible."))),l.a.createElement(ra.a.Column,{width:4},l.a.createElement(Bt.a,{basic:!0,compact:!0,color:"red",animated:"fade",onClick:t},l.a.createElement(Bt.a.Content,{visible:!0},"Delete All Data"),l.a.createElement(Bt.a.Content,{hidden:!0},"Are you sure?"))))))})),hr=function(e){var t=e.match;return console.log("match: ",t),n.createElement(Ca.a,null,n.createElement("h2",null,"Page Not Found"))},gr=Object(c.b)("store")(Object(c.c)(function(e){var t=e.store,a=t.clearAppState,l=t.appIsSavedTimestamp;return n.createElement("div",{className:"main-wrapper",style:{padding:"20px"}},n.createElement(ra.a,null,n.createElement(ra.a.Row,null,n.createElement(ra.a.Column,{width:16},n.createElement("h3",null,"Debug"),n.createElement("p",null,"Sorry for the problems...."),n.createElement("p",null,"Last Saved Version Found: ",ne(l)),n.createElement("p",null,"Delete locally saved app state:"," ",n.createElement(Bt.a,{content:"Delete Local Data",icon:"delete",color:"red",compact:!0,onClick:a,basic:!0,style:{marginLeft:"10px"}})))),n.createElement(ra.a.Row,null)))})),br=(a(861),function(){return n.createElement(c.a,{store:Wt},n.createElement(o.b,{history:it},n.createElement(Kt,null),n.createElement("div",{className:"main-wrapper"},n.createElement(o.c,null,n.createElement(o.a,{path:"/",exact:!0,component:pl}),n.createElement(o.a,{path:"/tool",component:pl}),n.createElement(o.a,{path:"/snapshots",component:ur}),n.createElement(o.a,{path:"/files",component:sr}),n.createElement(o.a,{path:"/about",component:Cl}),n.createElement(o.a,{path:"/debug",component:gr}),n.createElement(o.a,{path:"/profile",component:Er}),n.createElement(o.a,{component:hr})))))});a(862),a(863),a(864);i.a.render(l.a.createElement(br,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[489,1,2]]]);
//# sourceMappingURL=main.aab7adcd.chunk.js.map